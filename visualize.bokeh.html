<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Use bokeh to do visualize">
<meta name="keywords" content=" fastai">
<title>Visualize Bokeh | dataer_tool</title>
<link rel="stylesheet" href="/assets/css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="assets//css/bootstrap.min.css">-->
<link rel="stylesheet" href="/assets/css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="/assets/css/customstyles.css">
<link rel="stylesheet" href="/assets/css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="/assets/css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/assets/js/jquery.navgoco.min.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  renderMathInElement( document.body, {
    delimiters: [
      {left: "$$", right: "$$", display: true},
      {left: "[%", right: "%]", display: true},
      {left: "$", right: "$", display: false}
    ]}
  );
});
</script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="/assets/js/toc.js"></script>
<script src="/assets/js/customscripts.js"></script>

<link rel="shortcut icon" href="/assets/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="dataer_tool" href="/feed.xml">

<!-- Twitter cards -->



<meta name="twitter:description" content="Use bokeh to do visualize">



<meta name="twitter:card"  content="summary">


<!-- end of Twitter cards -->





    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

            // activate menu items where href is matching to current page
            $("#mysidebar a[href='" + location.pathname.match(/(\/[^\/]*)$/)[1] + "']")
                .parents('li').addClass('active')
                .parents('ul').css('display', 'block');
        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="/">&nbsp;<span class="projectTitle">dataer_tool</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/JunxinGao/dataer_tool/tree/master/" target="_blank">github</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                
                
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                


<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
  <li>
      <a href="#">dataer_tool</a>
      <ul>
          
          
          
          <li><a href="/">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/core.html">Core</a></li>
          
          
          
          
          
          
          <li><a href="/utils.html">Utils</a></li>
          
          
          
          
          
          
          <li><a href="/visualize.bokeh.html">Visualize Bokeh</a></li>
          
          
          
          
          
          
          <li><a href="/simulate.user.html">Simulate User</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
    <a id="Visualize Bokeh"></a>
    <h1 class="post-title-main">Visualize Bokeh</h1>
    
        
    </div>



<div class="post-content">

   
    <div class="summary">Use bokeh to do visualize</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

   <!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/01_visualize.bokeh.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="count2colors" class="doc_header"><code>count2colors</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L27" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>count2colors</code>(<strong><code>count</code></strong>:<code>int</code>)</p>
</blockquote>
<p>colors from <code>bokeh.palettes</code>
range:
    1:12    -&gt; Spectral,
    12:21   -&gt; Category20,
    21:257  -&gt; Viridis256,
    257:769 -&gt; Turbo256+Cividis256+Viridis256</p>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">count2colors</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2021-08-31 08:54:44.274 | ERROR    | __main__:&lt;module&gt;:4 - Invalid count=-1, must &gt; 0
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">count2colors</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;#66c2a5&#39;, &#39;#fc8d62&#39;, &#39;#8da0cb&#39;, &#39;#e78ac3&#39;, &#39;#a6d854&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">count2colors</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;#1f77b4&#39;,
 &#39;#aec7e8&#39;,
 &#39;#ff7f0e&#39;,
 &#39;#ffbb78&#39;,
 &#39;#2ca02c&#39;,
 &#39;#98df8a&#39;,
 &#39;#d62728&#39;,
 &#39;#ff9896&#39;,
 &#39;#9467bd&#39;,
 &#39;#c5b0d5&#39;,
 &#39;#8c564b&#39;,
 &#39;#c49c94&#39;,
 &#39;#e377c2&#39;,
 &#39;#f7b6d2&#39;,
 &#39;#7f7f7f&#39;,
 &#39;#c7c7c7&#39;,
 &#39;#bcbd22&#39;,
 &#39;#dbdb8d&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">count2colors</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2021-08-31 08:54:45.233 | ERROR    | __main__:&lt;module&gt;:4 - Invalid count=1000, must &lt;= 768
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="bar_figure" class="doc_header"><code>bar_figure</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L54" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>bar_figure</code>(<strong><code>data</code></strong>:<code>dict</code>, <strong><code>title</code></strong>=<em><code>'统计'</code></em>, <strong><code>with_label</code></strong>=<em><code>True</code></em>, <strong><code>y_log_multiple_thresh</code></strong>=<em><code>1000</code></em>, <strong><code>eps</code></strong>=<em><code>0.1</code></em>, <strong><code>hide_legend</code></strong>=<em><code>False</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>legend_orientation</code></strong>=<em><code>'vertical'</code></em>, <strong><code>legend_location</code></strong>=<em><code>'top_right'</code></em>, <strong><code>vertical_bar</code></strong>=<em><code>True</code></em>, <strong><code>xaxis_major_label_orientation</code></strong>=<em><code>0.39269908169872414</code></em>, <strong><code>label_angle</code></strong>=<em><code>0</code></em>, <strong><code>bar_width</code></strong>=<em><code>0.8</code></em>, <strong><code>draw_line_circle</code></strong>=<em><code>False</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>x_axis_label</code></strong>=<em><code>None</code></em>, <strong><code>y_axis_label</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">output_notebook</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

    <div class="bk-root">
        <a href="https://bokeh.org" target="_blank" class="bk-logo bk-logo-small bk-logo-notebook"></a>
        <span id="1002">Loading BokehJS ...</span>
    </div>
</div>

</div>

<div class="output_area">




<div id="de610ac7-7982-4ad8-a48c-5ac94336ffbe"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#de610ac7-7982-4ad8-a48c-5ac94336ffbe');

(function(root) {
  function now() {
    return new Date();
  }

  var force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

  var JS_MIME_TYPE = 'application/javascript';
  var HTML_MIME_TYPE = 'text/html';
  var EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  var CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    var script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    var cell = handle.cell;

    var id = cell.output_area._bokeh_element_id;
    var server_id = cell.output_area._bokeh_server_id;
    // Clean up Bokeh references
    if (id != null && id in Bokeh.index) {
      Bokeh.index[id].model.document.clear();
      delete Bokeh.index[id];
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      var cmd = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd, {
        iopub: {
          output: function(msg) {
            var id = msg.content.text.trim();
            if (id in Bokeh.index) {
              Bokeh.index[id].model.document.clear();
              delete Bokeh.index[id];
            }
          }
        }
      });
      // Destroy server and session
      var cmd = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    var output_area = handle.output_area;
    var output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    var toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      var bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      var script_attrs = bk_div.children[0].attributes;
      for (var i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      var toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      var props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    var events = require('base/js/events');
    var OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }

  
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  var NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded() {
    var el = document.getElementById("1002");
    if (el != null) {
      el.textContent = "BokehJS is loading...";
    }
    if (root.Bokeh !== undefined) {
      if (el != null) {
        el.textContent = "BokehJS " + root.Bokeh.version + " successfully loaded.";
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(display_loaded, 100)
    }
  }


  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    const hashes = {"https://cdn.bokeh.org/bokeh/release/bokeh-2.3.3.min.js": "dM3QQsP+wXdHg42wTqW85BjZQdLNNIXqlPw/BgKoExPmTG7ZLML4EGqLMfqHT6ON", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.3.3.min.js": "8x57I4YuIfu8XyZfFo0XVr2WAT8EK4rh/uDe3wF7YuW2FNUSNEpJbsPaB1nJ2fz2", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.3.min.js": "3QTqdz9LyAm2i0sG5XTePsHec3UHWwVsrOL68SYRoAXsafvfAyqtQ+h440+qIBhS"};

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      if (url in hashes) {
        element.crossOrigin = "anonymous";
        element.integrity = "sha384-" + hashes[url];
      }
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  
  var js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-2.3.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.3.3.min.js"];
  var css_urls = [];
  

  var inline_js = [
    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
    function(Bokeh) {
    
    
    }
  ];

  function run_inline_js() {
    
    if (root.Bokeh !== undefined || force === true) {
      
    for (var i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }
    if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      var cell = $(document.getElementById("1002")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }

  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
    <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">bar_figure</span><span class="p">(</span><span class="n">test_data</span><span class="p">,</span> <span class="n">label_angle</span><span class="o">=</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="n">draw_line_circle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="cc5b8d1d-ed29-46d6-81c8-82a367192736" data-root-id="1004"></div>

</div>

</div>

<div class="output_area">




<div id="68b77b3e-278b-4ae6-8280-a256803a9ccf"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#68b77b3e-278b-4ae6-8280-a256803a9ccf');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"ceb100cb-20ec-46e7-8ed2-06e347b95e77":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"1015"}],"center":[{"id":"1017"},{"id":"1021"},{"id":"1043"},{"id":"1045"}],"left":[{"id":"1018"}],"renderers":[{"id":"1032"},{"id":"1050"},{"id":"1055"}],"title":{"id":"1005"},"toolbar":{"id":"1025"},"toolbar_location":"above","x_range":{"id":"1007"},"x_scale":{"id":"1011"},"y_range":{"id":"1009"},"y_scale":{"id":"1013"}},"id":"1004","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1011","type":"CategoricalScale"},{"attributes":{"axis_label":null,"formatter":{"id":"1038"},"major_label_orientation":0.39269908169872414,"major_label_policy":{"id":"1039"},"ticker":{"id":"1016"}},"id":"1015","type":"CategoricalAxis"},{"attributes":{"items":[{"id":"1044"}]},"id":"1043","type":"Legend"},{"attributes":{"angle":{"value":0.39269908169872414},"level":"glyph","source":{"id":"1003"},"text":{"field":"y"},"text_font_size":{"value":"9pt"},"x":{"field":"x"},"x_offset":{"value":-8},"y":{"field":"y"},"y_offset":{"value":2}},"id":"1045","type":"LabelSet"},{"attributes":{"bottom":{"value":0.1},"fill_color":{"field":"color"},"line_color":{"field":"color"},"top":{"field":"y"},"width":{"value":0.8},"x":{"field":"x"}},"id":"1030","type":"VBar"},{"attributes":{"axis_label":null,"formatter":{"id":"1035"},"major_label_policy":{"id":"1036"},"ticker":{"id":"1019"}},"id":"1018","type":"LinearAxis"},{"attributes":{"data":{"color":["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],"x":["A","B","C","D"],"y":[10000,1000,100,10]},"selected":{"id":"1042"},"selection_policy":{"id":"1041"}},"id":"1003","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"1015"},"grid_line_color":null,"ticker":null},"id":"1017","type":"Grid"},{"attributes":{"active_multi":null,"tools":[{"id":"1022"},{"id":"1023"},{"id":"1024"}]},"id":"1025","type":"Toolbar"},{"attributes":{"axis":{"id":"1018"},"dimension":1,"ticker":null},"id":"1021","type":"Grid"},{"attributes":{},"id":"1019","type":"BasicTicker"},{"attributes":{},"id":"1024","type":"PanTool"},{"attributes":{},"id":"1023","type":"ResetTool"},{"attributes":{"line_alpha":0.1,"line_color":"#4292c6","x":{"field":"x"},"y":{"field":"y"}},"id":"1049","type":"Line"},{"attributes":{},"id":"1022","type":"SaveTool"},{"attributes":{"text":"\u7edf\u8ba1"},"id":"1005","type":"Title"},{"attributes":{"label":{"field":"x"},"renderers":[{"id":"1032"}]},"id":"1044","type":"LegendItem"},{"attributes":{},"id":"1042","type":"Selection"},{"attributes":{},"id":"1036","type":"AllLabels"},{"attributes":{},"id":"1039","type":"AllLabels"},{"attributes":{},"id":"1035","type":"BasicTickFormatter"},{"attributes":{"source":{"id":"1003"}},"id":"1056","type":"CDSView"},{"attributes":{},"id":"1041","type":"UnionRenderers"},{"attributes":{},"id":"1038","type":"CategoricalTickFormatter"},{"attributes":{"fill_color":{"value":"white"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1053","type":"Circle"},{"attributes":{"data_source":{"id":"1003"},"glyph":{"id":"1030"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1031"},"view":{"id":"1033"}},"id":"1032","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1054","type":"Circle"},{"attributes":{"bottom":{"value":0.1},"fill_alpha":{"value":0.1},"fill_color":{"field":"color"},"line_alpha":{"value":0.1},"line_color":{"field":"color"},"top":{"field":"y"},"width":{"value":0.8},"x":{"field":"x"}},"id":"1031","type":"VBar"},{"attributes":{"data_source":{"id":"1003"},"glyph":{"id":"1053"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1054"},"view":{"id":"1056"}},"id":"1055","type":"GlyphRenderer"},{"attributes":{"line_color":"#4292c6","x":{"field":"x"},"y":{"field":"y"}},"id":"1048","type":"Line"},{"attributes":{},"id":"1009","type":"DataRange1d"},{"attributes":{},"id":"1013","type":"LinearScale"},{"attributes":{"factors":["A","B","C","D"]},"id":"1007","type":"FactorRange"},{"attributes":{"source":{"id":"1003"}},"id":"1033","type":"CDSView"},{"attributes":{"data_source":{"id":"1003"},"glyph":{"id":"1048"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1049"},"view":{"id":"1051"}},"id":"1050","type":"GlyphRenderer"},{"attributes":{},"id":"1016","type":"CategoricalTicker"},{"attributes":{"source":{"id":"1003"}},"id":"1051","type":"CDSView"}],"root_ids":["1004"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"ceb100cb-20ec-46e7-8ed2-06e347b95e77","root_ids":["1004"],"roots":{"1004":"cc5b8d1d-ed29-46d6-81c8-82a367192736"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">88</span><span class="p">,</span>
    <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">bar_figure</span><span class="p">(</span><span class="n">test_data</span><span class="p">,</span> <span class="n">vertical_bar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="0ab59d96-aeca-4713-9a41-45bf70bd0d89" data-root-id="1112"></div>

</div>

</div>

<div class="output_area">




<div id="53746d24-82e6-4d1e-b693-990b2ea1bc73"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#53746d24-82e6-4d1e-b693-990b2ea1bc73');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"14c6cd29-793f-4858-b541-1c0e72dd74df":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"1123"}],"center":[{"id":"1126"},{"id":"1129"},{"id":"1151"},{"id":"1153"}],"left":[{"id":"1127"}],"renderers":[{"id":"1140"}],"title":{"id":"1113"},"toolbar":{"id":"1133"},"toolbar_location":"above","x_range":{"id":"1115"},"x_scale":{"id":"1119"},"y_range":{"id":"1117"},"y_scale":{"id":"1121"}},"id":"1112","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1144","type":"AllLabels"},{"attributes":{"text":"\u7edf\u8ba1"},"id":"1113","type":"Title"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"color"},"height":{"value":0.8},"line_alpha":{"value":0.1},"line_color":{"field":"color"},"right":{"field":"y"},"y":{"field":"x"}},"id":"1139","type":"HBar"},{"attributes":{},"id":"1115","type":"DataRange1d"},{"attributes":{},"id":"1121","type":"CategoricalScale"},{"attributes":{"axis_label":null,"formatter":{"id":"1146"},"major_label_orientation":0.39269908169872414,"major_label_policy":{"id":"1147"},"ticker":{"id":"1124"}},"id":"1123","type":"LinearAxis"},{"attributes":{"active_multi":null,"tools":[{"id":"1130"},{"id":"1131"},{"id":"1132"}]},"id":"1133","type":"Toolbar"},{"attributes":{"data":{"color":["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],"x":["A","B","C","D"],"y":[100,88,99,10]},"selected":{"id":"1150"},"selection_policy":{"id":"1149"}},"id":"1111","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"1123"},"grid_line_color":null,"ticker":null},"id":"1126","type":"Grid"},{"attributes":{},"id":"1119","type":"LinearScale"},{"attributes":{"factors":["A","B","C","D"]},"id":"1117","type":"FactorRange"},{"attributes":{"source":{"id":"1111"}},"id":"1141","type":"CDSView"},{"attributes":{"axis_label":null,"formatter":{"id":"1143"},"major_label_policy":{"id":"1144"},"ticker":{"id":"1128"}},"id":"1127","type":"CategoricalAxis"},{"attributes":{},"id":"1124","type":"BasicTicker"},{"attributes":{"data_source":{"id":"1111"},"glyph":{"id":"1138"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1139"},"view":{"id":"1141"}},"id":"1140","type":"GlyphRenderer"},{"attributes":{"items":[{"id":"1152"}]},"id":"1151","type":"Legend"},{"attributes":{"fill_color":{"field":"color"},"height":{"value":0.8},"line_color":{"field":"color"},"right":{"field":"y"},"y":{"field":"x"}},"id":"1138","type":"HBar"},{"attributes":{"axis":{"id":"1127"},"dimension":1,"ticker":null},"id":"1129","type":"Grid"},{"attributes":{},"id":"1128","type":"CategoricalTicker"},{"attributes":{"label":{"field":"x"},"renderers":[{"id":"1140"}]},"id":"1152","type":"LegendItem"},{"attributes":{},"id":"1132","type":"PanTool"},{"attributes":{},"id":"1131","type":"ResetTool"},{"attributes":{},"id":"1130","type":"SaveTool"},{"attributes":{},"id":"1149","type":"UnionRenderers"},{"attributes":{},"id":"1147","type":"AllLabels"},{"attributes":{},"id":"1150","type":"Selection"},{"attributes":{},"id":"1146","type":"BasicTickFormatter"},{"attributes":{"level":"glyph","source":{"id":"1111"},"text":{"field":"y"},"text_font_size":{"value":"9pt"},"x":{"field":"y"},"x_offset":{"value":2},"y":{"field":"x"},"y_offset":{"value":-8}},"id":"1153","type":"LabelSet"},{"attributes":{},"id":"1143","type":"CategoricalTickFormatter"}],"root_ids":["1112"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"14c6cd29-793f-4858-b541-1c0e72dd74df","root_ids":["1112"],"roots":{"1112":"0ab59d96-aeca-4713-9a41-45bf70bd0d89"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="line_figure_datetime" class="doc_header"><code>line_figure_datetime</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L98" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>line_figure_datetime</code>(<strong><code>data_list</code></strong>:<code>list</code>, <strong><code>plot_width</code></strong>=<em><code>800</code></em>, <strong><code>plot_height</code></strong>=<em><code>500</code></em>, <strong><code>x_dtype</code></strong>=<em><code>datetime64</code></em>, <strong><code>select_title</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>draw_circle</code></strong>=<em><code>False</code></em>, <strong><code>tooltips_metadata</code></strong>:<code>list</code>=<em><code>None</code></em>, <strong><code>x_name</code></strong>=<em><code>'x'</code></em>, <strong><code>y_name</code></strong>=<em><code>'y'</code></em>, <strong><code>legend_labels</code></strong>:<code>list</code>=<em><code>None</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>use_select_figure</code></strong>=<em><code>True</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>legend_alpha</code></strong>=<em><code>0.8</code></em>, <strong><code>legend_orientation</code></strong>=<em><code>'vertical'</code></em>, <strong><code>legend_location</code></strong>=<em><code>'top_right'</code></em>, <strong><code>y_axis_label</code></strong>=<em><code>None</code></em>, <strong><code>x_axis_label</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.util.sampledata</span> <span class="kn">import</span> <span class="n">_download_file</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="n">dst_data_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span><span class="o">/</span><span class="s1">&#39;.bokeh&#39;</span><span class="o">/</span><span class="s1">&#39;data&#39;</span>
<span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">dst_data_dir</span><span class="o">/</span><span class="s1">&#39;AAPL.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="n">dst_data_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">_download_file</span><span class="p">(</span><span class="s1">&#39;http://sampledata.bokeh.org&#39;</span><span class="p">,</span> <span class="s1">&#39;AAPL.csv&#39;</span><span class="p">,</span> <span class="n">dst_data_dir</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.sampledata.stocks</span> <span class="kn">import</span> <span class="n">AAPL</span>

<span class="n">test_data</span> <span class="o">=</span> <span class="p">{</span> <span class="n">x</span><span class="p">:</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">AAPL</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">][:</span><span class="mi">300</span><span class="p">],</span> <span class="n">AAPL</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">][:</span><span class="mi">300</span><span class="p">])}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">line_figure_datetime</span><span class="p">(</span><span class="n">test_data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;趋势图&quot;</span><span class="p">,</span> <span class="n">draw_circle</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">use_select_figure</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/junxin/.local/lib/python3.8/site-packages/bokeh/models/plots.py:766: UserWarning: 
You are attempting to set `plot.legend.background_fill_alpha` on a plot that has zero legends added, this will have no effect.

Before legend properties can be set, you must add a Legend explicitly, or call a glyph method with a legend parameter set.

  warnings.warn(_LEGEND_EMPTY_WARNING % attr)
/home/junxin/.local/lib/python3.8/site-packages/bokeh/models/plots.py:766: UserWarning: 
You are attempting to set `plot.legend.orientation` on a plot that has zero legends added, this will have no effect.

Before legend properties can be set, you must add a Legend explicitly, or call a glyph method with a legend parameter set.

  warnings.warn(_LEGEND_EMPTY_WARNING % attr)
/home/junxin/.local/lib/python3.8/site-packages/bokeh/models/plots.py:766: UserWarning: 
You are attempting to set `plot.legend.location` on a plot that has zero legends added, this will have no effect.

Before legend properties can be set, you must add a Legend explicitly, or call a glyph method with a legend parameter set.

  warnings.warn(_LEGEND_EMPTY_WARNING % attr)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="c106cefc-0265-41d1-a756-110b56bd7b08" data-root-id="1218"></div>

</div>

</div>

<div class="output_area">




<div id="623aebb2-ef48-414c-a63b-12b857898e89"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#623aebb2-ef48-414c-a63b-12b857898e89');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"ce180f50-427f-49c2-877a-d74837944cba":{"defs":[],"roots":{"references":[{"attributes":{"background_fill_color":"#efefef","below":[{"id":"1229"}],"center":[{"id":"1232"},{"id":"1236"}],"height":325,"left":[{"id":"1233"}],"renderers":[{"id":"1248"}],"title":{"id":"1219"},"toolbar":{"id":"1240"},"toolbar_location":"above","width":800,"x_range":{"id":"1221"},"x_scale":{"id":"1252"},"y_range":{"id":"1223"},"y_scale":{"id":"1227"}},"id":"1218","subtype":"Figure","type":"Plot"},{"attributes":{"days":[1,8,15,22]},"id":"1285","type":"DaysTicker"},{"attributes":{"callback":null,"formatters":{"@{x}":"datetime"},"tooltips":[["x","@{x}{%F}"],["y","@{y}"]]},"id":"1250","type":"HoverTool"},{"attributes":{},"id":"1291","type":"YearsTicker"},{"attributes":{"months":[0,4,8]},"id":"1289","type":"MonthsTicker"},{"attributes":{},"id":"1272","type":"BasicTickFormatter"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1280"},{"id":"1281"},{"id":"1282"},{"id":"1283"},{"id":"1284"},{"id":"1285"},{"id":"1286"},{"id":"1287"},{"id":"1288"},{"id":"1289"},{"id":"1290"},{"id":"1291"}]},"id":"1230","type":"DatetimeTicker"},{"attributes":{},"id":"1273","type":"AllLabels"},{"attributes":{"axis":{"id":"1233"},"dimension":1,"ticker":null},"id":"1236","type":"Grid"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1280","type":"AdaptiveTicker"},{"attributes":{"axis_label":"y","formatter":{"id":"1272"},"major_label_policy":{"id":"1273"},"ticker":{"id":"1234"}},"id":"1233","type":"LinearAxis"},{"attributes":{},"id":"1239","type":"PanTool"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1284","type":"DaysTicker"},{"attributes":{"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1246","type":"Line"},{"attributes":{},"id":"1234","type":"BasicTicker"},{"attributes":{},"id":"1238","type":"ResetTool"},{"attributes":{},"id":"1237","type":"SaveTool"},{"attributes":{"days":[1,15]},"id":"1286","type":"DaysTicker"},{"attributes":{"text":"\u8d8b\u52bf\u56fe"},"id":"1219","type":"Title"},{"attributes":{},"id":"1275","type":"DatetimeTickFormatter"},{"attributes":{},"id":"1276","type":"AllLabels"},{"attributes":{},"id":"1278","type":"UnionRenderers"},{"attributes":{},"id":"1279","type":"Selection"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1281","type":"AdaptiveTicker"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1247","type":"Line"},{"attributes":{"data":{"x":[951868800000.0,951955200000.0,952041600000.0,952300800000.0,952387200000.0,952473600000.0,952560000000.0,952646400000.0,952905600000.0,952992000000.0,953078400000.0,953164800000.0,953251200000.0,953510400000.0,953596800000.0,953683200000.0,953769600000.0,953856000000.0,954115200000.0,954201600000.0,954288000000.0,954374400000.0,954460800000.0,954720000000.0,954806400000.0,954892800000.0,954979200000.0,955065600000.0,955324800000.0,955411200000.0,955497600000.0,955584000000.0,955670400000.0,955929600000.0,956016000000.0,956102400000.0,956188800000.0,956534400000.0,956620800000.0,956707200000.0,956793600000.0,956880000000.0,957139200000.0,957225600000.0,957312000000.0,957398400000.0,957484800000.0,957744000000.0,957830400000.0,957916800000.0,958003200000.0,958089600000.0,958348800000.0,958435200000.0,958521600000.0,958608000000.0,958694400000.0,958953600000.0,959040000000.0,959126400000.0,959212800000.0,959299200000.0,959644800000.0,959731200000.0,959817600000.0,959904000000.0,960163200000.0,960249600000.0,960336000000.0,960422400000.0,960508800000.0,960768000000.0,960854400000.0,960940800000.0,961027200000.0,961113600000.0,961372800000.0,961459200000.0,961545600000.0,961632000000.0,961718400000.0,961977600000.0,962064000000.0,962150400000.0,962236800000.0,962323200000.0,962582400000.0,962755200000.0,962841600000.0,962928000000.0,963187200000.0,963273600000.0,963360000000.0,963446400000.0,963532800000.0,963792000000.0,963878400000.0,963964800000.0,964051200000.0,964137600000.0,964396800000.0,964483200000.0,964569600000.0,964656000000.0,964742400000.0,965001600000.0,965088000000.0,965174400000.0,965260800000.0,965347200000.0,965606400000.0,965692800000.0,965779200000.0,965865600000.0,965952000000.0,966211200000.0,966297600000.0,966384000000.0,966470400000.0,966556800000.0,966816000000.0,966902400000.0,966988800000.0,967075200000.0,967161600000.0,967420800000.0,967507200000.0,967593600000.0,967680000000.0,967766400000.0,968112000000.0,968198400000.0,968284800000.0,968371200000.0,968630400000.0,968716800000.0,968803200000.0,968889600000.0,968976000000.0,969235200000.0,969321600000.0,969408000000.0,969494400000.0,969580800000.0,969840000000.0,969926400000.0,970012800000.0,970099200000.0,970185600000.0,970444800000.0,970531200000.0,970617600000.0,970704000000.0,970790400000.0,971049600000.0,971136000000.0,971222400000.0,971308800000.0,971395200000.0,971654400000.0,971740800000.0,971827200000.0,971913600000.0,972000000000.0,972259200000.0,972345600000.0,972432000000.0,972518400000.0,972604800000.0,972864000000.0,972950400000.0,973036800000.0,973123200000.0,973209600000.0,973468800000.0,973555200000.0,973641600000.0,973728000000.0,973814400000.0,974073600000.0,974160000000.0,974246400000.0,974332800000.0,974419200000.0,974678400000.0,974764800000.0,974851200000.0,975024000000.0,975283200000.0,975369600000.0,975456000000.0,975542400000.0,975628800000.0,975888000000.0,975974400000.0,976060800000.0,976147200000.0,976233600000.0,976492800000.0,976579200000.0,976665600000.0,976752000000.0,976838400000.0,977097600000.0,977184000000.0,977270400000.0,977356800000.0,977443200000.0,977788800000.0,977875200000.0,977961600000.0,978048000000.0,978393600000.0,978480000000.0,978566400000.0,978652800000.0,978912000000.0,978998400000.0,979084800000.0,979171200000.0,979257600000.0,979603200000.0,979689600000.0,979776000000.0,979862400000.0,980121600000.0,980208000000.0,980294400000.0,980380800000.0,980467200000.0,980726400000.0,980812800000.0,980899200000.0,980985600000.0,981072000000.0,981331200000.0,981417600000.0,981504000000.0,981590400000.0,981676800000.0,981936000000.0,982022400000.0,982108800000.0,982195200000.0,982281600000.0,982627200000.0,982713600000.0,982800000000.0,982886400000.0,983145600000.0,983232000000.0,983318400000.0,983404800000.0,983491200000.0,983750400000.0,983836800000.0,983923200000.0,984009600000.0,984096000000.0,984355200000.0,984441600000.0,984528000000.0,984614400000.0,984700800000.0,984960000000.0,985046400000.0,985132800000.0,985219200000.0,985305600000.0,985564800000.0,985651200000.0,985737600000.0,985824000000.0,985910400000.0,986169600000.0,986256000000.0,986342400000.0,986428800000.0,986515200000.0,986774400000.0,986860800000.0,986947200000.0,987033600000.0,987379200000.0,987465600000.0,987552000000.0,987638400000.0,987724800000.0,987984000000.0,988070400000.0,988156800000.0,988243200000.0,988329600000.0,988588800000.0,988675200000.0,988761600000.0,988848000000.0,988934400000.0,989193600000.0,989280000000.0],"y":[130.31,122.0,128.0,125.69,122.87,122.0,122.25,125.75,121.31,114.25,116.25,121.56,125.0,123.0,134.94,144.19,141.31,138.69,139.56,139.13,135.94,125.75,135.81,133.31,127.31,130.38,125.19,131.75,125.0,119.44,109.25,113.81,111.87,123.87,126.87,121.12,118.87,120.5,128.31,121.31,126.75,124.06,124.31,117.87,115.06,110.69,113.12,110.12,105.44,99.31,102.81,107.62,101.0,105.69,101.37,100.75,94.0,89.94,85.81,87.69,87.27,86.37,87.56,84.0,89.12,92.56,91.31,92.87,96.56,94.81,95.75,91.19,94.5,90.44,92.37,91.19,96.62,101.25,55.63,53.75,51.69,54.13,51.75,54.44,51.25,52.38,53.31,51.63,51.81,54.44,57.13,56.94,58.88,56.5,57.69,58.31,57.25,52.69,55.13,53.56,48.69,50.06,50.06,52.0,48.31,50.81,49.31,47.25,48.0,47.38,47.94,46.75,47.5,47.56,47.69,47.06,46.69,48.5,51.44,50.0,50.5,51.69,54.31,56.11,56.81,58.06,59.19,59.5,60.94,63.44,62.44,58.44,62.0,58.88,58.44,57.75,58.0,56.86,55.23,60.66,59.94,61.05,56.69,52.19,53.5,51.44,48.94,53.5,25.75,24.25,22.31,23.62,22.06,22.19,21.75,20.87,19.62,20.0,22.06,21.5,20.12,20.12,18.94,19.5,20.37,18.87,18.5,18.5,18.56,19.31,19.56,20.5,22.31,22.25,21.44,21.31,20.06,20.19,19.06,19.37,20.25,19.87,19.0,18.5,18.94,18.81,18.5,19.31,18.69,18.03,17.56,16.5,17.06,16.69,17.0,14.31,14.31,15.06,15.19,15.38,15.0,14.44,14.06,14.25,14.0,14.38,14.06,15.0,14.69,14.81,14.81,14.88,14.88,16.37,17.06,16.37,16.56,17.19,16.56,18.0,17.19,17.12,16.81,18.69,19.5,19.25,20.5,20.5,19.94,19.56,21.69,21.75,21.62,21.12,20.62,20.19,21.12,20.75,20.75,19.12,19.69,19.12,19.5,20.06,19.0,18.31,18.87,18.81,18.81,19.5,19.37,18.25,18.75,19.25,20.37,21.5,21.25,20.81,20.25,18.62,19.56,20.44,19.69,19.62,20.56,19.69,20.12,21.62,23.0,21.78,22.87,22.17,22.53,22.07,21.59,20.24,19.5,20.87,20.59,20.54,22.04,21.8,22.42,21.44,20.4,22.79,25.72,25.04,24.25,24.03,24.72,24.69,26.2,25.49,25.93,26.59,24.96,25.75,24.96,24.57]},"selected":{"id":"1279"},"selection_policy":{"id":"1278"}},"id":"1244","type":"ColumnDataSource"},{"attributes":{},"id":"1221","type":"DataRange1d"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1283","type":"DaysTicker"},{"attributes":{"data_source":{"id":"1244"},"glyph":{"id":"1246"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1247"},"view":{"id":"1249"}},"id":"1248","type":"GlyphRenderer"},{"attributes":{"axis":{"id":"1229"},"ticker":null},"id":"1232","type":"Grid"},{"attributes":{"source":{"id":"1244"}},"id":"1249","type":"CDSView"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1282","type":"AdaptiveTicker"},{"attributes":{},"id":"1252","type":"LinearScale"},{"attributes":{},"id":"1223","type":"DataRange1d"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1287","type":"MonthsTicker"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1288","type":"MonthsTicker"},{"attributes":{"axis_label":"x","formatter":{"id":"1275"},"major_label_policy":{"id":"1276"},"ticker":{"id":"1230"}},"id":"1229","type":"DatetimeAxis"},{"attributes":{},"id":"1227","type":"LinearScale"},{"attributes":{"active_multi":null,"tools":[{"id":"1237"},{"id":"1238"},{"id":"1239"},{"id":"1250"}]},"id":"1240","type":"Toolbar"},{"attributes":{"months":[0,6]},"id":"1290","type":"MonthsTicker"}],"root_ids":["1218"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"ce180f50-427f-49c2-877a-d74837944cba","root_ids":["1218"],"roots":{"1218":"c106cefc-0265-41d1-a756-110b56bd7b08"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">AAPL</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>dict_keys([&#39;date&#39;, &#39;open&#39;, &#39;high&#39;, &#39;low&#39;, &#39;close&#39;, &#39;volume&#39;, &#39;adj_close&#39;])</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tooltips_metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;体量&#39;</span><span class="p">:</span> <span class="n">AAPL</span><span class="p">[</span><span class="s1">&#39;volume&#39;</span><span class="p">][:</span><span class="mi">300</span><span class="p">]}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">line_figure_datetime</span><span class="p">(</span><span class="n">test_data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;趋势图&quot;</span><span class="p">,</span> <span class="n">draw_circle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">tooltips_metadata</span><span class="o">=</span><span class="n">tooltips_metadata</span><span class="p">,</span> <span class="n">x_name</span><span class="o">=</span><span class="s1">&#39;时间&#39;</span><span class="p">,</span>
                         <span class="n">y_name</span><span class="o">=</span><span class="s1">&#39;价格&#39;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="6284c102-7861-4306-8088-15caa28997a5" data-root-id="1469"></div>

</div>

</div>

<div class="output_area">




<div id="ac51d525-4284-435c-b251-12ee5dee3875"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#ac51d525-4284-435c-b251-12ee5dee3875');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"2d14d286-11da-414f-8407-25f7af597276":{"defs":[],"roots":{"references":[{"attributes":{"children":[{"id":"1397"},{"id":"1423"}]},"id":"1469","type":"Column"},{"attributes":{},"id":"1517","type":"DatetimeTickFormatter"},{"attributes":{},"id":"1518","type":"AllLabels"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1530","type":"MonthsTicker"},{"attributes":{},"id":"1520","type":"UnionRenderers"},{"attributes":{},"id":"1521","type":"Selection"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1529","type":"MonthsTicker"},{"attributes":{"months":[0,4,8]},"id":"1544","type":"MonthsTicker"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1522","type":"AdaptiveTicker"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1523","type":"AdaptiveTicker"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1525","type":"DaysTicker"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1524","type":"AdaptiveTicker"},{"attributes":{"data_source":{"id":"1444"},"glyph":{"id":"1446"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1447"},"view":{"id":"1449"}},"id":"1448","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1447","type":"Line"},{"attributes":{"fill_color":{"value":"white"},"line_color":{"value":"#66c2a5"},"size":{"value":6},"x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1451","type":"Circle"},{"attributes":{},"id":"1533","type":"YearsTicker"},{"attributes":{"line_color":"#66c2a5","x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1446","type":"Line"},{"attributes":{"months":[0,6]},"id":"1545","type":"MonthsTicker"},{"attributes":{"above":[{"id":"1408"}],"background_fill_color":"#efefef","center":[{"id":"1411"},{"id":"1415"}],"height":325,"left":[{"id":"1412"}],"renderers":[{"id":"1448"},{"id":"1453"}],"title":{"id":"1398"},"toolbar":{"id":"1419"},"toolbar_location":"above","width":800,"x_range":{"id":"1463"},"x_scale":{"id":"1462"},"y_range":{"id":"1402"},"y_scale":{"id":"1406"}},"id":"1397","subtype":"Figure","type":"Plot"},{"attributes":{"months":[0,6]},"id":"1532","type":"MonthsTicker"},{"attributes":{"source":{"id":"1444"}},"id":"1449","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1459","type":"Line"},{"attributes":{},"id":"1402","type":"DataRange1d"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1535","type":"AdaptiveTicker"},{"attributes":{"days":[1,15]},"id":"1528","type":"DaysTicker"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1536","type":"AdaptiveTicker"},{"attributes":{"data_source":{"id":"1444"},"glyph":{"id":"1451"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1452"},"view":{"id":"1454"}},"id":"1453","type":"GlyphRenderer"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1538","type":"DaysTicker"},{"attributes":{"background_fill_color":"#efefef","below":[{"id":"1433"}],"center":[{"id":"1436"}],"height":175,"renderers":[{"id":"1460"}],"title":{"id":"1424"},"toolbar":{"id":"1440"},"toolbar_location":"above","width":800,"x_range":{"id":"1426"},"x_scale":{"id":"1429"},"y_range":{"id":"1402"},"y_scale":{"id":"1431"}},"id":"1423","subtype":"Figure","type":"Plot"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"line_color":{"value":"#66c2a5"},"size":{"value":6},"x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1452","type":"Circle"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1537","type":"AdaptiveTicker"},{"attributes":{"overlay":{"id":"1465"},"x_range":{"id":"1463"},"y_range":null},"id":"1464","type":"RangeTool"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1526","type":"DaysTicker"},{"attributes":{"text":"\u8d8b\u52bf\u56fe"},"id":"1398","type":"Title"},{"attributes":{"source":{"id":"1444"}},"id":"1454","type":"CDSView"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1542","type":"MonthsTicker"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1543","type":"MonthsTicker"},{"attributes":{"line_color":"#66c2a5","x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1458","type":"Line"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1539","type":"DaysTicker"},{"attributes":{"months":[0,4,8]},"id":"1531","type":"MonthsTicker"},{"attributes":{"days":[1,15]},"id":"1541","type":"DaysTicker"},{"attributes":{"fill_alpha":0.2,"fill_color":"navy","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[2,2],"line_width":0.5,"syncable":false},"id":"1465","type":"BoxAnnotation"},{"attributes":{},"id":"1437","type":"SaveTool"},{"attributes":{"days":[1,8,15,22]},"id":"1540","type":"DaysTicker"},{"attributes":{"data_source":{"id":"1444"},"glyph":{"id":"1458"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1459"},"view":{"id":"1461"}},"id":"1460","type":"GlyphRenderer"},{"attributes":{},"id":"1546","type":"YearsTicker"},{"attributes":{"source":{"id":"1444"}},"id":"1461","type":"CDSView"},{"attributes":{},"id":"1406","type":"LinearScale"},{"attributes":{"end":975024000000.0,"start":965865600000.0},"id":"1463","type":"Range1d"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1522"},{"id":"1523"},{"id":"1524"},{"id":"1525"},{"id":"1526"},{"id":"1527"},{"id":"1528"},{"id":"1529"},{"id":"1530"},{"id":"1531"},{"id":"1532"},{"id":"1533"}]},"id":"1409","type":"DatetimeTicker"},{"attributes":{"axis_label":"\u4ef7\u683c","formatter":{"id":"1511"},"major_label_policy":{"id":"1512"},"ticker":{"id":"1413"}},"id":"1412","type":"LinearAxis"},{"attributes":{"axis_label":"\u65f6\u95f4","formatter":{"id":"1514"},"major_label_policy":{"id":"1515"},"ticker":{"id":"1409"}},"id":"1408","type":"DatetimeAxis"},{"attributes":{"axis":{"id":"1408"},"ticker":null},"id":"1411","type":"Grid"},{"attributes":{"text":"\u62d6\u52a8\u9009\u62e9 \u65f6\u95f4 \u533a\u95f4"},"id":"1424","type":"Title"},{"attributes":{"days":[1,8,15,22]},"id":"1527","type":"DaysTicker"},{"attributes":{"axis":{"id":"1412"},"dimension":1,"ticker":null},"id":"1415","type":"Grid"},{"attributes":{},"id":"1413","type":"BasicTicker"},{"attributes":{},"id":"1417","type":"ResetTool"},{"attributes":{},"id":"1418","type":"PanTool"},{"attributes":{},"id":"1416","type":"SaveTool"},{"attributes":{},"id":"1438","type":"ResetTool"},{"attributes":{"active_multi":{"id":"1464"},"tools":[{"id":"1437"},{"id":"1438"},{"id":"1439"},{"id":"1464"}]},"id":"1440","type":"Toolbar"},{"attributes":{"callback":null,"formatters":{"@{\u65f6\u95f4}":"datetime"},"tooltips":[["\u65f6\u95f4","@{\u65f6\u95f4}{%F}"],["\u4ef7\u683c","@{\u4ef7\u683c}"],["\u4f53\u91cf","@{\u4f53\u91cf}"]]},"id":"1455","type":"HoverTool"},{"attributes":{},"id":"1462","type":"LinearScale"},{"attributes":{},"id":"1429","type":"LinearScale"},{"attributes":{"active_multi":null,"tools":[{"id":"1416"},{"id":"1417"},{"id":"1418"},{"id":"1455"}]},"id":"1419","type":"Toolbar"},{"attributes":{},"id":"1511","type":"BasicTickFormatter"},{"attributes":{},"id":"1512","type":"AllLabels"},{"attributes":{},"id":"1439","type":"PanTool"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1535"},{"id":"1536"},{"id":"1537"},{"id":"1538"},{"id":"1539"},{"id":"1540"},{"id":"1541"},{"id":"1542"},{"id":"1543"},{"id":"1544"},{"id":"1545"},{"id":"1546"}]},"id":"1434","type":"DatetimeTicker"},{"attributes":{},"id":"1426","type":"DataRange1d"},{"attributes":{"data":{"\u4ef7\u683c":[130.31,122.0,128.0,125.69,122.87,122.0,122.25,125.75,121.31,114.25,116.25,121.56,125.0,123.0,134.94,144.19,141.31,138.69,139.56,139.13,135.94,125.75,135.81,133.31,127.31,130.38,125.19,131.75,125.0,119.44,109.25,113.81,111.87,123.87,126.87,121.12,118.87,120.5,128.31,121.31,126.75,124.06,124.31,117.87,115.06,110.69,113.12,110.12,105.44,99.31,102.81,107.62,101.0,105.69,101.37,100.75,94.0,89.94,85.81,87.69,87.27,86.37,87.56,84.0,89.12,92.56,91.31,92.87,96.56,94.81,95.75,91.19,94.5,90.44,92.37,91.19,96.62,101.25,55.63,53.75,51.69,54.13,51.75,54.44,51.25,52.38,53.31,51.63,51.81,54.44,57.13,56.94,58.88,56.5,57.69,58.31,57.25,52.69,55.13,53.56,48.69,50.06,50.06,52.0,48.31,50.81,49.31,47.25,48.0,47.38,47.94,46.75,47.5,47.56,47.69,47.06,46.69,48.5,51.44,50.0,50.5,51.69,54.31,56.11,56.81,58.06,59.19,59.5,60.94,63.44,62.44,58.44,62.0,58.88,58.44,57.75,58.0,56.86,55.23,60.66,59.94,61.05,56.69,52.19,53.5,51.44,48.94,53.5,25.75,24.25,22.31,23.62,22.06,22.19,21.75,20.87,19.62,20.0,22.06,21.5,20.12,20.12,18.94,19.5,20.37,18.87,18.5,18.5,18.56,19.31,19.56,20.5,22.31,22.25,21.44,21.31,20.06,20.19,19.06,19.37,20.25,19.87,19.0,18.5,18.94,18.81,18.5,19.31,18.69,18.03,17.56,16.5,17.06,16.69,17.0,14.31,14.31,15.06,15.19,15.38,15.0,14.44,14.06,14.25,14.0,14.38,14.06,15.0,14.69,14.81,14.81,14.88,14.88,16.37,17.06,16.37,16.56,17.19,16.56,18.0,17.19,17.12,16.81,18.69,19.5,19.25,20.5,20.5,19.94,19.56,21.69,21.75,21.62,21.12,20.62,20.19,21.12,20.75,20.75,19.12,19.69,19.12,19.5,20.06,19.0,18.31,18.87,18.81,18.81,19.5,19.37,18.25,18.75,19.25,20.37,21.5,21.25,20.81,20.25,18.62,19.56,20.44,19.69,19.62,20.56,19.69,20.12,21.62,23.0,21.78,22.87,22.17,22.53,22.07,21.59,20.24,19.5,20.87,20.59,20.54,22.04,21.8,22.42,21.44,20.4,22.79,25.72,25.04,24.25,24.03,24.72,24.69,26.2,25.49,25.93,26.59,24.96,25.75,24.96,24.57],"\u4f53\u91cf":[38478000,11136800,11565200,7520000,9767600,9690800,9884400,8900800,10864400,15321200,15845200,13516800,10902400,7316400,18729200,20288800,20098000,15962000,9976800,7253600,8568800,14800000,14457600,11742400,23596400,16359200,9290800,8668800,7592400,19368000,33618800,18923600,23845600,14642400,13962400,18586400,25806800,15845600,14002400,13117600,11678000,8932400,8100000,8446400,17500000,14284400,10160000,6605600,11685600,19127600,17852400,10962000,24252000,15736400,14227600,13365600,26459200,26995200,18488000,24248000,14530800,6486400,25481200,15483600,32280000,28336400,11582000,18771200,12056800,8540800,9020000,10374400,12570000,9925200,8898800,10842400,14089200,17922000,17500000,16706200,7320400,6631000,7270600,10235000,7281200,11550000,2535000,9478800,11063800,9422600,14211000,12783200,8057600,15925600,6804400,9289000,11378200,16359600,16631800,7013200,14720600,7567200,7526200,10543800,8505400,5550000,4904600,5808800,12150000,9406800,6697200,6315400,13569000,8995400,8503200,5603400,4089000,5137600,9683400,6798800,4803800,9889000,8470400,11109400,11947800,12822600,9546200,10199600,14988800,9181800,10669000,12700400,7770400,6984400,6699000,6722200,10932600,15241800,14095400,15163200,9706200,8121600,18238400,25961200,15564000,10396600,14370000,34988200,265069000,86610600,72795600,52368200,31189400,21881000,21342600,24683400,42801200,42548200,44564000,29298800,21495600,29803800,53818200,28270400,19694000,28736200,23720600,25780600,26594600,22832800,31649000,20553800,21105400,18423400,14060000,10786800,15082800,17035400,15080600,15423200,14611200,10086600,8554000,15943400,14581600,10786200,10029600,5751800,9244000,9618200,17586200,28922200,13783800,13273400,21932200,49092400,14606600,15568200,11884000,13803400,12327200,9406600,18363800,11645000,13367200,20196200,13102600,11369600,7745400,11626000,10910000,22518800,16161800,29181800,26411000,14731000,13350000,21040600,20743400,28707600,15121000,10940000,30037600,43822800,27748200,18551600,31418400,25616200,17495000,17245600,30562800,24734600,26106000,13205400,15263400,10228800,16528400,14071600,21585000,21082600,9795600,8470600,11040000,11123200,9428400,11249600,13947800,15431200,10503800,7380000,12451000,18157600,11803400,14511200,11587600,26144600,14985600,7325600,10685400,13967800,15840600,17065400,18906600,16806600,12722800,17833800,13265400,25839000,33749400,26230400,19422200,20880800,21895200,14298200,12175400,13167400,24481600,15955800,11603200,9520800,16334800,11932000,10676200,10186600,24471400,39315800,66916800,24764400,19340200,13469200,11813600,28560600,16179000,17670600,15259000,13161600,10769400,10037600,9876800,11265600],"\u65f6\u95f4":[951868800000.0,951955200000.0,952041600000.0,952300800000.0,952387200000.0,952473600000.0,952560000000.0,952646400000.0,952905600000.0,952992000000.0,953078400000.0,953164800000.0,953251200000.0,953510400000.0,953596800000.0,953683200000.0,953769600000.0,953856000000.0,954115200000.0,954201600000.0,954288000000.0,954374400000.0,954460800000.0,954720000000.0,954806400000.0,954892800000.0,954979200000.0,955065600000.0,955324800000.0,955411200000.0,955497600000.0,955584000000.0,955670400000.0,955929600000.0,956016000000.0,956102400000.0,956188800000.0,956534400000.0,956620800000.0,956707200000.0,956793600000.0,956880000000.0,957139200000.0,957225600000.0,957312000000.0,957398400000.0,957484800000.0,957744000000.0,957830400000.0,957916800000.0,958003200000.0,958089600000.0,958348800000.0,958435200000.0,958521600000.0,958608000000.0,958694400000.0,958953600000.0,959040000000.0,959126400000.0,959212800000.0,959299200000.0,959644800000.0,959731200000.0,959817600000.0,959904000000.0,960163200000.0,960249600000.0,960336000000.0,960422400000.0,960508800000.0,960768000000.0,960854400000.0,960940800000.0,961027200000.0,961113600000.0,961372800000.0,961459200000.0,961545600000.0,961632000000.0,961718400000.0,961977600000.0,962064000000.0,962150400000.0,962236800000.0,962323200000.0,962582400000.0,962755200000.0,962841600000.0,962928000000.0,963187200000.0,963273600000.0,963360000000.0,963446400000.0,963532800000.0,963792000000.0,963878400000.0,963964800000.0,964051200000.0,964137600000.0,964396800000.0,964483200000.0,964569600000.0,964656000000.0,964742400000.0,965001600000.0,965088000000.0,965174400000.0,965260800000.0,965347200000.0,965606400000.0,965692800000.0,965779200000.0,965865600000.0,965952000000.0,966211200000.0,966297600000.0,966384000000.0,966470400000.0,966556800000.0,966816000000.0,966902400000.0,966988800000.0,967075200000.0,967161600000.0,967420800000.0,967507200000.0,967593600000.0,967680000000.0,967766400000.0,968112000000.0,968198400000.0,968284800000.0,968371200000.0,968630400000.0,968716800000.0,968803200000.0,968889600000.0,968976000000.0,969235200000.0,969321600000.0,969408000000.0,969494400000.0,969580800000.0,969840000000.0,969926400000.0,970012800000.0,970099200000.0,970185600000.0,970444800000.0,970531200000.0,970617600000.0,970704000000.0,970790400000.0,971049600000.0,971136000000.0,971222400000.0,971308800000.0,971395200000.0,971654400000.0,971740800000.0,971827200000.0,971913600000.0,972000000000.0,972259200000.0,972345600000.0,972432000000.0,972518400000.0,972604800000.0,972864000000.0,972950400000.0,973036800000.0,973123200000.0,973209600000.0,973468800000.0,973555200000.0,973641600000.0,973728000000.0,973814400000.0,974073600000.0,974160000000.0,974246400000.0,974332800000.0,974419200000.0,974678400000.0,974764800000.0,974851200000.0,975024000000.0,975283200000.0,975369600000.0,975456000000.0,975542400000.0,975628800000.0,975888000000.0,975974400000.0,976060800000.0,976147200000.0,976233600000.0,976492800000.0,976579200000.0,976665600000.0,976752000000.0,976838400000.0,977097600000.0,977184000000.0,977270400000.0,977356800000.0,977443200000.0,977788800000.0,977875200000.0,977961600000.0,978048000000.0,978393600000.0,978480000000.0,978566400000.0,978652800000.0,978912000000.0,978998400000.0,979084800000.0,979171200000.0,979257600000.0,979603200000.0,979689600000.0,979776000000.0,979862400000.0,980121600000.0,980208000000.0,980294400000.0,980380800000.0,980467200000.0,980726400000.0,980812800000.0,980899200000.0,980985600000.0,981072000000.0,981331200000.0,981417600000.0,981504000000.0,981590400000.0,981676800000.0,981936000000.0,982022400000.0,982108800000.0,982195200000.0,982281600000.0,982627200000.0,982713600000.0,982800000000.0,982886400000.0,983145600000.0,983232000000.0,983318400000.0,983404800000.0,983491200000.0,983750400000.0,983836800000.0,983923200000.0,984009600000.0,984096000000.0,984355200000.0,984441600000.0,984528000000.0,984614400000.0,984700800000.0,984960000000.0,985046400000.0,985132800000.0,985219200000.0,985305600000.0,985564800000.0,985651200000.0,985737600000.0,985824000000.0,985910400000.0,986169600000.0,986256000000.0,986342400000.0,986428800000.0,986515200000.0,986774400000.0,986860800000.0,986947200000.0,987033600000.0,987379200000.0,987465600000.0,987552000000.0,987638400000.0,987724800000.0,987984000000.0,988070400000.0,988156800000.0,988243200000.0,988329600000.0,988588800000.0,988675200000.0,988761600000.0,988848000000.0,988934400000.0,989193600000.0,989280000000.0]},"selected":{"id":"1521"},"selection_policy":{"id":"1520"}},"id":"1444","type":"ColumnDataSource"},{"attributes":{},"id":"1431","type":"LinearScale"},{"attributes":{"formatter":{"id":"1517"},"major_label_policy":{"id":"1518"},"ticker":{"id":"1434"}},"id":"1433","type":"DatetimeAxis"},{"attributes":{"axis":{"id":"1433"},"ticker":null},"id":"1436","type":"Grid"},{"attributes":{},"id":"1514","type":"DatetimeTickFormatter"},{"attributes":{},"id":"1515","type":"AllLabels"}],"root_ids":["1469"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"2d14d286-11da-414f-8407-25f7af597276","root_ids":["1469"],"roots":{"1469":"6284c102-7861-4306-8088-15caa28997a5"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="boxplot_figure" class="doc_header"><code>boxplot_figure</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L175" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>boxplot_figure</code>(<strong><code>data_df</code></strong>, <strong><code>group_column</code></strong>=<em><code>'group'</code></em>, <strong><code>value_column</code></strong>=<em><code>'value'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>y_axis_label</code></strong>=<em><code>None</code></em>, <strong><code>x_axis_label</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cats</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abcdef&quot;</span><span class="p">)</span>
<span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">cats</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cats</span><span class="p">):</span>
    <span class="n">yy</span><span class="p">[</span><span class="n">g</span> <span class="o">==</span> <span class="n">l</span><span class="p">]</span> <span class="o">+=</span> <span class="n">i</span> <span class="o">//</span> <span class="mi">2</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">score</span><span class="o">=</span><span class="n">yy</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">g</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>score</th>
      <th>group</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.175889</td>
      <td>d</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.569074</td>
      <td>d</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.940678</td>
      <td>a</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.104070</td>
      <td>d</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-0.995155</td>
      <td>b</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">boxplot_figure</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">group_column</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="n">value_column</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="6688dade-b7f0-4087-83f1-5f94bd43a146" data-root-id="1737"></div>

</div>

</div>

<div class="output_area">




<div id="1b7a32d8-bac2-4f38-ad8f-dc6e207ea84e"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#1b7a32d8-bac2-4f38-ad8f-dc6e207ea84e');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"09af6477-d9e1-487c-81b2-9d7a875ab962":{"defs":[],"roots":{"references":[{"attributes":{"background_fill_color":"#efefef","below":[{"id":"1746"}],"center":[{"id":"1748"},{"id":"1752"}],"left":[{"id":"1749"}],"renderers":[{"id":"1763"},{"id":"1768"},{"id":"1773"},{"id":"1778"},{"id":"1783"},{"id":"1788"},{"id":"1793"}],"title":{"id":"1872"},"toolbar":{"id":"1756"},"toolbar_location":"above","x_range":{"id":"1738"},"x_scale":{"id":"1742"},"y_range":{"id":"1740"},"y_scale":{"id":"1744"}},"id":"1737","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1889","type":"Selection"},{"attributes":{"data_source":{"id":"1780"},"glyph":{"id":"1781"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1782"},"view":{"id":"1784"}},"id":"1783","type":"GlyphRenderer"},{"attributes":{"axis":{"id":"1749"},"dimension":1,"grid_line_color":"white","grid_line_width":2,"ticker":null},"id":"1752","type":"Grid"},{"attributes":{},"id":"1884","type":"UnionRenderers"},{"attributes":{"data":{"bottom":{"__ndarray__":"DqGTVk6Fn7+y2/YhPQimP/MpoU+NWu0/CbbJ1+u27T9cZhZLiyj/P9/gtZu1ggBA","dtype":"float64","order":"little","shape":[6]},"top":{"__ndarray__":"AyIek71q5b+mOelR8lTkvzDB1uDvUNM/8kNWiIbp0z8wN7wKMK71P+gQN/ZuoPY/","dtype":"float64","order":"little","shape":[6]},"x":["a","b","c","d","e","f"]},"selected":{"id":"1887"},"selection_policy":{"id":"1886"}},"id":"1775","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1775"}},"id":"1779","type":"CDSView"},{"attributes":{},"id":"1877","type":"CategoricalTickFormatter"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"height":{"value":0.01},"line_alpha":{"value":0.1},"width":{"value":0.2},"x":{"field":"x"},"y":{"field":"y"}},"id":"1782","type":"Rect"},{"attributes":{"data":{"x0":["a","b","c","d","e","f"],"x1":["a","b","c","d","e","f"],"y0":{"__ndarray__":"lOXIQ1NwBED39LNvLocCQLVjy/97TA1A0dTuShG5C0Aaf3MYQQASQMzMt6YCbhJA","dtype":"float64","order":"little","shape":[6]},"y1":{"__ndarray__":"BlKSHMA/5T8OOWbGSKbiP/If9scgVvo/dWpurI1g+j+j3JTjqOcEQIqI4HlWrgVA","dtype":"float64","order":"little","shape":[6]}},"selected":{"id":"1881"},"selection_policy":{"id":"1880"}},"id":"1760","type":"ColumnDataSource"},{"attributes":{},"id":"1875","type":"AllLabels"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"height":{"value":0.01},"line_alpha":{"value":0.1},"width":{"value":0.2},"x":{"field":"x"},"y":{"field":"y"}},"id":"1787","type":"Rect"},{"attributes":{"fill_color":{"value":"#1f77b4"},"height":{"value":0.01},"width":{"value":0.2},"x":{"field":"x"},"y":{"field":"y"}},"id":"1781","type":"Rect"},{"attributes":{},"id":"1885","type":"Selection"},{"attributes":{"data":{"x":["a","b","c","d","e","f"],"y":{"__ndarray__":"BLSphp5aBcBtGZi9crMDwCz3aj+bbvu/OLVvbeAe+7/iF9AfBQfhv7TeLwzc8+C/","dtype":"float64","order":"little","shape":[6]}},"selected":{"id":"1889"},"selection_policy":{"id":"1888"}},"id":"1780","type":"ColumnDataSource"},{"attributes":{"line_alpha":{"value":0.1},"x0":{"field":"x0"},"x1":{"field":"x1"},"y0":{"field":"y0"},"y1":{"field":"y1"}},"id":"1762","type":"Segment"},{"attributes":{},"id":"1874","type":"BasicTickFormatter"},{"attributes":{},"id":"1878","type":"AllLabels"},{"attributes":{"data_source":{"id":"1785"},"glyph":{"id":"1786"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1787"},"view":{"id":"1789"}},"id":"1788","type":"GlyphRenderer"},{"attributes":{"x0":{"field":"x0"},"x1":{"field":"x1"},"y0":{"field":"y0"},"y1":{"field":"y1"}},"id":"1766","type":"Segment"},{"attributes":{},"id":"1890","type":"UnionRenderers"},{"attributes":{"source":{"id":"1780"}},"id":"1784","type":"CDSView"},{"attributes":{"data":{"x":["a","b","b","b","c","c","d","e","e","e","e","e","f","f"],"y":[-3.581132292179978,-3.1597749272716196,-2.7131007448346875,-2.526521861160301,4.04047924168848,-2.3441131991375554,-2.4659430107940783,-0.6850022176881887,-0.5663941939562989,-0.548515045749681,5.072441021824222,4.9424617980813395,-0.8332801301450963,-0.9689147306431938]},"selected":{"id":"1893"},"selection_policy":{"id":"1892"}},"id":"1790","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1760"}},"id":"1764","type":"CDSView"},{"attributes":{"fill_color":{"value":"#1f77b4"},"height":{"value":0.01},"width":{"value":0.2},"x":{"field":"x"},"y":{"field":"y"}},"id":"1786","type":"Rect"},{"attributes":{"data_source":{"id":"1760"},"glyph":{"id":"1761"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1762"},"view":{"id":"1764"}},"id":"1763","type":"GlyphRenderer"},{"attributes":{"data":{"x":["a","b","c","d","e","f"],"y":{"__ndarray__":"lOXIQ1NwBED39LNvLocCQLVjy/97TA1A0dTuShG5C0Aaf3MYQQASQMzMt6YCbhJA","dtype":"float64","order":"little","shape":[6]}},"selected":{"id":"1891"},"selection_policy":{"id":"1890"}},"id":"1785","type":"ColumnDataSource"},{"attributes":{"axis_label":null,"formatter":{"id":"1877"},"major_label_policy":{"id":"1878"},"major_label_text_font_size":"16px","ticker":{"id":"1747"}},"id":"1746","type":"CategoricalAxis"},{"attributes":{"fill_alpha":{"value":0.6},"fill_color":{"value":"#F38630"},"line_color":{"value":"#F38630"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1791","type":"Circle"},{"attributes":{},"id":"1750","type":"BasicTicker"},{"attributes":{},"id":"1755","type":"PanTool"},{"attributes":{"axis":{"id":"1746"},"grid_line_color":null,"grid_line_width":2,"ticker":null},"id":"1748","type":"Grid"},{"attributes":{"source":{"id":"1785"}},"id":"1789","type":"CDSView"},{"attributes":{},"id":"1891","type":"Selection"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#F38630"},"line_alpha":{"value":0.1},"line_color":{"value":"#F38630"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1792","type":"Circle"},{"attributes":{},"id":"1880","type":"UnionRenderers"},{"attributes":{},"id":"1747","type":"CategoricalTicker"},{"attributes":{},"id":"1886","type":"UnionRenderers"},{"attributes":{"data":{"x0":["a","b","c","d","e","f"],"x1":["a","b","c","d","e","f"],"y0":{"__ndarray__":"BLSphp5aBcBtGZi9crMDwCz3aj+bbvu/OLVvbeAe+7/iF9AfBQfhv7TeLwzc8+C/","dtype":"float64","order":"little","shape":[6]},"y1":{"__ndarray__":"AyIek71q5b+mOelR8lTkvzDB1uDvUNM/8kNWiIbp0z8wN7wKMK71P+gQN/ZuoPY/","dtype":"float64","order":"little","shape":[6]}},"selected":{"id":"1883"},"selection_policy":{"id":"1882"}},"id":"1765","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"1790"},"glyph":{"id":"1791"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1792"},"view":{"id":"1794"}},"id":"1793","type":"GlyphRenderer"},{"attributes":{},"id":"1740","type":"DataRange1d"},{"attributes":{"active_multi":null,"tools":[{"id":"1753"},{"id":"1754"},{"id":"1755"}]},"id":"1756","type":"Toolbar"},{"attributes":{"line_alpha":{"value":0.1},"x0":{"field":"x0"},"x1":{"field":"x1"},"y0":{"field":"y0"},"y1":{"field":"y1"}},"id":"1767","type":"Segment"},{"attributes":{"axis_label":null,"formatter":{"id":"1874"},"major_label_policy":{"id":"1875"},"ticker":{"id":"1750"}},"id":"1749","type":"LinearAxis"},{"attributes":{"source":{"id":"1790"}},"id":"1794","type":"CDSView"},{"attributes":{},"id":"1887","type":"Selection"},{"attributes":{"bottom":{"field":"bottom"},"fill_alpha":{"value":0.1},"fill_color":{"value":"#3B8686"},"line_alpha":{"value":0.1},"top":{"field":"top"},"width":{"value":0.7},"x":{"field":"x"}},"id":"1777","type":"VBar"},{"attributes":{},"id":"1892","type":"UnionRenderers"},{"attributes":{},"id":"1872","type":"Title"},{"attributes":{"data_source":{"id":"1765"},"glyph":{"id":"1766"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1767"},"view":{"id":"1769"}},"id":"1768","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1765"}},"id":"1769","type":"CDSView"},{"attributes":{"factors":["a","b","c","d","e","f"]},"id":"1738","type":"FactorRange"},{"attributes":{},"id":"1882","type":"UnionRenderers"},{"attributes":{"bottom":{"field":"bottom"},"fill_color":{"value":"#E08E79"},"top":{"field":"top"},"width":{"value":0.7},"x":{"field":"x"}},"id":"1771","type":"VBar"},{"attributes":{},"id":"1753","type":"SaveTool"},{"attributes":{},"id":"1881","type":"Selection"},{"attributes":{},"id":"1893","type":"Selection"},{"attributes":{"data":{"bottom":{"__ndarray__":"BlKSHMA/5T8OOWbGSKbiP/If9scgVvo/dWpurI1g+j+j3JTjqOcEQIqI4HlWrgVA","dtype":"float64","order":"little","shape":[6]},"top":{"__ndarray__":"DqGTVk6Fn7+y2/YhPQimP/MpoU+NWu0/CbbJ1+u27T9cZhZLiyj/P9/gtZu1ggBA","dtype":"float64","order":"little","shape":[6]},"x":["a","b","c","d","e","f"]},"selected":{"id":"1885"},"selection_policy":{"id":"1884"}},"id":"1770","type":"ColumnDataSource"},{"attributes":{},"id":"1883","type":"Selection"},{"attributes":{"bottom":{"field":"bottom"},"fill_alpha":{"value":0.1},"fill_color":{"value":"#E08E79"},"line_alpha":{"value":0.1},"top":{"field":"top"},"width":{"value":0.7},"x":{"field":"x"}},"id":"1772","type":"VBar"},{"attributes":{},"id":"1742","type":"CategoricalScale"},{"attributes":{},"id":"1888","type":"UnionRenderers"},{"attributes":{"data_source":{"id":"1770"},"glyph":{"id":"1771"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1772"},"view":{"id":"1774"}},"id":"1773","type":"GlyphRenderer"},{"attributes":{"bottom":{"field":"bottom"},"fill_color":{"value":"#3B8686"},"top":{"field":"top"},"width":{"value":0.7},"x":{"field":"x"}},"id":"1776","type":"VBar"},{"attributes":{"data_source":{"id":"1775"},"glyph":{"id":"1776"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1777"},"view":{"id":"1779"}},"id":"1778","type":"GlyphRenderer"},{"attributes":{},"id":"1754","type":"ResetTool"},{"attributes":{"x0":{"field":"x0"},"x1":{"field":"x1"},"y0":{"field":"y0"},"y1":{"field":"y1"}},"id":"1761","type":"Segment"},{"attributes":{},"id":"1744","type":"LinearScale"},{"attributes":{"source":{"id":"1770"}},"id":"1774","type":"CDSView"}],"root_ids":["1737"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"09af6477-d9e1-487c-81b2-9d7a875ab962","root_ids":["1737"],"roots":{"1737":"6688dade-b7f0-4087-83f1-5f94bd43a146"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="histogram_figure" class="doc_header"><code>histogram_figure</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L230" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>histogram_figure</code>(<strong><code>hist</code></strong>, <strong><code>edges</code></strong>, <strong><code>title</code></strong>=<em><code>'histogram'</code></em>, <strong><code>x_axis_label</code></strong>=<em><code>'x'</code></em>, <strong><code>y_axis_label</code></strong>=<em><code>'y'</code></em>, <strong><code>fill_color</code></strong>=<em><code>'navy'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span>

<span class="n">measured</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">hist</span><span class="p">,</span> <span class="n">edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">measured</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">histogram_figure</span><span class="p">(</span><span class="n">hist</span><span class="p">,</span> <span class="n">edges</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="dfc62dd6-e84e-4d00-ab2a-3151a9c9c8c9" data-root-id="2004"></div>

</div>

</div>

<div class="output_area">




<div id="aa0ac2f2-4e91-455f-97bb-74da726194ab"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#aa0ac2f2-4e91-455f-97bb-74da726194ab');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"eb2a94a8-ff9d-4d6c-87c9-111f77727a03":{"defs":[],"roots":{"references":[{"attributes":{"background_fill_color":"#fafafa","below":[{"id":"2015"}],"center":[{"id":"2018"},{"id":"2022"}],"left":[{"id":"2019"}],"renderers":[{"id":"2033"}],"title":{"id":"2005"},"toolbar":{"id":"2026"},"toolbar_location":"above","x_range":{"id":"2007"},"x_scale":{"id":"2011"},"y_range":{"id":"2009"},"y_scale":{"id":"2013"}},"id":"2004","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"2024","type":"ResetTool"},{"attributes":{},"id":"2011","type":"LinearScale"},{"attributes":{},"id":"2136","type":"AllLabels"},{"attributes":{},"id":"2135","type":"BasicTickFormatter"},{"attributes":{},"id":"2142","type":"Selection"},{"attributes":{"source":{"id":"2030"}},"id":"2034","type":"CDSView"},{"attributes":{},"id":"2007","type":"DataRange1d"},{"attributes":{"axis_label":"x","formatter":{"id":"2138"},"major_label_policy":{"id":"2139"},"ticker":{"id":"2016"}},"id":"2015","type":"LinearAxis"},{"attributes":{"bottom":{"value":0},"fill_alpha":{"value":0.1},"fill_color":{"value":"navy"},"left":{"field":"left"},"line_alpha":{"value":0.1},"line_color":{"value":"white"},"right":{"field":"right"},"top":{"field":"top"}},"id":"2032","type":"Quad"},{"attributes":{"data_source":{"id":"2030"},"glyph":{"id":"2031"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2032"},"view":{"id":"2034"}},"id":"2033","type":"GlyphRenderer"},{"attributes":{"active_multi":null,"tools":[{"id":"2023"},{"id":"2024"},{"id":"2025"}]},"id":"2026","type":"Toolbar"},{"attributes":{"bottom":{"value":0},"fill_alpha":{"value":0.5},"fill_color":{"value":"navy"},"left":{"field":"left"},"line_alpha":{"value":0.5},"line_color":{"value":"white"},"right":{"field":"right"},"top":{"field":"top"}},"id":"2031","type":"Quad"},{"attributes":{"start":0},"id":"2009","type":"DataRange1d"},{"attributes":{},"id":"2138","type":"BasicTickFormatter"},{"attributes":{},"id":"2139","type":"AllLabels"},{"attributes":{"data":{"left":{"__ndarray__":"X7Fc05so9r/2JegcmB31v42ac2aUEvS/JA//r5AH87+7g4r5jPzxv1L4FUOJ8fC/09lCGQvN778Bw1msA7ftvy+scD/8oOu/XZWH0vSK6b+Lfp5l7XTnv7lntfjlXuW/6FDMi95I478WOuMe1zLhv4hG9GOfOd6/5BgiipAN2r9A60+wgeHVv5y9fdZytdG/8B9X+ccSy7+oxLJFqrrCv8DSHCQZxbS/wHBQ83ZTkL/ANOlUuzapP/BQvRGZS70/uAODPOr9xj8AXyfwB1bPPyTd5dES19M/yAq4qyED2D9sOIqFMC/cPwgzrq+fLeA/2kmXHKdD4j+uYICJrlnkP353afa1b+Y/To5SY72F6D8ipTvQxJvqP/K7JD3Msew/xtINqtPH7j/LdHuL7W7wPzUA8EHxefE/nYtk+PSE8j8HF9mu+I/zP2+iTWX8mvQ/2S3CGwCm9T9BuTbSA7H2P6tEq4gHvPc/E9AfPwvH+D99W5T1DtL5P+XmCKwS3fo/TXJ9Yhbo+z+3/fEYGvP8Pw==","dtype":"float64","order":"little","shape":[50]},"right":{"__ndarray__":"9iXoHJgd9b+NmnNmlBL0vyQP/6+QB/O/u4OK+Yz88b9S+BVDifHwv9PZQhkLze+/AcNZrAO37b8vrHA//KDrv12Vh9L0ium/i36eZe1057+5Z7X45V7lv+hQzIveSOO/FjrjHtcy4b+IRvRjnznev+QYIoqQDdq/QOtPsIHh1b+cvX3WcrXRv/AfV/nHEsu/qMSyRaq6wr/A0hwkGcW0v8BwUPN2U5C/wDTpVLs2qT/wUL0RmUu9P7gDgzzq/cY/AF8n8AdWzz8k3eXREtfTP8gKuKshA9g/bDiKhTAv3D8IM66vny3gP9pJlxynQ+I/rmCAia5Z5D9+d2n2tW/mP06OUmO9heg/IqU70MSb6j/yuyQ9zLHsP8bSDarTx+4/y3R7i+1u8D81APBB8XnxP52LZPj0hPI/BxfZrviP8z9vok1l/Jr0P9ktwhsApvU/Qbk20gOx9j+rRKuIB7z3PxPQHz8Lx/g/fVuU9Q7S+T/l5gisEt36P01yfWIW6Ps/t/3xGBrz/D8giWbPHf79Pw==","dtype":"float64","order":"little","shape":[50]},"top":{"__ndarray__":"KapZtJJqrz8AAAAAAAAAAJ8/Qwfuj6c/Wgq4sJuisz8pqlm0kmqvPziqWbSSaq8//KT920SZxT+fP0MH7o/HP1oKuLCbosM/5HTOXUB9yz9C2ogyl4bJP/wM5pxCi9g/NUJx85R43D8pqlm0kmrfPzVCcfOUeNw/DgmhOkgu4T9UPiyRmhvlP0imFFKYDeg/NUJx85R47D+fP0MH7o/nP/EM5pxCi+g/mXO35+wI6T/kdM5dQH3rP7oLzybvFuY/saPmZfEk4z9UPiyRmhvlP5lzt+fsCOk//KT920SZ5T8OCaE6SC7hP9jcth4+b94/56T920SZ1T9tCriwm6LTP7U/Qwfuj8c/9zwVG0en0j+jDxSJ6XPNPwuqWbSSar8//nTOXUB9uz+IP0MH7o+3P8hvcoXyq8E/C6pZtJJqrz9Iqlm0kmqfPwuqWbSSap8/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApqlm0kmqPPw==","dtype":"float64","order":"little","shape":[50]}},"selected":{"id":"2142"},"selection_policy":{"id":"2141"}},"id":"2030","type":"ColumnDataSource"},{"attributes":{"text":"histogram"},"id":"2005","type":"Title"},{"attributes":{},"id":"2141","type":"UnionRenderers"},{"attributes":{},"id":"2016","type":"BasicTicker"},{"attributes":{"axis_label":"y","formatter":{"id":"2135"},"major_label_policy":{"id":"2136"},"ticker":{"id":"2020"}},"id":"2019","type":"LinearAxis"},{"attributes":{},"id":"2025","type":"PanTool"},{"attributes":{"axis":{"id":"2019"},"dimension":1,"grid_line_color":"white","ticker":null},"id":"2022","type":"Grid"},{"attributes":{},"id":"2023","type":"SaveTool"},{"attributes":{"axis":{"id":"2015"},"grid_line_color":"white","ticker":null},"id":"2018","type":"Grid"},{"attributes":{},"id":"2013","type":"LinearScale"},{"attributes":{},"id":"2020","type":"BasicTicker"}],"root_ids":["2004"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"eb2a94a8-ff9d-4d6c-87c9-111f77727a03","root_ids":["2004"],"roots":{"2004":"dfc62dd6-e84e-4d00-ab2a-3151a9c9c8c9"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="scatter_figure" class="doc_header"><code>scatter_figure</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L244" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>scatter_figure</code>(<strong><code>x</code></strong>, <strong><code>y</code></strong>, <strong><code>x_axis_label</code></strong>=<em><code>'x'</code></em>, <strong><code>y_axis_label</code></strong>=<em><code>'y'</code></em>, <strong><code>title</code></strong>=<em><code>'scatter'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.sampledata.iris</span> <span class="kn">import</span> <span class="n">flowers</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">scatter_figure</span><span class="p">(</span><span class="n">flowers</span><span class="p">[</span><span class="s2">&quot;petal_length&quot;</span><span class="p">],</span> <span class="n">flowers</span><span class="p">[</span><span class="s2">&quot;petal_width&quot;</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="837cd5ad-ed1a-48e2-91e4-496285a407d0" data-root-id="2188"></div>

</div>

</div>

<div class="output_area">




<div id="d3b8a45b-2eaf-4a30-aa96-35db62a78e94"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#d3b8a45b-2eaf-4a30-aa96-35db62a78e94');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"da53ec66-5bff-4a02-aac6-14e31e85c8fd":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2199"}],"center":[{"id":"2202"},{"id":"2206"}],"left":[{"id":"2203"}],"renderers":[{"id":"2217"}],"title":{"id":"2189"},"toolbar":{"id":"2210"},"toolbar_location":"above","x_range":{"id":"2191"},"x_scale":{"id":"2195"},"y_range":{"id":"2193"},"y_scale":{"id":"2197"}},"id":"2188","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"2334","type":"UnionRenderers"},{"attributes":{},"id":"2195","type":"LinearScale"},{"attributes":{},"id":"2335","type":"Selection"},{"attributes":{},"id":"2193","type":"DataRange1d"},{"attributes":{},"id":"2197","type":"LinearScale"},{"attributes":{},"id":"2191","type":"DataRange1d"},{"attributes":{"active_multi":null,"tools":[{"id":"2207"},{"id":"2208"},{"id":"2209"}]},"id":"2210","type":"Toolbar"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"2216","type":"Circle"},{"attributes":{"data":{"x":{"__ndarray__":"ZmZmZmZm9j9mZmZmZmb2P83MzMzMzPQ/AAAAAAAA+D9mZmZmZmb2PzMzMzMzM/s/ZmZmZmZm9j8AAAAAAAD4P2ZmZmZmZvY/AAAAAAAA+D8AAAAAAAD4P5qZmZmZmfk/ZmZmZmZm9j+amZmZmZnxPzMzMzMzM/M/AAAAAAAA+D/NzMzMzMz0P2ZmZmZmZvY/MzMzMzMz+z8AAAAAAAD4PzMzMzMzM/s/AAAAAAAA+D8AAAAAAADwPzMzMzMzM/s/ZmZmZmZm/j+amZmZmZn5P5qZmZmZmfk/AAAAAAAA+D9mZmZmZmb2P5qZmZmZmfk/mpmZmZmZ+T8AAAAAAAD4PwAAAAAAAPg/ZmZmZmZm9j8AAAAAAAD4PzMzMzMzM/M/zczMzMzM9D9mZmZmZmb2P83MzMzMzPQ/AAAAAAAA+D/NzMzMzMz0P83MzMzMzPQ/zczMzMzM9D+amZmZmZn5P2ZmZmZmZv4/ZmZmZmZm9j+amZmZmZn5P2ZmZmZmZvY/AAAAAAAA+D9mZmZmZmb2P83MzMzMzBJAAAAAAAAAEkCamZmZmZkTQAAAAAAAABBAZmZmZmZmEkAAAAAAAAASQM3MzMzMzBJAZmZmZmZmCkBmZmZmZmYSQDMzMzMzMw9AAAAAAAAADEDNzMzMzMwQQAAAAAAAABBAzczMzMzMEkDNzMzMzMwMQJqZmZmZmRFAAAAAAAAAEkBmZmZmZmYQQAAAAAAAABJAMzMzMzMzD0AzMzMzMzMTQAAAAAAAABBAmpmZmZmZE0DNzMzMzMwSQDMzMzMzMxFAmpmZmZmZEUAzMzMzMzMTQAAAAAAAABRAAAAAAAAAEkAAAAAAAAAMQGZmZmZmZg5AmpmZmZmZDUAzMzMzMzMPQGZmZmZmZhRAAAAAAAAAEkAAAAAAAAASQM3MzMzMzBJAmpmZmZmZEUBmZmZmZmYQQAAAAAAAABBAmpmZmZmZEUBmZmZmZmYSQAAAAAAAABBAZmZmZmZmCkDNzMzMzMwQQM3MzMzMzBBAzczMzMzMEEAzMzMzMzMRQAAAAAAAAAhAZmZmZmZmEEAAAAAAAAAYQGZmZmZmZhRAmpmZmZmZF0BmZmZmZmYWQDMzMzMzMxdAZmZmZmZmGkAAAAAAAAASQDMzMzMzMxlAMzMzMzMzF0BmZmZmZmYYQGZmZmZmZhRAMzMzMzMzFUAAAAAAAAAWQAAAAAAAABRAZmZmZmZmFEAzMzMzMzMVQAAAAAAAABZAzczMzMzMGkCamZmZmZkbQAAAAAAAABRAzczMzMzMFkCamZmZmZkTQM3MzMzMzBpAmpmZmZmZE0DNzMzMzMwWQAAAAAAAABhAMzMzMzMzE0CamZmZmZkTQGZmZmZmZhZAMzMzMzMzF0BmZmZmZmYYQJqZmZmZmRlAZmZmZmZmFkBmZmZmZmYUQGZmZmZmZhZAZmZmZmZmGEBmZmZmZmYWQAAAAAAAABZAMzMzMzMzE0CamZmZmZkVQGZmZmZmZhZAZmZmZmZmFEBmZmZmZmYUQJqZmZmZmRdAzczMzMzMFkDNzMzMzMwUQAAAAAAAABRAzczMzMzMFECamZmZmZkVQGZmZmZmZhRA","dtype":"float64","order":"little","shape":[150]},"y":{"__ndarray__":"mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnJP5qZmZmZmdk/MzMzMzMz0z+amZmZmZnJP5qZmZmZmck/mpmZmZmZuT+amZmZmZnJP5qZmZmZmck/mpmZmZmZuT+amZmZmZm5P5qZmZmZmck/mpmZmZmZ2T+amZmZmZnZPzMzMzMzM9M/MzMzMzMz0z8zMzMzMzPTP5qZmZmZmck/mpmZmZmZ2T+amZmZmZnJPwAAAAAAAOA/mpmZmZmZyT+amZmZmZnJP5qZmZmZmdk/mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnZP5qZmZmZmbk/mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZm5P5qZmZmZmck/mpmZmZmZyT8zMzMzMzPTPzMzMzMzM9M/mpmZmZmZyT8zMzMzMzPjP5qZmZmZmdk/MzMzMzMz0z+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnJP2ZmZmZmZvY/AAAAAAAA+D8AAAAAAAD4P83MzMzMzPQ/AAAAAAAA+D/NzMzMzMz0P5qZmZmZmfk/AAAAAAAA8D/NzMzMzMz0P2ZmZmZmZvY/AAAAAAAA8D8AAAAAAAD4PwAAAAAAAPA/ZmZmZmZm9j/NzMzMzMz0P2ZmZmZmZvY/AAAAAAAA+D8AAAAAAADwPwAAAAAAAPg/mpmZmZmZ8T/NzMzMzMz8P83MzMzMzPQ/AAAAAAAA+D8zMzMzMzPzP83MzMzMzPQ/ZmZmZmZm9j9mZmZmZmb2PzMzMzMzM/s/AAAAAAAA+D8AAAAAAADwP5qZmZmZmfE/AAAAAAAA8D8zMzMzMzPzP5qZmZmZmfk/AAAAAAAA+D+amZmZmZn5PwAAAAAAAPg/zczMzMzM9D/NzMzMzMz0P83MzMzMzPQ/MzMzMzMz8z9mZmZmZmb2PzMzMzMzM/M/AAAAAAAA8D/NzMzMzMz0PzMzMzMzM/M/zczMzMzM9D/NzMzMzMz0P5qZmZmZmfE/zczMzMzM9D8AAAAAAAAEQGZmZmZmZv4/zczMzMzMAEDNzMzMzMz8P5qZmZmZmQFAzczMzMzMAEAzMzMzMzP7P83MzMzMzPw/zczMzMzM/D8AAAAAAAAEQAAAAAAAAABAZmZmZmZm/j/NzMzMzMwAQAAAAAAAAABAMzMzMzMzA0BmZmZmZmYCQM3MzMzMzPw/mpmZmZmZAUBmZmZmZmYCQAAAAAAAAPg/ZmZmZmZmAkAAAAAAAAAAQAAAAAAAAABAzczMzMzM/D/NzMzMzMwAQM3MzMzMzPw/zczMzMzM/D/NzMzMzMz8P83MzMzMzABAmpmZmZmZ+T9mZmZmZmb+PwAAAAAAAABAmpmZmZmZAUAAAAAAAAD4P2ZmZmZmZvY/ZmZmZmZmAkAzMzMzMzMDQM3MzMzMzPw/zczMzMzM/D/NzMzMzMwAQDMzMzMzMwNAZmZmZmZmAkBmZmZmZmb+P2ZmZmZmZgJAAAAAAAAABEBmZmZmZmYCQGZmZmZmZv4/AAAAAAAAAEBmZmZmZmYCQM3MzMzMzPw/","dtype":"float64","order":"little","shape":[150]}},"selected":{"id":"2335"},"selection_policy":{"id":"2334"}},"id":"2214","type":"ColumnDataSource"},{"attributes":{},"id":"2200","type":"BasicTicker"},{"attributes":{"text":"scatter"},"id":"2189","type":"Title"},{"attributes":{"axis":{"id":"2199"},"ticker":null},"id":"2202","type":"Grid"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"2215","type":"Circle"},{"attributes":{},"id":"2209","type":"PanTool"},{"attributes":{},"id":"2208","type":"ResetTool"},{"attributes":{},"id":"2332","type":"AllLabels"},{"attributes":{},"id":"2331","type":"BasicTickFormatter"},{"attributes":{"data_source":{"id":"2214"},"glyph":{"id":"2215"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2216"},"view":{"id":"2218"}},"id":"2217","type":"GlyphRenderer"},{"attributes":{},"id":"2207","type":"SaveTool"},{"attributes":{},"id":"2204","type":"BasicTicker"},{"attributes":{},"id":"2328","type":"BasicTickFormatter"},{"attributes":{"axis_label":"y","formatter":{"id":"2328"},"major_label_policy":{"id":"2329"},"ticker":{"id":"2204"}},"id":"2203","type":"LinearAxis"},{"attributes":{"axis":{"id":"2203"},"dimension":1,"ticker":null},"id":"2206","type":"Grid"},{"attributes":{},"id":"2329","type":"AllLabels"},{"attributes":{"axis_label":"x","formatter":{"id":"2331"},"major_label_policy":{"id":"2332"},"ticker":{"id":"2200"}},"id":"2199","type":"LinearAxis"},{"attributes":{"source":{"id":"2214"}},"id":"2218","type":"CDSView"}],"root_ids":["2188"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"da53ec66-5bff-4a02-aac6-14e31e85c8fd","root_ids":["2188"],"roots":{"2188":"837cd5ad-ed1a-48e2-91e4-496285a407d0"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="bubble_figure" class="doc_header"><code>bubble_figure</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L257" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>bubble_figure</code>(<strong><code>x</code></strong>, <strong><code>y</code></strong>, <strong><code>z</code></strong>=<em><code>None</code></em>, <strong><code>title</code></strong>=<em><code>'bubble'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>y_axis_label</code></strong>=<em><code>None</code></em>, <strong><code>x_axis_label</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">flowers</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>sepal_width</th>
      <th>petal_length</th>
      <th>petal_width</th>
      <th>species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.1</td>
      <td>3.5</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.9</td>
      <td>3.0</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.7</td>
      <td>3.2</td>
      <td>1.3</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.6</td>
      <td>3.1</td>
      <td>1.5</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>3.6</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">bubble_figure</span><span class="p">(</span><span class="n">flowers</span><span class="p">[</span><span class="s2">&quot;petal_length&quot;</span><span class="p">],</span> <span class="n">flowers</span><span class="p">[</span><span class="s2">&quot;petal_width&quot;</span><span class="p">],</span> <span class="n">flowers</span><span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="2e84a97e-30ad-481b-af98-b0d60415782d" data-root-id="2381"></div>

</div>

</div>

<div class="output_area">




<div id="7b6229c8-6d92-43ad-ae0a-3fddb2746eb0"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#7b6229c8-6d92-43ad-ae0a-3fddb2746eb0');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"2751edaf-b51c-4a62-9bab-c358d8987e2d":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2392"}],"center":[{"id":"2395"},{"id":"2399"}],"left":[{"id":"2396"}],"renderers":[{"id":"2410"}],"title":{"id":"2382"},"toolbar":{"id":"2403"},"toolbar_location":"above","x_range":{"id":"2384"},"x_scale":{"id":"2388"},"y_range":{"id":"2386"},"y_scale":{"id":"2390"}},"id":"2381","subtype":"Figure","type":"Plot"},{"attributes":{"text":"bubble"},"id":"2382","type":"Title"},{"attributes":{"axis_label":null,"formatter":{"id":"2530"},"major_label_policy":{"id":"2531"},"ticker":{"id":"2397"}},"id":"2396","type":"LinearAxis"},{"attributes":{},"id":"2530","type":"BasicTickFormatter"},{"attributes":{"axis":{"id":"2396"},"dimension":1,"ticker":null},"id":"2399","type":"Grid"},{"attributes":{},"id":"2397","type":"BasicTicker"},{"attributes":{},"id":"2384","type":"DataRange1d"},{"attributes":{"data":{"radius":{"__ndarray__":"ZmZmZmZm1j8QERERERHRPzMzMzMzM9M/IiIiIiIi0j92d3d3d3fXP6qqqqqqqto/VFVVVVVV1T9UVVVVVVXVP////////88/IiIiIiIi0j+IiIiIiIjYP1RVVVVVVdU/EBERERER0T8QERERERHRP7q7u7u7u9s/AAAAAAAA4D+qqqqqqqraP2ZmZmZmZtY/mJmZmZmZ2T+YmZmZmZnZP1RVVVVVVdU/iIiIiIiI2D92d3d3d3fXP0RERERERNQ/VFVVVVVV1T8QERERERHRP1RVVVVVVdU/ZmZmZmZm1j9UVVVVVVXVPzMzMzMzM9M/IiIiIiIi0j9UVVVVVVXVP8rMzMzMzNw/3N3d3d3d3T8iIiIiIiLSPzMzMzMzM9M/ZmZmZmZm1j92d3d3d3fXPxAREREREdE/VFVVVVVV1T9mZmZmZmbWPzIzMzMzM8M/MzMzMzMz0z9mZmZmZmbWP5iZmZmZmdk/EBERERER0T+YmZmZmZnZPzMzMzMzM9M/iIiIiIiI2D9ERERERETUPzMzMzMzM9M/MzMzMzMz0z8iIiIiIiLSPzIzMzMzM8M/293d3d3dzT/b3d3d3d3NP0RERERERNQ/VFVVVVVVxT/////////PP7y7u7u7u8s/mpmZmZmZuT8QERERERHRPxIREREREcE/////////zz/////////PPyIiIiIiItI/EBERERER0T+8u7u7u7vLPxIREREREcE/dnd3d3d3xz8zMzMzMzPTP9vd3d3d3c0/dnd3d3d3xz/b3d3d3d3NP////////88/EBERERER0T/b3d3d3d3NPxAREREREdE/////////zz+amZmZmZnJP1RVVVVVVcU/VFVVVVVVxT+8u7u7u7vLP7y7u7u7u8s/EBERERER0T9UVVVVVVXVPyIiIiIiItI/MjMzMzMzwz8QERERERHRP3Z3d3d3d8c/mpmZmZmZyT8QERERERHRP5qZmZmZmck/MjMzMzMzwz+8u7u7u7vLPxAREREREdE/////////zz/////////PP3Z3d3d3d8c/293d3d3dzT9ERERERETUP7y7u7u7u8s/EBERERER0T/////////PPxAREREREdE/EBERERER0T92d3d3d3fHP////////88/dnd3d3d3xz92d3d3d3fXPzMzMzMzM9M/vLu7u7u7yz8QERERERHRP3Z3d3d3d8c/293d3d3dzT8zMzMzMzPTPxAREREREdE/mJmZmZmZ2T+amZmZmZnJPxIREREREcE/MzMzMzMz0z/b3d3d3d3NP9vd3d3d3c0/vLu7u7u7yz9ERERERETUPzMzMzMzM9M/293d3d3dzT8QERERERHRP9vd3d3d3c0/EBERERER0T/b3d3d3d3NP5iZmZmZmdk/293d3d3dzT/b3d3d3d3NP5qZmZmZmck/EBERERER0T9UVVVVVVXVPyIiIiIiItI/EBERERER0T8iIiIiIiLSPyIiIiIiItI/IiIiIiIi0j+8u7u7u7vLPzMzMzMzM9M/RERERERE1D8QERERERHRP3Z3d3d3d8c/EBERERER0T9UVVVVVVXVPxAREREREdE/","dtype":"float64","order":"little","shape":[150]},"x":{"__ndarray__":"ZmZmZmZm9j9mZmZmZmb2P83MzMzMzPQ/AAAAAAAA+D9mZmZmZmb2PzMzMzMzM/s/ZmZmZmZm9j8AAAAAAAD4P2ZmZmZmZvY/AAAAAAAA+D8AAAAAAAD4P5qZmZmZmfk/ZmZmZmZm9j+amZmZmZnxPzMzMzMzM/M/AAAAAAAA+D/NzMzMzMz0P2ZmZmZmZvY/MzMzMzMz+z8AAAAAAAD4PzMzMzMzM/s/AAAAAAAA+D8AAAAAAADwPzMzMzMzM/s/ZmZmZmZm/j+amZmZmZn5P5qZmZmZmfk/AAAAAAAA+D9mZmZmZmb2P5qZmZmZmfk/mpmZmZmZ+T8AAAAAAAD4PwAAAAAAAPg/ZmZmZmZm9j8AAAAAAAD4PzMzMzMzM/M/zczMzMzM9D9mZmZmZmb2P83MzMzMzPQ/AAAAAAAA+D/NzMzMzMz0P83MzMzMzPQ/zczMzMzM9D+amZmZmZn5P2ZmZmZmZv4/ZmZmZmZm9j+amZmZmZn5P2ZmZmZmZvY/AAAAAAAA+D9mZmZmZmb2P83MzMzMzBJAAAAAAAAAEkCamZmZmZkTQAAAAAAAABBAZmZmZmZmEkAAAAAAAAASQM3MzMzMzBJAZmZmZmZmCkBmZmZmZmYSQDMzMzMzMw9AAAAAAAAADEDNzMzMzMwQQAAAAAAAABBAzczMzMzMEkDNzMzMzMwMQJqZmZmZmRFAAAAAAAAAEkBmZmZmZmYQQAAAAAAAABJAMzMzMzMzD0AzMzMzMzMTQAAAAAAAABBAmpmZmZmZE0DNzMzMzMwSQDMzMzMzMxFAmpmZmZmZEUAzMzMzMzMTQAAAAAAAABRAAAAAAAAAEkAAAAAAAAAMQGZmZmZmZg5AmpmZmZmZDUAzMzMzMzMPQGZmZmZmZhRAAAAAAAAAEkAAAAAAAAASQM3MzMzMzBJAmpmZmZmZEUBmZmZmZmYQQAAAAAAAABBAmpmZmZmZEUBmZmZmZmYSQAAAAAAAABBAZmZmZmZmCkDNzMzMzMwQQM3MzMzMzBBAzczMzMzMEEAzMzMzMzMRQAAAAAAAAAhAZmZmZmZmEEAAAAAAAAAYQGZmZmZmZhRAmpmZmZmZF0BmZmZmZmYWQDMzMzMzMxdAZmZmZmZmGkAAAAAAAAASQDMzMzMzMxlAMzMzMzMzF0BmZmZmZmYYQGZmZmZmZhRAMzMzMzMzFUAAAAAAAAAWQAAAAAAAABRAZmZmZmZmFEAzMzMzMzMVQAAAAAAAABZAzczMzMzMGkCamZmZmZkbQAAAAAAAABRAzczMzMzMFkCamZmZmZkTQM3MzMzMzBpAmpmZmZmZE0DNzMzMzMwWQAAAAAAAABhAMzMzMzMzE0CamZmZmZkTQGZmZmZmZhZAMzMzMzMzF0BmZmZmZmYYQJqZmZmZmRlAZmZmZmZmFkBmZmZmZmYUQGZmZmZmZhZAZmZmZmZmGEBmZmZmZmYWQAAAAAAAABZAMzMzMzMzE0CamZmZmZkVQGZmZmZmZhZAZmZmZmZmFEBmZmZmZmYUQJqZmZmZmRdAzczMzMzMFkDNzMzMzMwUQAAAAAAAABRAzczMzMzMFECamZmZmZkVQGZmZmZmZhRA","dtype":"float64","order":"little","shape":[150]},"y":{"__ndarray__":"mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnJP5qZmZmZmdk/MzMzMzMz0z+amZmZmZnJP5qZmZmZmck/mpmZmZmZuT+amZmZmZnJP5qZmZmZmck/mpmZmZmZuT+amZmZmZm5P5qZmZmZmck/mpmZmZmZ2T+amZmZmZnZPzMzMzMzM9M/MzMzMzMz0z8zMzMzMzPTP5qZmZmZmck/mpmZmZmZ2T+amZmZmZnJPwAAAAAAAOA/mpmZmZmZyT+amZmZmZnJP5qZmZmZmdk/mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnZP5qZmZmZmbk/mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZm5P5qZmZmZmck/mpmZmZmZyT8zMzMzMzPTPzMzMzMzM9M/mpmZmZmZyT8zMzMzMzPjP5qZmZmZmdk/MzMzMzMz0z+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnJP2ZmZmZmZvY/AAAAAAAA+D8AAAAAAAD4P83MzMzMzPQ/AAAAAAAA+D/NzMzMzMz0P5qZmZmZmfk/AAAAAAAA8D/NzMzMzMz0P2ZmZmZmZvY/AAAAAAAA8D8AAAAAAAD4PwAAAAAAAPA/ZmZmZmZm9j/NzMzMzMz0P2ZmZmZmZvY/AAAAAAAA+D8AAAAAAADwPwAAAAAAAPg/mpmZmZmZ8T/NzMzMzMz8P83MzMzMzPQ/AAAAAAAA+D8zMzMzMzPzP83MzMzMzPQ/ZmZmZmZm9j9mZmZmZmb2PzMzMzMzM/s/AAAAAAAA+D8AAAAAAADwP5qZmZmZmfE/AAAAAAAA8D8zMzMzMzPzP5qZmZmZmfk/AAAAAAAA+D+amZmZmZn5PwAAAAAAAPg/zczMzMzM9D/NzMzMzMz0P83MzMzMzPQ/MzMzMzMz8z9mZmZmZmb2PzMzMzMzM/M/AAAAAAAA8D/NzMzMzMz0PzMzMzMzM/M/zczMzMzM9D/NzMzMzMz0P5qZmZmZmfE/zczMzMzM9D8AAAAAAAAEQGZmZmZmZv4/zczMzMzMAEDNzMzMzMz8P5qZmZmZmQFAzczMzMzMAEAzMzMzMzP7P83MzMzMzPw/zczMzMzM/D8AAAAAAAAEQAAAAAAAAABAZmZmZmZm/j/NzMzMzMwAQAAAAAAAAABAMzMzMzMzA0BmZmZmZmYCQM3MzMzMzPw/mpmZmZmZAUBmZmZmZmYCQAAAAAAAAPg/ZmZmZmZmAkAAAAAAAAAAQAAAAAAAAABAzczMzMzM/D/NzMzMzMwAQM3MzMzMzPw/zczMzMzM/D/NzMzMzMz8P83MzMzMzABAmpmZmZmZ+T9mZmZmZmb+PwAAAAAAAABAmpmZmZmZAUAAAAAAAAD4P2ZmZmZmZvY/ZmZmZmZmAkAzMzMzMzMDQM3MzMzMzPw/zczMzMzM/D/NzMzMzMwAQDMzMzMzMwNAZmZmZmZmAkBmZmZmZmb+P2ZmZmZmZgJAAAAAAAAABEBmZmZmZmYCQGZmZmZmZv4/AAAAAAAAAEBmZmZmZmYCQM3MzMzMzPw/","dtype":"float64","order":"little","shape":[150]}},"selected":{"id":"2537"},"selection_policy":{"id":"2536"}},"id":"2407","type":"ColumnDataSource"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"radius":{"field":"radius"},"x":{"field":"x"},"y":{"field":"y"}},"id":"2409","type":"Circle"},{"attributes":{},"id":"2402","type":"PanTool"},{"attributes":{},"id":"2401","type":"ResetTool"},{"attributes":{},"id":"2400","type":"SaveTool"},{"attributes":{},"id":"2533","type":"BasicTickFormatter"},{"attributes":{},"id":"2534","type":"AllLabels"},{"attributes":{},"id":"2390","type":"LinearScale"},{"attributes":{},"id":"2536","type":"UnionRenderers"},{"attributes":{},"id":"2537","type":"Selection"},{"attributes":{"fill_alpha":{"value":0.6},"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"radius":{"field":"radius"},"x":{"field":"x"},"y":{"field":"y"}},"id":"2408","type":"Circle"},{"attributes":{"source":{"id":"2407"}},"id":"2411","type":"CDSView"},{"attributes":{"axis_label":null,"formatter":{"id":"2533"},"major_label_policy":{"id":"2534"},"ticker":{"id":"2393"}},"id":"2392","type":"LinearAxis"},{"attributes":{},"id":"2531","type":"AllLabels"},{"attributes":{},"id":"2393","type":"BasicTicker"},{"attributes":{"data_source":{"id":"2407"},"glyph":{"id":"2408"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2409"},"view":{"id":"2411"}},"id":"2410","type":"GlyphRenderer"},{"attributes":{},"id":"2388","type":"LinearScale"},{"attributes":{"axis":{"id":"2392"},"ticker":null},"id":"2395","type":"Grid"},{"attributes":{"active_multi":null,"tools":[{"id":"2400"},{"id":"2401"},{"id":"2402"}]},"id":"2403","type":"Toolbar"},{"attributes":{},"id":"2386","type":"DataRange1d"}],"root_ids":["2381"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"2751edaf-b51c-4a62-9bab-c358d8987e2d","root_ids":["2381"],"roots":{"2381":"2e84a97e-30ad-481b-af98-b0d60415782d"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="stacked_bar_figure" class="doc_header"><code>stacked_bar_figure</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L278" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>stacked_bar_figure</code>(<strong><code>data</code></strong>:<code>dict</code>, <strong><code>x_key</code></strong>, <strong><code>y_keys</code></strong>:<code>list</code>, <strong><code>title</code></strong>=<em><code>'stacked bar'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>y_axis_label</code></strong>=<em><code>None</code></em>, <strong><code>x_axis_label</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Apples&#39;</span><span class="p">,</span> <span class="s1">&#39;Pears&#39;</span><span class="p">,</span> <span class="s1">&#39;Nectarines&#39;</span><span class="p">,</span> <span class="s1">&#39;Plums&#39;</span><span class="p">,</span> <span class="s1">&#39;Grapes&#39;</span><span class="p">,</span> <span class="s1">&#39;Strawberries&#39;</span><span class="p">]</span>
<span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2015&quot;</span><span class="p">,</span> <span class="s2">&quot;2016&quot;</span><span class="p">,</span> <span class="s2">&quot;2017&quot;</span><span class="p">]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#c9d9d3&quot;</span><span class="p">,</span> <span class="s2">&quot;#718dbf&quot;</span><span class="p">,</span> <span class="s2">&quot;#e84d60&quot;</span><span class="p">]</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fruits&#39;</span> <span class="p">:</span> <span class="n">fruits</span><span class="p">,</span>
        <span class="s1">&#39;2015&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
        <span class="s1">&#39;2016&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
        <span class="s1">&#39;2017&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">stacked_bar_figure</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">x_key</span><span class="o">=</span><span class="s1">&#39;fruits&#39;</span><span class="p">,</span> <span class="n">y_keys</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;2015&#39;</span><span class="p">,</span> <span class="s1">&#39;2016&#39;</span><span class="p">,</span> <span class="s1">&#39;2017&#39;</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="fe2a6e8a-f579-45a4-b858-8b58cec65d73" data-root-id="2583"></div>

</div>

</div>

<div class="output_area">




<div id="cd50105c-c690-488f-b394-0f0e8d403dc0"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#cd50105c-c690-488f-b394-0f0e8d403dc0');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"7639678f-b707-41bf-a034-c68398889501":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2594"}],"center":[{"id":"2596"},{"id":"2600"},{"id":"2629"}],"left":[{"id":"2597"}],"outline_line_color":null,"renderers":[{"id":"2618"},{"id":"2635"},{"id":"2653"}],"title":{"id":"2584"},"toolbar":{"id":"2604"},"toolbar_location":"above","x_range":{"id":"2586"},"x_scale":{"id":"2590"},"y_range":{"id":"2588"},"y_scale":{"id":"2592"}},"id":"2583","subtype":"Figure","type":"Plot"},{"attributes":{"text":"stacked bar"},"id":"2584","type":"Title"},{"attributes":{"fields":["2015"]},"id":"2609","type":"Stack"},{"attributes":{},"id":"2627","type":"UnionRenderers"},{"attributes":{},"id":"2590","type":"CategoricalScale"},{"attributes":{},"id":"2628","type":"Selection"},{"attributes":{"data_source":{"id":"2614"},"glyph":{"id":"2616"},"hover_glyph":null,"muted_glyph":null,"name":"2015","nonselection_glyph":{"id":"2617"},"view":{"id":"2619"}},"id":"2618","type":"GlyphRenderer"},{"attributes":{},"id":"2598","type":"BasicTicker"},{"attributes":{},"id":"2592","type":"LinearScale"},{"attributes":{"active_multi":null,"tools":[{"id":"2601"},{"id":"2602"},{"id":"2603"}]},"id":"2604","type":"Toolbar"},{"attributes":{"items":[{"id":"2630"},{"id":"2648"},{"id":"2668"}],"location":"top_left","orientation":"horizontal"},"id":"2629","type":"Legend"},{"attributes":{"start":0},"id":"2588","type":"DataRange1d"},{"attributes":{"data":{"2015":[2,1,4,3,2,4],"2016":[5,3,4,2,4,6],"2017":[3,2,4,4,5,3],"fruits":["Apples","Pears","Nectarines","Plums","Grapes","Strawberries"]},"selected":{"id":"2647"},"selection_policy":{"id":"2646"}},"id":"2631","type":"ColumnDataSource"},{"attributes":{"bottom":{"expr":{"id":"2610"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#718dbf"},"line_alpha":{"value":0.1},"line_color":{"value":"#718dbf"},"top":{"expr":{"id":"2611"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"2634","type":"VBar"},{"attributes":{"factors":["Apples","Pears","Nectarines","Plums","Grapes","Strawberries"],"range_padding":0.1},"id":"2586","type":"FactorRange"},{"attributes":{"axis_label":null,"formatter":{"id":"2624"},"major_label_policy":{"id":"2625"},"minor_tick_line_color":null,"ticker":{"id":"2595"}},"id":"2594","type":"CategoricalAxis"},{"attributes":{"source":{"id":"2614"}},"id":"2619","type":"CDSView"},{"attributes":{},"id":"2595","type":"CategoricalTicker"},{"attributes":{"label":{"value":"2016"},"renderers":[{"id":"2635"}]},"id":"2648","type":"LegendItem"},{"attributes":{"axis":{"id":"2594"},"grid_line_color":null,"ticker":null},"id":"2596","type":"Grid"},{"attributes":{"source":{"id":"2631"}},"id":"2636","type":"CDSView"},{"attributes":{"axis_label":null,"formatter":{"id":"2621"},"major_label_policy":{"id":"2622"},"minor_tick_line_color":null,"ticker":{"id":"2598"}},"id":"2597","type":"LinearAxis"},{"attributes":{"bottom":{"expr":{"id":"2610"}},"fill_color":{"value":"#718dbf"},"line_color":{"value":"#718dbf"},"top":{"expr":{"id":"2611"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"2633","type":"VBar"},{"attributes":{"fields":["2015","2016","2017"]},"id":"2613","type":"Stack"},{"attributes":{"data":{"2015":[2,1,4,3,2,4],"2016":[5,3,4,2,4,6],"2017":[3,2,4,4,5,3],"fruits":["Apples","Pears","Nectarines","Plums","Grapes","Strawberries"]},"selected":{"id":"2628"},"selection_policy":{"id":"2627"}},"id":"2614","type":"ColumnDataSource"},{"attributes":{"fields":["2015"]},"id":"2610","type":"Stack"},{"attributes":{"fields":["2015","2016"]},"id":"2612","type":"Stack"},{"attributes":{"bottom":{"expr":{"id":"2612"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#e84d60"},"line_alpha":{"value":0.1},"line_color":{"value":"#e84d60"},"top":{"expr":{"id":"2613"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"2652","type":"VBar"},{"attributes":{"bottom":{"expr":{"id":"2608"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#c9d9d3"},"line_alpha":{"value":0.1},"line_color":{"value":"#c9d9d3"},"top":{"expr":{"id":"2609"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"2617","type":"VBar"},{"attributes":{"source":{"id":"2649"}},"id":"2654","type":"CDSView"},{"attributes":{"label":{"value":"2017"},"renderers":[{"id":"2653"}]},"id":"2668","type":"LegendItem"},{"attributes":{"axis":{"id":"2597"},"dimension":1,"ticker":null},"id":"2600","type":"Grid"},{"attributes":{"data":{"2015":[2,1,4,3,2,4],"2016":[5,3,4,2,4,6],"2017":[3,2,4,4,5,3],"fruits":["Apples","Pears","Nectarines","Plums","Grapes","Strawberries"]},"selected":{"id":"2667"},"selection_policy":{"id":"2666"}},"id":"2649","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"2631"},"glyph":{"id":"2633"},"hover_glyph":null,"muted_glyph":null,"name":"2016","nonselection_glyph":{"id":"2634"},"view":{"id":"2636"}},"id":"2635","type":"GlyphRenderer"},{"attributes":{"bottom":{"expr":{"id":"2612"}},"fill_color":{"value":"#e84d60"},"line_color":{"value":"#e84d60"},"top":{"expr":{"id":"2613"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"2651","type":"VBar"},{"attributes":{"fields":[]},"id":"2608","type":"Stack"},{"attributes":{"fields":["2015","2016"]},"id":"2611","type":"Stack"},{"attributes":{},"id":"2603","type":"PanTool"},{"attributes":{},"id":"2602","type":"ResetTool"},{"attributes":{},"id":"2601","type":"SaveTool"},{"attributes":{},"id":"2621","type":"BasicTickFormatter"},{"attributes":{},"id":"2622","type":"AllLabels"},{"attributes":{"data_source":{"id":"2649"},"glyph":{"id":"2651"},"hover_glyph":null,"muted_glyph":null,"name":"2017","nonselection_glyph":{"id":"2652"},"view":{"id":"2654"}},"id":"2653","type":"GlyphRenderer"},{"attributes":{},"id":"2646","type":"UnionRenderers"},{"attributes":{},"id":"2647","type":"Selection"},{"attributes":{"bottom":{"expr":{"id":"2608"}},"fill_color":{"value":"#c9d9d3"},"line_color":{"value":"#c9d9d3"},"top":{"expr":{"id":"2609"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"2616","type":"VBar"},{"attributes":{},"id":"2666","type":"UnionRenderers"},{"attributes":{"label":{"value":"2015"},"renderers":[{"id":"2618"}]},"id":"2630","type":"LegendItem"},{"attributes":{},"id":"2667","type":"Selection"},{"attributes":{},"id":"2624","type":"CategoricalTickFormatter"},{"attributes":{},"id":"2625","type":"AllLabels"}],"root_ids":["2583"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"7639678f-b707-41bf-a034-c68398889501","root_ids":["2583"],"roots":{"2583":"fe2a6e8a-f579-45a4-b858-8b58cec65d73"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="stacked_area_figure" class="doc_header"><code>stacked_area_figure</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L299" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>stacked_area_figure</code>(<strong><code>df</code></strong>, <strong><code>stackers</code></strong>:<code>list</code>, <strong><code>title</code></strong>=<em><code>'stacked_area'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>y_axis_label</code></strong>=<em><code>None</code></em>, <strong><code>x_axis_label</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>y0</th>
      <th>y1</th>
      <th>y2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>33</td>
      <td>93</td>
      <td>70</td>
    </tr>
    <tr>
      <th>1</th>
      <td>93</td>
      <td>63</td>
      <td>60</td>
    </tr>
    <tr>
      <th>2</th>
      <td>51</td>
      <td>74</td>
      <td>79</td>
    </tr>
    <tr>
      <th>3</th>
      <td>17</td>
      <td>83</td>
      <td>89</td>
    </tr>
    <tr>
      <th>4</th>
      <td>41</td>
      <td>30</td>
      <td>73</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">stacked_area_figure</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">stackers</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;y0&#39;</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="c6404238-53da-4955-a252-b2151a4a682a" data-root-id="2873"></div>

</div>

</div>

<div class="output_area">




<div id="dc8e31c6-0086-46fc-bcd3-92a44d9dd476"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#dc8e31c6-0086-46fc-bcd3-92a44d9dd476');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"fb4a8353-c39a-4ef7-9792-6ea3f18d8547":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2884"}],"center":[{"id":"2887"},{"id":"2891"},{"id":"2920"}],"left":[{"id":"2888"}],"renderers":[{"id":"2909"},{"id":"2926"},{"id":"2944"}],"title":{"id":"2874"},"toolbar":{"id":"2895"},"toolbar_location":"above","x_range":{"id":"2876"},"x_scale":{"id":"2880"},"y_range":{"id":"2878"},"y_scale":{"id":"2882"}},"id":"2873","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"2937","type":"UnionRenderers"},{"attributes":{"label":{"value":"y2"},"renderers":[{"id":"2944"}]},"id":"2959","type":"LegendItem"},{"attributes":{},"id":"2957","type":"UnionRenderers"},{"attributes":{"source":{"id":"2922"}},"id":"2927","type":"CDSView"},{"attributes":{},"id":"2938","type":"Selection"},{"attributes":{"axis":{"id":"2884"},"minor_grid_line_color":"#eeeeee","ticker":null},"id":"2887","type":"Grid"},{"attributes":{},"id":"2894","type":"PanTool"},{"attributes":{"source":{"id":"2940"}},"id":"2945","type":"CDSView"},{"attributes":{"fields":[]},"id":"2899","type":"Stack"},{"attributes":{},"id":"2918","type":"UnionRenderers"},{"attributes":{},"id":"2893","type":"ResetTool"},{"attributes":{"fill_color":"#fc8d62","x":{"field":"_index_col"},"y1":{"expr":{"id":"2901"}},"y2":{"expr":{"id":"2902"}}},"id":"2924","type":"VArea"},{"attributes":{"fields":["y0","y1","y2"]},"id":"2904","type":"Stack"},{"attributes":{"active_multi":null,"tools":[{"id":"2892"},{"id":"2893"},{"id":"2894"}]},"id":"2895","type":"Toolbar"},{"attributes":{"data":{"_index_col":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"y0":[33,93,51,17,41,87,40,87,71,97,35,88,16,52,53],"y1":[93,63,74,83,30,46,81,54,55,71,44,35,16,72,74],"y2":[70,60,79,89,73,84,24,18,59,49,51,94,15,56,87]},"selected":{"id":"2919"},"selection_policy":{"id":"2918"}},"id":"2905","type":"ColumnDataSource"},{"attributes":{"data":{"_index_col":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"y0":[33,93,51,17,41,87,40,87,71,97,35,88,16,52,53],"y1":[93,63,74,83,30,46,81,54,55,71,44,35,16,72,74],"y2":[70,60,79,89,73,84,24,18,59,49,51,94,15,56,87]},"selected":{"id":"2938"},"selection_policy":{"id":"2937"}},"id":"2922","type":"ColumnDataSource"},{"attributes":{"fill_alpha":0.1,"fill_color":"#fc8d62","x":{"field":"_index_col"},"y1":{"expr":{"id":"2901"}},"y2":{"expr":{"id":"2902"}}},"id":"2925","type":"VArea"},{"attributes":{},"id":"2915","type":"BasicTickFormatter"},{"attributes":{},"id":"2913","type":"AllLabels"},{"attributes":{"fields":["y0","y1"]},"id":"2903","type":"Stack"},{"attributes":{},"id":"2919","type":"Selection"},{"attributes":{},"id":"2889","type":"BasicTicker"},{"attributes":{"items":[{"id":"2959"},{"id":"2939"},{"id":"2921"}]},"id":"2920","type":"Legend"},{"attributes":{},"id":"2882","type":"LinearScale"},{"attributes":{"axis_label":null,"formatter":{"id":"2912"},"major_label_policy":{"id":"2913"},"ticker":{"id":"2889"}},"id":"2888","type":"LinearAxis"},{"attributes":{"axis":{"id":"2888"},"dimension":1,"minor_grid_line_color":"#eeeeee","ticker":null},"id":"2891","type":"Grid"},{"attributes":{"fill_color":"#66c2a5","x":{"field":"_index_col"},"y1":{"expr":{"id":"2899"}},"y2":{"expr":{"id":"2900"}}},"id":"2907","type":"VArea"},{"attributes":{},"id":"2916","type":"AllLabels"},{"attributes":{"fields":["y0"]},"id":"2901","type":"Stack"},{"attributes":{},"id":"2878","type":"DataRange1d"},{"attributes":{"data_source":{"id":"2905"},"glyph":{"id":"2907"},"hover_glyph":null,"muted_glyph":null,"name":"y0","nonselection_glyph":{"id":"2908"},"view":{"id":"2910"}},"id":"2909","type":"GlyphRenderer"},{"attributes":{"fill_alpha":0.1,"fill_color":"#8da0cb","x":{"field":"_index_col"},"y1":{"expr":{"id":"2903"}},"y2":{"expr":{"id":"2904"}}},"id":"2943","type":"VArea"},{"attributes":{"label":{"value":"y0"},"renderers":[{"id":"2909"}]},"id":"2921","type":"LegendItem"},{"attributes":{},"id":"2885","type":"BasicTicker"},{"attributes":{"text":"stacked_area"},"id":"2874","type":"Title"},{"attributes":{"data_source":{"id":"2922"},"glyph":{"id":"2924"},"hover_glyph":null,"muted_glyph":null,"name":"y1","nonselection_glyph":{"id":"2925"},"view":{"id":"2927"}},"id":"2926","type":"GlyphRenderer"},{"attributes":{"fill_color":"#8da0cb","x":{"field":"_index_col"},"y1":{"expr":{"id":"2903"}},"y2":{"expr":{"id":"2904"}}},"id":"2942","type":"VArea"},{"attributes":{"data_source":{"id":"2940"},"glyph":{"id":"2942"},"hover_glyph":null,"muted_glyph":null,"name":"y2","nonselection_glyph":{"id":"2943"},"view":{"id":"2945"}},"id":"2944","type":"GlyphRenderer"},{"attributes":{"source":{"id":"2905"}},"id":"2910","type":"CDSView"},{"attributes":{"data":{"_index_col":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"y0":[33,93,51,17,41,87,40,87,71,97,35,88,16,52,53],"y1":[93,63,74,83,30,46,81,54,55,71,44,35,16,72,74],"y2":[70,60,79,89,73,84,24,18,59,49,51,94,15,56,87]},"selected":{"id":"2958"},"selection_policy":{"id":"2957"}},"id":"2940","type":"ColumnDataSource"},{"attributes":{"label":{"value":"y1"},"renderers":[{"id":"2926"}]},"id":"2939","type":"LegendItem"},{"attributes":{},"id":"2912","type":"BasicTickFormatter"},{"attributes":{"fill_alpha":0.1,"fill_color":"#66c2a5","x":{"field":"_index_col"},"y1":{"expr":{"id":"2899"}},"y2":{"expr":{"id":"2900"}}},"id":"2908","type":"VArea"},{"attributes":{"end":14},"id":"2876","type":"Range1d"},{"attributes":{},"id":"2892","type":"SaveTool"},{"attributes":{"fields":["y0"]},"id":"2900","type":"Stack"},{"attributes":{"fields":["y0","y1"]},"id":"2902","type":"Stack"},{"attributes":{},"id":"2880","type":"LinearScale"},{"attributes":{"axis_label":null,"formatter":{"id":"2915"},"major_label_policy":{"id":"2916"},"ticker":{"id":"2885"}},"id":"2884","type":"LinearAxis"},{"attributes":{},"id":"2958","type":"Selection"}],"root_ids":["2873"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"fb4a8353-c39a-4ef7-9792-6ea3f18d8547","root_ids":["2873"],"roots":{"2873":"c6404238-53da-4955-a252-b2151a4a682a"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="pie_figure" class="doc_header"><code>pie_figure</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L316" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>pie_figure</code>(<strong><code>data</code></strong>, <strong><code>title</code></strong>=<em><code>'pie'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>min_pct</code></strong>=<em><code>0.01</code></em>, <strong><code>others_name</code></strong>=<em><code>'OTHERS'</code></em>, <strong><code>legend_orientation</code></strong>=<em><code>'horizontal'</code></em>, <strong><code>legend_location</code></strong>=<em><code>'top_center'</code></em>, <strong><code>radius</code></strong>=<em><code>0.8</code></em>, <strong><code>pct_text_pad</code></strong>=<em><code>100</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;United States&#39;</span><span class="p">:</span> <span class="mi">157</span><span class="p">,</span>
    <span class="s1">&#39;United Kingdom&#39;</span><span class="p">:</span> <span class="mi">93</span><span class="p">,</span>
    <span class="s1">&#39;Japan&#39;</span><span class="p">:</span> <span class="mi">89</span><span class="p">,</span>
    <span class="s1">&#39;China&#39;</span><span class="p">:</span> <span class="mi">63</span><span class="p">,</span>
    <span class="s1">&#39;Germany&#39;</span><span class="p">:</span> <span class="mi">44</span><span class="p">,</span>
    <span class="s1">&#39;India&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="s1">&#39;Italy&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
    <span class="s1">&#39;Australia&#39;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span>
    <span class="s1">&#39;Brazil&#39;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
    <span class="s1">&#39;France&#39;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
    <span class="s1">&#39;Taiwan&#39;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
    <span class="s1">&#39;Spain&#39;</span><span class="p">:</span> <span class="mi">29</span>
<span class="p">}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">pie_figure</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="8ec90746-16a4-4bf9-88db-ae897759fe35" data-root-id="3177"></div>

</div>

</div>

<div class="output_area">




<div id="fd2ef2d1-3e84-4375-940a-c913247f841e"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#fd2ef2d1-3e84-4375-940a-c913247f841e');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"e8244f31-4bad-49a6-99a3-97e1d78a6a64":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"3188"}],"center":[{"id":"3191"},{"id":"3195"},{"id":"3222"},{"id":"3226"}],"left":[{"id":"3192"}],"renderers":[{"id":"3211"}],"title":{"id":"3178"},"toolbar":{"id":"3200"},"toolbar_location":"above","x_range":{"id":"3180"},"x_scale":{"id":"3184"},"y_range":{"id":"3182"},"y_scale":{"id":"3186"}},"id":"3177","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"3214","type":"BasicTickFormatter"},{"attributes":{"axis_label":null,"formatter":{"id":"3214"},"major_label_policy":{"id":"3215"},"ticker":{"id":"3193"},"visible":false},"id":"3192","type":"LinearAxis"},{"attributes":{},"id":"3215","type":"AllLabels"},{"attributes":{"axis_label":null,"formatter":{"id":"3217"},"major_label_policy":{"id":"3218"},"ticker":{"id":"3189"},"visible":false},"id":"3188","type":"LinearAxis"},{"attributes":{"source":{"id":"3207"}},"id":"3212","type":"CDSView"},{"attributes":{"angle":{"expr":{"id":"3224"}},"source":{"id":"3225"},"text":{"field":"percentage"},"text_align":{"value":"center"},"x":{"value":0},"y":{"value":1}},"id":"3226","type":"LabelSet"},{"attributes":{"items":[{"id":"3223"}],"location":"top_center","orientation":"horizontal"},"id":"3222","type":"Legend"},{"attributes":{},"id":"3184","type":"LinearScale"},{"attributes":{"field":"angle","include_zero":true},"id":"3224","type":"CumSum"},{"attributes":{},"id":"3182","type":"DataRange1d"},{"attributes":{"field":"angle"},"id":"3206","type":"CumSum"},{"attributes":{},"id":"3189","type":"BasicTicker"},{"attributes":{"axis":{"id":"3188"},"grid_line_color":null,"ticker":null},"id":"3191","type":"Grid"},{"attributes":{"data":{"angle":{"__ndarray__":"eQLEMwAC9z+3V8R09kHrP+QcmNXVFeo/hZ74ygF34j8vDs2tzcrZP1vToA6tntg/iJh0b4xy1z93BYbhOoTUPzmtw/IJwtI/0I8to/kr0j/Qjy2j+SvSP/xUAQTZ/9A/","dtype":"float64","order":"little","shape":[12]},"color":["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94"],"index":[0,1,2,3,4,5,6,7,8,9,10,11],"percentage":["                                                                                               22.9%","                                                                                               13.6%","                                                                                               13.0%","                                                                                                9.2%","                                                                                                6.4%","                                                                                                6.1%","                                                                                                5.8%","                                                                                                5.1%","                                                                                                4.7%","                                                                                                4.5%","                                                                                                4.5%","                                                                                                4.2%"],"x":["United States","United Kingdom","Japan","China","Germany","India","Italy","Australia","Brazil","France","Taiwan","Spain"],"y":[157,93,89,63,44,42,40,35,32,31,31,29]},"selected":{"id":"3388"},"selection_policy":{"id":"3387"}},"id":"3225","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"3192"},"dimension":1,"grid_line_color":null,"ticker":null},"id":"3195","type":"Grid"},{"attributes":{"callback":null,"tooltips":[["category","@x"],["count","@y"],["percentage","@percentage"]]},"id":"3199","type":"HoverTool"},{"attributes":{},"id":"3198","type":"PanTool"},{"attributes":{},"id":"3197","type":"ResetTool"},{"attributes":{"text":"pie"},"id":"3178","type":"Title"},{"attributes":{},"id":"3196","type":"SaveTool"},{"attributes":{},"id":"3387","type":"UnionRenderers"},{"attributes":{},"id":"3220","type":"UnionRenderers"},{"attributes":{},"id":"3218","type":"AllLabels"},{"attributes":{"field":"angle","include_zero":true},"id":"3205","type":"CumSum"},{"attributes":{},"id":"3221","type":"Selection"},{"attributes":{},"id":"3186","type":"LinearScale"},{"attributes":{},"id":"3388","type":"Selection"},{"attributes":{},"id":"3217","type":"BasicTickFormatter"},{"attributes":{"end_angle":{"expr":{"id":"3206"}},"fill_color":{"field":"color"},"line_color":{"value":"white"},"radius":{"value":0.8},"start_angle":{"expr":{"id":"3205"}},"x":{"value":0},"y":{"value":1}},"id":"3209","type":"Wedge"},{"attributes":{"end_angle":{"expr":{"id":"3206"}},"fill_alpha":{"value":0.1},"fill_color":{"field":"color"},"line_alpha":{"value":0.1},"line_color":{"value":"white"},"radius":{"value":0.8},"start_angle":{"expr":{"id":"3205"}},"x":{"value":0},"y":{"value":1}},"id":"3210","type":"Wedge"},{"attributes":{"label":{"field":"x"},"renderers":[{"id":"3211"}]},"id":"3223","type":"LegendItem"},{"attributes":{"active_multi":null,"tools":[{"id":"3196"},{"id":"3197"},{"id":"3198"},{"id":"3199"}]},"id":"3200","type":"Toolbar"},{"attributes":{},"id":"3180","type":"DataRange1d"},{"attributes":{"data_source":{"id":"3207"},"glyph":{"id":"3209"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"3210"},"view":{"id":"3212"}},"id":"3211","type":"GlyphRenderer"},{"attributes":{"data":{"angle":{"__ndarray__":"eQLEMwAC9z+3V8R09kHrP+QcmNXVFeo/hZ74ygF34j8vDs2tzcrZP1vToA6tntg/iJh0b4xy1z93BYbhOoTUPzmtw/IJwtI/0I8to/kr0j/Qjy2j+SvSP/xUAQTZ/9A/","dtype":"float64","order":"little","shape":[12]},"color":["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94"],"index":[0,1,2,3,4,5,6,7,8,9,10,11],"percentage":["                                                                                               22.9%","                                                                                               13.6%","                                                                                               13.0%","                                                                                                9.2%","                                                                                                6.4%","                                                                                                6.1%","                                                                                                5.8%","                                                                                                5.1%","                                                                                                4.7%","                                                                                                4.5%","                                                                                                4.5%","                                                                                                4.2%"],"x":["United States","United Kingdom","Japan","China","Germany","India","Italy","Australia","Brazil","France","Taiwan","Spain"],"y":[157,93,89,63,44,42,40,35,32,31,31,29]},"selected":{"id":"3221"},"selection_policy":{"id":"3220"}},"id":"3207","type":"ColumnDataSource"},{"attributes":{},"id":"3193","type":"BasicTicker"}],"root_ids":["3177"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"e8244f31-4bad-49a6-99a3-97e1d78a6a64","root_ids":["3177"],"roots":{"3177":"8ec90746-16a4-4bf9-88db-ae897759fe35"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="datatable_from_dataframe" class="doc_header"><code>datatable_from_dataframe</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L353" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>datatable_from_dataframe</code>(<strong><code>df</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">datatable_from_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="74f10f62-4c63-441b-be95-2dd4a9757bcc" data-root-id="3450"></div>

</div>

</div>

<div class="output_area">




<div id="bcc30c15-fa3c-4d80-8cb3-3cec42be4f92"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#bcc30c15-fa3c-4d80-8cb3-3cec42be4f92');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"d48c24f0-6301-423f-86cd-30b2d187d339":{"defs":[],"roots":{"references":[{"attributes":{"columns":[{"id":"3446"},{"id":"3447"},{"id":"3448"}],"source":{"id":"3449"},"view":{"id":"3452"}},"id":"3450","type":"DataTable"},{"attributes":{},"id":"3622","type":"StringFormatter"},{"attributes":{},"id":"3619","type":"StringEditor"},{"attributes":{"editor":{"id":"3619"},"field":"y0","formatter":{"id":"3618"},"title":"y0"},"id":"3446","type":"TableColumn"},{"attributes":{},"id":"3617","type":"Selection"},{"attributes":{"data":{"_index_col":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"y0":[33,93,51,17,41,87,40,87,71,97,35,88,16,52,53],"y1":[93,63,74,83,30,46,81,54,55,71,44,35,16,72,74],"y2":[70,60,79,89,73,84,24,18,59,49,51,94,15,56,87]},"selected":{"id":"3617"},"selection_policy":{"id":"3616"}},"id":"3449","type":"ColumnDataSource"},{"attributes":{},"id":"3623","type":"StringEditor"},{"attributes":{"editor":{"id":"3621"},"field":"y1","formatter":{"id":"3620"},"title":"y1"},"id":"3447","type":"TableColumn"},{"attributes":{},"id":"3621","type":"StringEditor"},{"attributes":{},"id":"3618","type":"StringFormatter"},{"attributes":{},"id":"3616","type":"UnionRenderers"},{"attributes":{"source":{"id":"3449"}},"id":"3452","type":"CDSView"},{"attributes":{"editor":{"id":"3623"},"field":"y2","formatter":{"id":"3622"},"title":"y2"},"id":"3448","type":"TableColumn"},{"attributes":{},"id":"3620","type":"StringFormatter"}],"root_ids":["3450"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"d48c24f0-6301-423f-86cd-30b2d187d339","root_ids":["3450"],"roots":{"3450":"74f10f62-4c63-441b-be95-2dd4a9757bcc"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="bar_mixed_figure" class="doc_header"><code>bar_mixed_figure</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L361" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>bar_mixed_figure</code>(<strong><code>df</code></strong>, <strong><code>group_keys</code></strong>:<code>list</code>, <strong><code>y_column_name</code></strong>, <strong><code>label_angle</code></strong>=<em><code>0</code></em>, <strong><code>agg_method</code></strong>=<em><code>'sum'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>title</code></strong>=<em><code>'mixed bar'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>draw_mean_line</code></strong>=<em><code>False</code></em>, <strong><code>line_alpha</code></strong>=<em><code>0.8</code></em>, <strong><code>legend_orientation</code></strong>=<em><code>'vertical'</code></em>, <strong><code>legend_location</code></strong>=<em><code>'top_center'</code></em>, <strong><code>label_offset_kwargs</code></strong>=<em><code>{'x_offset': -8, 'y_offset': 2}</code></em>, <strong><code>y_axis_label</code></strong>=<em><code>None</code></em>, <strong><code>x_axis_label</code></strong>=<em><code>None</code></em>, <strong><code>line_legend_label</code></strong>=<em><code>'平均值'</code></em>, <strong><code>line_color</code></strong>=<em><code>'#4292c6'</code></em>, <strong><code>hide_legend</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fruits_data_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Apples&#39;</span><span class="p">,</span> <span class="s1">&#39;Pears&#39;</span><span class="p">,</span> <span class="s1">&#39;Nectarines&#39;</span><span class="p">,</span> <span class="s1">&#39;Plums&#39;</span><span class="p">,</span> <span class="s1">&#39;Grapes&#39;</span><span class="p">,</span> <span class="s1">&#39;Strawberries&#39;</span><span class="p">]</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;2019&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
    <span class="s1">&#39;2020&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
    <span class="s1">&#39;2021&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="p">}</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">fruit</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="n">year</span><span class="p">]):</span>
        <span class="n">fruits_data_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">fruit</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">val</span><span class="p">])</span>
<span class="n">fruits_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">fruits_data_list</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">bar_mixed_figure</span><span class="p">(</span><span class="n">fruits_df</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">draw_mean_line</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="d71f62cf-48c9-4b13-8422-57f0f3c65b8b" data-root-id="3666"></div>

</div>

</div>

<div class="output_area">




<div id="8ac5feae-3ae6-4899-a114-ae5823198945"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#8ac5feae-3ae6-4899-a114-ae5823198945');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"46e24f9e-24c1-4fa8-91cb-6508adaa2776":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"3676"}],"center":[{"id":"3678"},{"id":"3682"},{"id":"3696"},{"id":"3714"}],"left":[{"id":"3679"}],"renderers":[{"id":"3694"},{"id":"3701"},{"id":"3719"}],"title":{"id":"3667"},"toolbar":{"id":"3686"},"toolbar_location":"above","x_range":{"id":"3665"},"x_scale":{"id":"3672"},"y_range":{"id":"3670"},"y_scale":{"id":"3674"}},"id":"3666","subtype":"Figure","type":"Plot"},{"attributes":{"axis_label":null,"formatter":{"id":"3704"},"major_label_policy":{"id":"3705"},"ticker":{"id":"3680"}},"id":"3679","type":"LinearAxis"},{"attributes":{"axis_label":null,"formatter":{"id":"3707"},"major_label_orientation":1,"major_label_policy":{"id":"3708"},"ticker":{"id":"3677"}},"id":"3676","type":"CategoricalAxis"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"x","transform":{"id":"3690"}},"line_alpha":{"value":0.1},"line_color":{"value":"white"},"top":{"field":"counts"},"width":{"value":0.9},"x":{"field":"x"}},"id":"3693","type":"VBar"},{"attributes":{"source":{"id":"3716"}},"id":"3720","type":"CDSView"},{"attributes":{"data":{"counts":[2,5,3,2,4,4,3,4,1,3,2,3,2,4,4,6],"x":[["Apples","2019"],["Apples","2020"],["Apples","2021"],["Grapes","2019"],["Grapes","2020"],["Nectarines","2019"],["Nectarines","2020"],["Nectarines","2021"],["Pears","2019"],["Pears","2020"],["Pears","2021"],["Plums","2019"],["Plums","2020"],["Plums","2021"],["Strawberries","2019"],["Strawberries","2020"]]},"selected":{"id":"3711"},"selection_policy":{"id":"3710"}},"id":"3664","type":"ColumnDataSource"},{"attributes":{"data":{"x":["Apples","Grapes","Nectarines","Pears","Plums","Strawberries"],"y":[3.3333333333333335,3.0,3.6666666666666665,2.0,3.0,5.0]},"selected":{"id":"3713"},"selection_policy":{"id":"3712"}},"id":"3698","type":"ColumnDataSource"},{"attributes":{},"id":"3707","type":"CategoricalTickFormatter"},{"attributes":{},"id":"3708","type":"AllLabels"},{"attributes":{"level":"glyph","source":{"id":"3664"},"text":{"field":"counts"},"text_font_size":{"value":"9pt"},"x":{"field":"x"},"x_offset":{"value":-8},"y":{"field":"counts"},"y_offset":{"value":2}},"id":"3696","type":"LabelSet"},{"attributes":{"source":{"id":"3664"}},"id":"3695","type":"CDSView"},{"attributes":{"text":"mixed bar"},"id":"3667","type":"Title"},{"attributes":{},"id":"3674","type":"LinearScale"},{"attributes":{"start":0},"id":"3670","type":"DataRange1d"},{"attributes":{},"id":"3710","type":"UnionRenderers"},{"attributes":{},"id":"3732","type":"UnionRenderers"},{"attributes":{},"id":"3711","type":"Selection"},{"attributes":{"data_source":{"id":"3664"},"glyph":{"id":"3692"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"3693"},"view":{"id":"3695"}},"id":"3694","type":"GlyphRenderer"},{"attributes":{},"id":"3733","type":"Selection"},{"attributes":{},"id":"3683","type":"SaveTool"},{"attributes":{},"id":"3672","type":"CategoricalScale"},{"attributes":{},"id":"3712","type":"UnionRenderers"},{"attributes":{"items":[{"id":"3715"}],"location":"top_center","visible":false},"id":"3714","type":"Legend"},{"attributes":{"axis":{"id":"3679"},"dimension":1,"ticker":null},"id":"3682","type":"Grid"},{"attributes":{"axis":{"id":"3676"},"grid_line_color":null,"ticker":null},"id":"3678","type":"Grid"},{"attributes":{"factors":[["Apples","2019"],["Apples","2020"],["Apples","2021"],["Grapes","2019"],["Grapes","2020"],["Nectarines","2019"],["Nectarines","2020"],["Nectarines","2021"],["Pears","2019"],["Pears","2020"],["Pears","2021"],["Plums","2019"],["Plums","2020"],["Plums","2021"],["Strawberries","2019"],["Strawberries","2020"]],"range_padding":0.1},"id":"3665","type":"FactorRange"},{"attributes":{"fill_color":{"field":"x","transform":{"id":"3690"}},"line_color":{"value":"white"},"top":{"field":"counts"},"width":{"value":0.9},"x":{"field":"x"}},"id":"3692","type":"VBar"},{"attributes":{},"id":"3713","type":"Selection"},{"attributes":{"line_alpha":0.1,"line_color":"#4292c6","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"3700","type":"Line"},{"attributes":{"data_source":{"id":"3698"},"glyph":{"id":"3699"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"3700"},"view":{"id":"3702"}},"id":"3701","type":"GlyphRenderer"},{"attributes":{},"id":"3704","type":"BasicTickFormatter"},{"attributes":{},"id":"3705","type":"AllLabels"},{"attributes":{"fill_alpha":{"value":0.8},"fill_color":{"value":"white"},"line_alpha":{"value":0.8},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"3717","type":"Circle"},{"attributes":{},"id":"3677","type":"CategoricalTicker"},{"attributes":{},"id":"3684","type":"ResetTool"},{"attributes":{"callback":null,"tooltips":[["mean","@y"]]},"id":"3734","type":"HoverTool"},{"attributes":{"data":{"x":["Apples","Grapes","Nectarines","Pears","Plums","Strawberries"],"y":[3.3333333333333335,3.0,3.6666666666666665,2.0,3.0,5.0]},"selected":{"id":"3733"},"selection_policy":{"id":"3732"}},"id":"3716","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.8,"line_color":"#4292c6","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"3699","type":"Line"},{"attributes":{"label":{"value":"\u5e73\u5747\u503c"},"renderers":[{"id":"3701"},{"id":"3719"}]},"id":"3715","type":"LegendItem"},{"attributes":{},"id":"3680","type":"BasicTicker"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"3718","type":"Circle"},{"attributes":{"active_multi":null,"tools":[{"id":"3683"},{"id":"3684"},{"id":"3685"},{"id":"3734"}]},"id":"3686","type":"Toolbar"},{"attributes":{"end":2,"factors":["2019","2020","2021"],"palette":["#66c2a5","#fc8d62","#8da0cb"],"start":1},"id":"3690","type":"CategoricalColorMapper"},{"attributes":{},"id":"3685","type":"PanTool"},{"attributes":{"source":{"id":"3698"}},"id":"3702","type":"CDSView"},{"attributes":{"data_source":{"id":"3716"},"glyph":{"id":"3717"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"3718"},"view":{"id":"3720"}},"id":"3719","type":"GlyphRenderer"}],"root_ids":["3666"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"46e24f9e-24c1-4fa8-91cb-6508adaa2776","root_ids":["3666"],"roots":{"3666":"d71f62cf-48c9-4b13-8422-57f0f3c65b8b"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="text_figure" class="doc_header"><code>text_figure</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/visualize/bokeh.py#L408" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>text_figure</code>(<strong><code>text</code></strong>, <strong><code>plot_width</code></strong>=<em><code>600</code></em>, <strong><code>plot_height</code></strong>=<em><code>200</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Your text is initialized with the &#39;text&#39; argument.  The</span>
<span class="s2">remaining Paragraph arguments are &#39;width&#39; and &#39;height&#39;. For this example, those values</span>
<span class="s2">are 200 and 100, respectively.&quot;&quot;&quot;</span>
<span class="n">show</span><span class="p">(</span><span class="n">text_figure</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">plot_width</span><span class="o">=</span><span class="mi">800</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="077e4a24-1960-44f2-885a-c54d55be701b" data-root-id="3985"></div>

</div>

</div>

<div class="output_area">




<div id="028a8b05-c95d-4536-81a3-09717ceadafe"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#028a8b05-c95d-4536-81a3-09717ceadafe');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"330c674f-600b-450a-b63b-8fc6e7cd6a0c":{"defs":[],"roots":{"references":[{"attributes":{"height":200,"text":"Your text is initialized with the 'text' argument.  The\nremaining Paragraph arguments are 'width' and 'height'. For this example, those values\nare 200 and 100, respectively.","width":800},"id":"3985","type":"Paragraph"}],"root_ids":["3985"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"330c674f-600b-450a-b63b-8fc6e7cd6a0c","root_ids":["3985"],"roots":{"3985":"077e4a24-1960-44f2-885a-c54d55be701b"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

</div>
 



    <div class="tags">
        
    </div>

</div>



<footer>
            <div class="row">
                <div class="col-lg-12 footer">
                  <p><img src="/assets/images/company_logo.png" alt="Company logo"/></p>
               &copy;2021 Junxin Gao. All rights reserved. <br />
 Site last generated: Sep 26, 2021 <br />
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
