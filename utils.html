<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="help functions">
<meta name="keywords" content=" fastai">
<title>Utils | dataer_tool</title>
<link rel="stylesheet" href="/assets/css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="assets//css/bootstrap.min.css">-->
<link rel="stylesheet" href="/assets/css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="/assets/css/customstyles.css">
<link rel="stylesheet" href="/assets/css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="/assets/css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/assets/js/jquery.navgoco.min.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  renderMathInElement( document.body, {
    delimiters: [
      {left: "$$", right: "$$", display: true},
      {left: "[%", right: "%]", display: true},
      {left: "$", right: "$", display: false}
    ]}
  );
});
</script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="/assets/js/toc.js"></script>
<script src="/assets/js/customscripts.js"></script>

<link rel="shortcut icon" href="/assets/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="dataer_tool" href="/feed.xml">

<!-- Twitter cards -->



<meta name="twitter:description" content="help functions">



<meta name="twitter:card"  content="summary">


<!-- end of Twitter cards -->





    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

            // activate menu items where href is matching to current page
            $("#mysidebar a[href='" + location.pathname.match(/(\/[^\/]*)$/)[1] + "']")
                .parents('li').addClass('active')
                .parents('ul').css('display', 'block');
        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="/">&nbsp;<span class="projectTitle">dataer_tool</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/JunxinGao/dataer_tool/tree/master/" target="_blank">github</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                
                
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                


<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
  <li>
      <a href="#">dataer_tool</a>
      <ul>
          
          
          
          <li><a href="/">Overview</a></li>
          
          
          
          
          
          
          <li><a href="/core.html">Core</a></li>
          
          
          
          
          
          
          <li><a href="/utils.html">Utils</a></li>
          
          
          
          
          
          
          <li><a href="/visualize.bokeh.html">Visualize Bokeh</a></li>
          
          
          
          
          
          
          <li><a href="/simulate.user.html">Simulate User</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
    <a id="Utils"></a>
    <h1 class="post-title-main">Utils</h1>
    
        
    </div>



<div class="post-content">

   
    <div class="summary">help functions</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

   <!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03_utils.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_count_data_datetime" class="doc_header"><code>get_count_data_datetime</code><a href="https://github.com/JunxinGao/dataer_tool/tree/master/dataer_tool/utils.py#L9" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_count_data_datetime</code>(<strong><code>input_df</code></strong>, <strong><code>count_column</code></strong>, <strong><code>date_time_column</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>agg_method</code></strong>=<em><code>'sum'</code></em>, <strong><code>cumsum</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>resample_mode</code></strong>:<code>str</code>=<em><code>'d'</code></em>, <strong><code>extra_meta_column</code></strong>:<code>str</code>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
 <span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;2000-03-01&#39;</span><span class="p">,</span>
          <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;2000-03-02&#39;</span><span class="p">,</span>
          <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;2000-03-03&#39;</span><span class="p">,</span>
          <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;2000-03-06&#39;</span><span class="p">,</span>
          <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;2000-03-07&#39;</span><span class="p">,</span>
          <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;2000-03-08&#39;</span><span class="p">,</span>
          <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;2000-03-09&#39;</span><span class="p">,</span>
          <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39;2000-03-10&#39;</span><span class="p">},</span>
 <span class="s1">&#39;open&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="mf">118.56</span><span class="p">,</span>
          <span class="mi">1</span><span class="p">:</span> <span class="mf">127.0</span><span class="p">,</span>
          <span class="mi">2</span><span class="p">:</span> <span class="mf">124.87</span><span class="p">,</span>
          <span class="mi">3</span><span class="p">:</span> <span class="mf">126.0</span><span class="p">,</span>
          <span class="mi">4</span><span class="p">:</span> <span class="mf">126.44</span><span class="p">,</span>
          <span class="mi">5</span><span class="p">:</span> <span class="mf">122.87</span><span class="p">,</span>
          <span class="mi">6</span><span class="p">:</span> <span class="mf">120.87</span><span class="p">,</span>
          <span class="mi">7</span><span class="p">:</span> <span class="mf">121.69</span><span class="p">},</span>
 <span class="s1">&#39;cat&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
         <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span>
         <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span>
         <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span>
         <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
         <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
         <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span>
         <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39;C&#39;</span><span class="p">}</span>
  <span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">dataer_tool.visualize.bokeh</span> <span class="kn">import</span> <span class="n">line_figure_datetime</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">show</span><span class="p">,</span> <span class="n">output_notebook</span>
<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

    <div class="bk-root">
        <a href="https://bokeh.org" target="_blank" class="bk-logo bk-logo-small bk-logo-notebook"></a>
        <span id="1002">Loading BokehJS ...</span>
    </div>
</div>

</div>

<div class="output_area">




<div id="ae4e17cf-a8a1-4e8e-874a-aaf00372e44c"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#ae4e17cf-a8a1-4e8e-874a-aaf00372e44c');

(function(root) {
  function now() {
    return new Date();
  }

  var force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

  var JS_MIME_TYPE = 'application/javascript';
  var HTML_MIME_TYPE = 'text/html';
  var EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  var CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    var script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    var cell = handle.cell;

    var id = cell.output_area._bokeh_element_id;
    var server_id = cell.output_area._bokeh_server_id;
    // Clean up Bokeh references
    if (id != null && id in Bokeh.index) {
      Bokeh.index[id].model.document.clear();
      delete Bokeh.index[id];
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      var cmd = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd, {
        iopub: {
          output: function(msg) {
            var id = msg.content.text.trim();
            if (id in Bokeh.index) {
              Bokeh.index[id].model.document.clear();
              delete Bokeh.index[id];
            }
          }
        }
      });
      // Destroy server and session
      var cmd = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    var output_area = handle.output_area;
    var output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    var toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      var bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      var script_attrs = bk_div.children[0].attributes;
      for (var i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      var toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      var props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    var events = require('base/js/events');
    var OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }

  
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  var NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded() {
    var el = document.getElementById("1002");
    if (el != null) {
      el.textContent = "BokehJS is loading...";
    }
    if (root.Bokeh !== undefined) {
      if (el != null) {
        el.textContent = "BokehJS " + root.Bokeh.version + " successfully loaded.";
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(display_loaded, 100)
    }
  }


  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    const hashes = {"https://cdn.bokeh.org/bokeh/release/bokeh-2.3.3.min.js": "dM3QQsP+wXdHg42wTqW85BjZQdLNNIXqlPw/BgKoExPmTG7ZLML4EGqLMfqHT6ON", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.3.3.min.js": "8x57I4YuIfu8XyZfFo0XVr2WAT8EK4rh/uDe3wF7YuW2FNUSNEpJbsPaB1nJ2fz2", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.3.min.js": "3QTqdz9LyAm2i0sG5XTePsHec3UHWwVsrOL68SYRoAXsafvfAyqtQ+h440+qIBhS"};

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      if (url in hashes) {
        element.crossOrigin = "anonymous";
        element.integrity = "sha384-" + hashes[url];
      }
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  
  var js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-2.3.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.3.3.min.js"];
  var css_urls = [];
  

  var inline_js = [
    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
    function(Bokeh) {
    
    
    }
  ];

  function run_inline_js() {
    
    if (root.Bokeh !== undefined || force === true) {
      
    for (var i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }
    if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      var cell = $(document.getElementById("1002")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }

  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">get_count_data_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">count_column</span><span class="o">=</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="n">date_time_column</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">line_figure_datetime</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;趋势图&quot;</span><span class="p">,</span> <span class="n">draw_circle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[SaveTool(id=&#39;1319&#39;, ...), ResetTool(id=&#39;1320&#39;, ...), PanTool(id=&#39;1321&#39;, ...)]
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="bc032257-c5d4-4cfd-91ae-6ddf9d7674f5" data-root-id="1373"></div>

</div>

</div>

<div class="output_area">




<div id="fd70075e-2bad-4071-b68f-c2fedea526d9"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#fd70075e-2bad-4071-b68f-c2fedea526d9');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"c485a0c5-af75-496b-9f7f-8819667af207":{"defs":[],"roots":{"references":[{"attributes":{"children":[{"id":"1300"},{"id":"1327"}]},"id":"1373","type":"Column"},{"attributes":{},"id":"1421","type":"DatetimeTickFormatter"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1433","type":"MonthsTicker"},{"attributes":{},"id":"1422","type":"AllLabels"},{"attributes":{},"id":"1423","type":"UnionRenderers"},{"attributes":{},"id":"1424","type":"Selection"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1425","type":"AdaptiveTicker"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1426","type":"AdaptiveTicker"},{"attributes":{},"id":"1436","type":"YearsTicker"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1427","type":"AdaptiveTicker"},{"attributes":{"axis":{"id":"1337"},"ticker":null},"id":"1340","type":"Grid"},{"attributes":{"formatter":{"id":"1421"},"major_label_policy":{"id":"1422"},"ticker":{"id":"1338"}},"id":"1337","type":"DatetimeAxis"},{"attributes":{"text":"\u62d6\u52a8\u9009\u62e9 x \u533a\u95f4"},"id":"1328","type":"Title"},{"attributes":{},"id":"1330","type":"DataRange1d"},{"attributes":{"data":{"x":[951868800000.0,951955200000.0,952041600000.0,952128000000.0,952214400000.0,952300800000.0,952387200000.0,952473600000.0,952560000000.0,952646400000.0],"y":[118.56,127.0,124.87,0.0,0.0,126.0,126.44,122.87,120.87,121.69]},"selected":{"id":"1424"},"selection_policy":{"id":"1423"}},"id":"1348","type":"ColumnDataSource"},{"attributes":{},"id":"1333","type":"LinearScale"},{"attributes":{},"id":"1335","type":"LinearScale"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1438","type":"AdaptiveTicker"},{"attributes":{},"id":"1343","type":"PanTool"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1439","type":"AdaptiveTicker"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1438"},{"id":"1439"},{"id":"1440"},{"id":"1441"},{"id":"1442"},{"id":"1443"},{"id":"1444"},{"id":"1445"},{"id":"1446"},{"id":"1447"},{"id":"1448"},{"id":"1449"}]},"id":"1338","type":"DatetimeTicker"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1441","type":"DaysTicker"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1440","type":"AdaptiveTicker"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1445","type":"MonthsTicker"},{"attributes":{},"id":"1342","type":"ResetTool"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1446","type":"MonthsTicker"},{"attributes":{},"id":"1341","type":"SaveTool"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1442","type":"DaysTicker"},{"attributes":{},"id":"1415","type":"BasicTickFormatter"},{"attributes":{"days":[1,15]},"id":"1444","type":"DaysTicker"},{"attributes":{"months":[0,6]},"id":"1448","type":"MonthsTicker"},{"attributes":{"days":[1,8,15,22]},"id":"1443","type":"DaysTicker"},{"attributes":{},"id":"1449","type":"YearsTicker"},{"attributes":{"axis":{"id":"1315"},"dimension":1,"ticker":null},"id":"1318","type":"Grid"},{"attributes":{"months":[0,4,8]},"id":"1447","type":"MonthsTicker"},{"attributes":{"months":[0,4,8]},"id":"1434","type":"MonthsTicker"},{"attributes":{"fill_color":{"value":"white"},"line_color":{"value":"#66c2a5"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1355","type":"Circle"},{"attributes":{"axis_label":"y","formatter":{"id":"1415"},"major_label_policy":{"id":"1416"},"ticker":{"id":"1316"}},"id":"1315","type":"LinearAxis"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1432","type":"MonthsTicker"},{"attributes":{"months":[0,6]},"id":"1435","type":"MonthsTicker"},{"attributes":{"formatter":{"id":"1418"},"major_label_policy":{"id":"1419"},"ticker":{"id":"1312"}},"id":"1311","type":"DatetimeAxis"},{"attributes":{"above":[{"id":"1311"}],"background_fill_color":"#efefef","center":[{"id":"1314"},{"id":"1318"}],"height":325,"left":[{"id":"1315"}],"renderers":[{"id":"1352"},{"id":"1357"}],"title":{"id":"1301"},"toolbar":{"id":"1322"},"toolbar_location":null,"width":800,"x_range":{"id":"1366"},"x_scale":{"id":"1367"},"y_range":{"id":"1305"},"y_scale":{"id":"1309"}},"id":"1300","subtype":"Figure","type":"Plot"},{"attributes":{"active_multi":{"id":"1368"},"tools":[{"id":"1341"},{"id":"1342"},{"id":"1343"},{"id":"1368"}]},"id":"1344","type":"Toolbar"},{"attributes":{"callback":null,"formatters":{"@{x}":"datetime"},"tooltips":[["x","@{x}{%F}"],["y","@{y}"]]},"id":"1359","type":"HoverTool"},{"attributes":{"data_source":{"id":"1348"},"glyph":{"id":"1362"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1363"},"view":{"id":"1365"}},"id":"1364","type":"GlyphRenderer"},{"attributes":{"overlay":{"id":"1369"},"x_range":{"id":"1366"},"y_range":null},"id":"1368","type":"RangeTool"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1351","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1363","type":"Line"},{"attributes":{},"id":"1320","type":"ResetTool"},{"attributes":{"source":{"id":"1348"}},"id":"1353","type":"CDSView"},{"attributes":{},"id":"1305","type":"DataRange1d"},{"attributes":{"data_source":{"id":"1348"},"glyph":{"id":"1350"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1351"},"view":{"id":"1353"}},"id":"1352","type":"GlyphRenderer"},{"attributes":{},"id":"1321","type":"PanTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"line_color":{"value":"#66c2a5"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1356","type":"Circle"},{"attributes":{"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1362","type":"Line"},{"attributes":{},"id":"1309","type":"LinearScale"},{"attributes":{"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1350","type":"Line"},{"attributes":{"data_source":{"id":"1348"},"glyph":{"id":"1355"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1356"},"view":{"id":"1358"}},"id":"1357","type":"GlyphRenderer"},{"attributes":{"fill_alpha":0.2,"fill_color":"navy","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[2,2],"line_width":0.5,"syncable":false},"id":"1369","type":"BoxAnnotation"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1428","type":"DaysTicker"},{"attributes":{},"id":"1416","type":"AllLabels"},{"attributes":{},"id":"1316","type":"BasicTicker"},{"attributes":{"days":[1,8,15,22]},"id":"1430","type":"DaysTicker"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1425"},{"id":"1426"},{"id":"1427"},{"id":"1428"},{"id":"1429"},{"id":"1430"},{"id":"1431"},{"id":"1432"},{"id":"1433"},{"id":"1434"},{"id":"1435"},{"id":"1436"}]},"id":"1312","type":"DatetimeTicker"},{"attributes":{},"id":"1418","type":"DatetimeTickFormatter"},{"attributes":{"source":{"id":"1348"}},"id":"1365","type":"CDSView"},{"attributes":{},"id":"1319","type":"SaveTool"},{"attributes":{},"id":"1419","type":"AllLabels"},{"attributes":{"source":{"id":"1348"}},"id":"1358","type":"CDSView"},{"attributes":{"end":952387200000.0,"start":952214400000.0},"id":"1366","type":"Range1d"},{"attributes":{"text":"\u8d8b\u52bf\u56fe"},"id":"1301","type":"Title"},{"attributes":{},"id":"1367","type":"LinearScale"},{"attributes":{"active_multi":null,"tools":[{"id":"1319"},{"id":"1320"},{"id":"1321"},{"id":"1359"}]},"id":"1322","type":"Toolbar"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1429","type":"DaysTicker"},{"attributes":{"background_fill_color":"#efefef","below":[{"id":"1337"}],"center":[{"id":"1340"}],"height":175,"renderers":[{"id":"1364"}],"title":{"id":"1328"},"toolbar":{"id":"1344"},"toolbar_location":null,"width":800,"x_range":{"id":"1330"},"x_scale":{"id":"1333"},"y_range":{"id":"1305"},"y_scale":{"id":"1335"}},"id":"1327","subtype":"Figure","type":"Plot"},{"attributes":{"axis":{"id":"1311"},"ticker":null},"id":"1314","type":"Grid"},{"attributes":{"days":[1,15]},"id":"1431","type":"DaysTicker"}],"root_ids":["1373"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"c485a0c5-af75-496b-9f7f-8819667af207","root_ids":["1373"],"roots":{"1373":"bc032257-c5d4-4cfd-91ae-6ddf9d7674f5"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">get_count_data_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">count_column</span><span class="o">=</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="n">date_time_column</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">extra_meta_column</span><span class="o">=</span><span class="s1">&#39;cat&#39;</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">line_figure_datetime</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;趋势图&quot;</span><span class="p">,</span> <span class="n">draw_circle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tooltips_metadata</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[SaveTool(id=&#39;1659&#39;, ...), ResetTool(id=&#39;1660&#39;, ...), PanTool(id=&#39;1661&#39;, ...)]
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="22040084-9a6b-4a16-8ad7-a64614dfcd03" data-root-id="1713"></div>

</div>

</div>

<div class="output_area">




<div id="cdab0914-cb1a-4957-b089-bd4d095b969f"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#cdab0914-cb1a-4957-b089-bd4d095b969f');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"561a1ba5-a103-47de-b9ba-464e1a13884e":{"defs":[],"roots":{"references":[{"attributes":{"children":[{"id":"1640"},{"id":"1667"}]},"id":"1713","type":"Column"},{"attributes":{},"id":"1707","type":"LinearScale"},{"attributes":{},"id":"1645","type":"DataRange1d"},{"attributes":{"above":[{"id":"1651"}],"background_fill_color":"#efefef","center":[{"id":"1654"},{"id":"1658"}],"height":325,"left":[{"id":"1655"}],"renderers":[{"id":"1692"},{"id":"1697"}],"title":{"id":"1641"},"toolbar":{"id":"1662"},"toolbar_location":null,"width":800,"x_range":{"id":"1706"},"x_scale":{"id":"1707"},"y_range":{"id":"1645"},"y_scale":{"id":"1649"}},"id":"1640","subtype":"Figure","type":"Plot"},{"attributes":{"callback":null,"formatters":{"@{x}":"datetime"},"tooltips":[["x","@{x}{%F}"],["y","@{y}"],["A","@{A}"],["C","@{C}"],["B","@{B}"]]},"id":"1699","type":"HoverTool"},{"attributes":{"end":952387200000.0,"start":952214400000.0},"id":"1706","type":"Range1d"},{"attributes":{"days":[1,8,15,22]},"id":"1808","type":"DaysTicker"},{"attributes":{"fill_alpha":0.2,"fill_color":"navy","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[2,2],"line_width":0.5,"syncable":false},"id":"1709","type":"BoxAnnotation"},{"attributes":{"axis":{"id":"1677"},"ticker":null},"id":"1680","type":"Grid"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1810","type":"MonthsTicker"},{"attributes":{"formatter":{"id":"1799"},"major_label_policy":{"id":"1800"},"ticker":{"id":"1678"}},"id":"1677","type":"DatetimeAxis"},{"attributes":{},"id":"1814","type":"YearsTicker"},{"attributes":{"background_fill_color":"#efefef","below":[{"id":"1677"}],"center":[{"id":"1680"}],"height":175,"renderers":[{"id":"1704"}],"title":{"id":"1668"},"toolbar":{"id":"1684"},"toolbar_location":null,"width":800,"x_range":{"id":"1670"},"x_scale":{"id":"1673"},"y_range":{"id":"1645"},"y_scale":{"id":"1675"}},"id":"1667","subtype":"Figure","type":"Plot"},{"attributes":{"text":"\u62d6\u52a8\u9009\u62e9 x \u533a\u95f4"},"id":"1668","type":"Title"},{"attributes":{"days":[1,15]},"id":"1809","type":"DaysTicker"},{"attributes":{},"id":"1670","type":"DataRange1d"},{"attributes":{"months":[0,6]},"id":"1813","type":"MonthsTicker"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1811","type":"MonthsTicker"},{"attributes":{},"id":"1673","type":"LinearScale"},{"attributes":{"axis":{"id":"1655"},"dimension":1,"ticker":null},"id":"1658","type":"Grid"},{"attributes":{"data_source":{"id":"1688"},"glyph":{"id":"1695"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1696"},"view":{"id":"1698"}},"id":"1697","type":"GlyphRenderer"},{"attributes":{},"id":"1675","type":"LinearScale"},{"attributes":{"months":[0,4,8]},"id":"1812","type":"MonthsTicker"},{"attributes":{},"id":"1683","type":"PanTool"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1816"},{"id":"1817"},{"id":"1818"},{"id":"1819"},{"id":"1820"},{"id":"1821"},{"id":"1822"},{"id":"1823"},{"id":"1824"},{"id":"1825"},{"id":"1826"},{"id":"1827"}]},"id":"1678","type":"DatetimeTicker"},{"attributes":{"data":{"A":[118.56,0,0,0,0,0,126.44,122.87,0,0],"B":[0,127.0,0,0,0,126.0,0,0,0,0],"C":[0,0,124.87,0,0,0,0,0,120.87,121.69],"x":[951868800000.0,951955200000.0,952041600000.0,952128000000.0,952214400000.0,952300800000.0,952387200000.0,952473600000.0,952560000000.0,952646400000.0],"y":[118.56,127.0,124.87,0.0,0.0,126.0,126.44,122.87,120.87,121.69]},"selected":{"id":"1802"},"selection_policy":{"id":"1801"}},"id":"1688","type":"ColumnDataSource"},{"attributes":{},"id":"1682","type":"ResetTool"},{"attributes":{},"id":"1661","type":"PanTool"},{"attributes":{},"id":"1793","type":"BasicTickFormatter"},{"attributes":{},"id":"1681","type":"SaveTool"},{"attributes":{},"id":"1660","type":"ResetTool"},{"attributes":{},"id":"1794","type":"AllLabels"},{"attributes":{},"id":"1800","type":"AllLabels"},{"attributes":{},"id":"1659","type":"SaveTool"},{"attributes":{},"id":"1799","type":"DatetimeTickFormatter"},{"attributes":{},"id":"1796","type":"DatetimeTickFormatter"},{"attributes":{},"id":"1797","type":"AllLabels"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1816","type":"AdaptiveTicker"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1817","type":"AdaptiveTicker"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1819","type":"DaysTicker"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1818","type":"AdaptiveTicker"},{"attributes":{"formatter":{"id":"1796"},"major_label_policy":{"id":"1797"},"ticker":{"id":"1652"}},"id":"1651","type":"DatetimeAxis"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1823","type":"MonthsTicker"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1824","type":"MonthsTicker"},{"attributes":{"source":{"id":"1688"}},"id":"1698","type":"CDSView"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1820","type":"DaysTicker"},{"attributes":{"days":[1,15]},"id":"1822","type":"DaysTicker"},{"attributes":{},"id":"1656","type":"BasicTicker"},{"attributes":{"months":[0,6]},"id":"1826","type":"MonthsTicker"},{"attributes":{},"id":"1649","type":"LinearScale"},{"attributes":{"axis":{"id":"1651"},"ticker":null},"id":"1654","type":"Grid"},{"attributes":{"days":[1,8,15,22]},"id":"1821","type":"DaysTicker"},{"attributes":{"active_multi":{"id":"1708"},"tools":[{"id":"1681"},{"id":"1682"},{"id":"1683"},{"id":"1708"}]},"id":"1684","type":"Toolbar"},{"attributes":{},"id":"1827","type":"YearsTicker"},{"attributes":{},"id":"1802","type":"Selection"},{"attributes":{"months":[0,4,8]},"id":"1825","type":"MonthsTicker"},{"attributes":{"source":{"id":"1688"}},"id":"1693","type":"CDSView"},{"attributes":{"source":{"id":"1688"}},"id":"1705","type":"CDSView"},{"attributes":{"data_source":{"id":"1688"},"glyph":{"id":"1690"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1691"},"view":{"id":"1693"}},"id":"1692","type":"GlyphRenderer"},{"attributes":{"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1690","type":"Line"},{"attributes":{},"id":"1801","type":"UnionRenderers"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1803"},{"id":"1804"},{"id":"1805"},{"id":"1806"},{"id":"1807"},{"id":"1808"},{"id":"1809"},{"id":"1810"},{"id":"1811"},{"id":"1812"},{"id":"1813"},{"id":"1814"}]},"id":"1652","type":"DatetimeTicker"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1691","type":"Line"},{"attributes":{"fill_color":{"value":"white"},"line_color":{"value":"#66c2a5"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1695","type":"Circle"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1703","type":"Line"},{"attributes":{"overlay":{"id":"1709"},"x_range":{"id":"1706"},"y_range":null},"id":"1708","type":"RangeTool"},{"attributes":{"data_source":{"id":"1688"},"glyph":{"id":"1702"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1703"},"view":{"id":"1705"}},"id":"1704","type":"GlyphRenderer"},{"attributes":{"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1702","type":"Line"},{"attributes":{"text":"\u8d8b\u52bf\u56fe"},"id":"1641","type":"Title"},{"attributes":{"axis_label":"y","formatter":{"id":"1793"},"major_label_policy":{"id":"1794"},"ticker":{"id":"1656"}},"id":"1655","type":"LinearAxis"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"line_color":{"value":"#66c2a5"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1696","type":"Circle"},{"attributes":{"active_multi":null,"tools":[{"id":"1659"},{"id":"1660"},{"id":"1661"},{"id":"1699"}]},"id":"1662","type":"Toolbar"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1803","type":"AdaptiveTicker"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1804","type":"AdaptiveTicker"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1806","type":"DaysTicker"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1805","type":"AdaptiveTicker"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1807","type":"DaysTicker"}],"root_ids":["1713"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"561a1ba5-a103-47de-b9ba-464e1a13884e","root_ids":["1713"],"roots":{"1713":"22040084-9a6b-4a16-8ad7-a64614dfcd03"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">get_count_data_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">count_column</span><span class="o">=</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="n">date_time_column</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">extra_meta_column</span><span class="o">=</span><span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="n">cumsum</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">line_figure_datetime</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;趋势图&quot;</span><span class="p">,</span> <span class="n">draw_circle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tooltips_metadata</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[SaveTool(id=&#39;2037&#39;, ...), ResetTool(id=&#39;2038&#39;, ...), PanTool(id=&#39;2039&#39;, ...)]
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="924e02c0-8093-4e28-8a34-56a9c28fe6ff" data-root-id="2091"></div>

</div>

</div>

<div class="output_area">




<div id="f998f063-788b-4551-b5d9-8cd0e48e9d60"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#f998f063-788b-4551-b5d9-8cd0e48e9d60');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"db2af6eb-34b8-48c2-9434-0e4c3bc065d9":{"defs":[],"roots":{"references":[{"attributes":{"children":[{"id":"2018"},{"id":"2045"}]},"id":"2091","type":"Column"},{"attributes":{"active_multi":{"id":"2086"},"tools":[{"id":"2059"},{"id":"2060"},{"id":"2061"},{"id":"2086"}]},"id":"2062","type":"Toolbar"},{"attributes":{},"id":"2217","type":"UnionRenderers"},{"attributes":{},"id":"2218","type":"Selection"},{"attributes":{"months":[0,6]},"id":"2229","type":"MonthsTicker"},{"attributes":{},"id":"2039","type":"PanTool"},{"attributes":{},"id":"2038","type":"ResetTool"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"2219"},{"id":"2220"},{"id":"2221"},{"id":"2222"},{"id":"2223"},{"id":"2224"},{"id":"2225"},{"id":"2226"},{"id":"2227"},{"id":"2228"},{"id":"2229"},{"id":"2230"}]},"id":"2030","type":"DatetimeTicker"},{"attributes":{},"id":"2085","type":"LinearScale"},{"attributes":{},"id":"2051","type":"LinearScale"},{"attributes":{"data":{"A":[118.56,0,0,0,0,0,126.44,122.87,0,0],"B":[0,127.0,0,0,0,126.0,0,0,0,0],"C":[0,0,124.87,0,0,0,0,0,120.87,121.69],"x":[951868800000.0,951955200000.0,952041600000.0,952128000000.0,952214400000.0,952300800000.0,952387200000.0,952473600000.0,952560000000.0,952646400000.0],"y":[118.56,245.56,370.43,370.43,370.43,496.43,622.87,745.74,866.61,988.3]},"selected":{"id":"2218"},"selection_policy":{"id":"2217"}},"id":"2066","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"2029"},"ticker":null},"id":"2032","type":"Grid"},{"attributes":{"active_multi":null,"tools":[{"id":"2037"},{"id":"2038"},{"id":"2039"},{"id":"2077"}]},"id":"2040","type":"Toolbar"},{"attributes":{"axis_label":"y","formatter":{"id":"2209"},"major_label_policy":{"id":"2210"},"ticker":{"id":"2034"}},"id":"2033","type":"LinearAxis"},{"attributes":{"axis":{"id":"2033"},"dimension":1,"ticker":null},"id":"2036","type":"Grid"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"2069","type":"Line"},{"attributes":{},"id":"2037","type":"SaveTool"},{"attributes":{},"id":"2027","type":"LinearScale"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"2219","type":"AdaptiveTicker"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"2220","type":"AdaptiveTicker"},{"attributes":{},"id":"2023","type":"DataRange1d"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"2221","type":"AdaptiveTicker"},{"attributes":{"fill_alpha":0.2,"fill_color":"navy","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[2,2],"line_width":0.5,"syncable":false},"id":"2087","type":"BoxAnnotation"},{"attributes":{"formatter":{"id":"2212"},"major_label_policy":{"id":"2213"},"ticker":{"id":"2030"}},"id":"2029","type":"DatetimeAxis"},{"attributes":{"background_fill_color":"#efefef","below":[{"id":"2055"}],"center":[{"id":"2058"}],"height":175,"renderers":[{"id":"2082"}],"title":{"id":"2046"},"toolbar":{"id":"2062"},"toolbar_location":null,"width":800,"x_range":{"id":"2048"},"x_scale":{"id":"2051"},"y_range":{"id":"2023"},"y_scale":{"id":"2053"}},"id":"2045","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"2034","type":"BasicTicker"},{"attributes":{"text":"\u62d6\u52a8\u9009\u62e9 x \u533a\u95f4"},"id":"2046","type":"Title"},{"attributes":{},"id":"2053","type":"LinearScale"},{"attributes":{},"id":"2048","type":"DataRange1d"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"2232","type":"AdaptiveTicker"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"2233","type":"AdaptiveTicker"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"2235","type":"DaysTicker"},{"attributes":{"source":{"id":"2066"}},"id":"2071","type":"CDSView"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"2234","type":"AdaptiveTicker"},{"attributes":{"callback":null,"formatters":{"@{x}":"datetime"},"tooltips":[["x","@{x}{%F}"],["y","@{y}"],["A","@{A}"],["C","@{C}"],["B","@{B}"]]},"id":"2077","type":"HoverTool"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"2239","type":"MonthsTicker"},{"attributes":{"data_source":{"id":"2066"},"glyph":{"id":"2068"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2069"},"view":{"id":"2071"}},"id":"2070","type":"GlyphRenderer"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"2240","type":"MonthsTicker"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"2236","type":"DaysTicker"},{"attributes":{"days":[1,15]},"id":"2238","type":"DaysTicker"},{"attributes":{"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"2068","type":"Line"},{"attributes":{"months":[0,6]},"id":"2242","type":"MonthsTicker"},{"attributes":{"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"2080","type":"Line"},{"attributes":{"days":[1,8,15,22]},"id":"2237","type":"DaysTicker"},{"attributes":{},"id":"2243","type":"YearsTicker"},{"attributes":{},"id":"2230","type":"YearsTicker"},{"attributes":{"formatter":{"id":"2215"},"major_label_policy":{"id":"2216"},"ticker":{"id":"2056"}},"id":"2055","type":"DatetimeAxis"},{"attributes":{"fill_color":{"value":"white"},"line_color":{"value":"#66c2a5"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"2073","type":"Circle"},{"attributes":{"months":[0,4,8]},"id":"2241","type":"MonthsTicker"},{"attributes":{"months":[0,4,8]},"id":"2228","type":"MonthsTicker"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"line_color":{"value":"#66c2a5"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"2074","type":"Circle"},{"attributes":{"data_source":{"id":"2066"},"glyph":{"id":"2080"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2081"},"view":{"id":"2083"}},"id":"2082","type":"GlyphRenderer"},{"attributes":{"source":{"id":"2066"}},"id":"2076","type":"CDSView"},{"attributes":{"data_source":{"id":"2066"},"glyph":{"id":"2073"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2074"},"view":{"id":"2076"}},"id":"2075","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"2081","type":"Line"},{"attributes":{"source":{"id":"2066"}},"id":"2083","type":"CDSView"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"2227","type":"MonthsTicker"},{"attributes":{"days":[1,15]},"id":"2225","type":"DaysTicker"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"2226","type":"MonthsTicker"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"2222","type":"DaysTicker"},{"attributes":{},"id":"2209","type":"BasicTickFormatter"},{"attributes":{"overlay":{"id":"2087"},"x_range":{"id":"2084"},"y_range":null},"id":"2086","type":"RangeTool"},{"attributes":{},"id":"2210","type":"AllLabels"},{"attributes":{"end":952387200000.0,"start":952214400000.0},"id":"2084","type":"Range1d"},{"attributes":{},"id":"2212","type":"DatetimeTickFormatter"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"2232"},{"id":"2233"},{"id":"2234"},{"id":"2235"},{"id":"2236"},{"id":"2237"},{"id":"2238"},{"id":"2239"},{"id":"2240"},{"id":"2241"},{"id":"2242"},{"id":"2243"}]},"id":"2056","type":"DatetimeTicker"},{"attributes":{},"id":"2213","type":"AllLabels"},{"attributes":{"days":[1,8,15,22]},"id":"2224","type":"DaysTicker"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"2223","type":"DaysTicker"},{"attributes":{},"id":"2061","type":"PanTool"},{"attributes":{},"id":"2060","type":"ResetTool"},{"attributes":{},"id":"2059","type":"SaveTool"},{"attributes":{"text":"\u8d8b\u52bf\u56fe"},"id":"2019","type":"Title"},{"attributes":{"axis":{"id":"2055"},"ticker":null},"id":"2058","type":"Grid"},{"attributes":{},"id":"2215","type":"DatetimeTickFormatter"},{"attributes":{"above":[{"id":"2029"}],"background_fill_color":"#efefef","center":[{"id":"2032"},{"id":"2036"}],"height":325,"left":[{"id":"2033"}],"renderers":[{"id":"2070"},{"id":"2075"}],"title":{"id":"2019"},"toolbar":{"id":"2040"},"toolbar_location":null,"width":800,"x_range":{"id":"2084"},"x_scale":{"id":"2085"},"y_range":{"id":"2023"},"y_scale":{"id":"2027"}},"id":"2018","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"2216","type":"AllLabels"}],"root_ids":["2091"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"db2af6eb-34b8-48c2-9434-0e4c3bc065d9","root_ids":["2091"],"roots":{"2091":"924e02c0-8093-4e28-8a34-56a9c28fe6ff"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    

</div>
 



    <div class="tags">
        
    </div>

</div>



<footer>
            <div class="row">
                <div class="col-lg-12 footer">
                  <p><img src="/assets/images/company_logo.png" alt="Company logo"/></p>
               &copy;2021 Junxin Gao. All rights reserved. <br />
 Site last generated: Sep 10, 2021 <br />
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
