---

title: Visualize Bokeh


keywords: fastai
sidebar: home_sidebar

summary: "Use bokeh to do visualize"
description: "Use bokeh to do visualize"
nb_path: "nbs/01_visualize.bokeh.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/01_visualize.bokeh.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="count2colors" class="doc_header"><code>count2colors</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L27" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>count2colors</code>(<strong><code>count</code></strong>:<code>int</code>)</p>
</blockquote>
<p>colors from <code>bokeh.palettes</code>
range:
    1:12    -&gt; Spectral,
    12:21   -&gt; Category20,
    21:257  -&gt; Viridis256,
    257:769 -&gt; Turbo256+Cividis256+Viridis256</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">count2colors</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2021-08-27 02:12:40.418 | ERROR    | __main__:&lt;module&gt;:4 - Invalid count=-1, must &gt; 0
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">count2colors</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;#66c2a5&#39;, &#39;#fc8d62&#39;, &#39;#8da0cb&#39;, &#39;#e78ac3&#39;, &#39;#a6d854&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">count2colors</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;#1f77b4&#39;,
 &#39;#aec7e8&#39;,
 &#39;#ff7f0e&#39;,
 &#39;#ffbb78&#39;,
 &#39;#2ca02c&#39;,
 &#39;#98df8a&#39;,
 &#39;#d62728&#39;,
 &#39;#ff9896&#39;,
 &#39;#9467bd&#39;,
 &#39;#c5b0d5&#39;,
 &#39;#8c564b&#39;,
 &#39;#c49c94&#39;,
 &#39;#e377c2&#39;,
 &#39;#f7b6d2&#39;,
 &#39;#7f7f7f&#39;,
 &#39;#c7c7c7&#39;,
 &#39;#bcbd22&#39;,
 &#39;#dbdb8d&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">count2colors</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2021-08-27 02:12:41.516 | ERROR    | __main__:&lt;module&gt;:4 - Invalid count=1000, must &lt;= 768
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="bar_figure" class="doc_header"><code>bar_figure</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L54" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>bar_figure</code>(<strong><code>data</code></strong>:<code>dict</code>, <strong><code>title</code></strong>=<em><code>'统计'</code></em>, <strong><code>with_label</code></strong>=<em><code>True</code></em>, <strong><code>y_log_multiple_thresh</code></strong>=<em><code>1000</code></em>, <strong><code>eps</code></strong>=<em><code>0.1</code></em>, <strong><code>hide_legend</code></strong>=<em><code>False</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>legend_orientation</code></strong>=<em><code>'vertical'</code></em>, <strong><code>legend_location</code></strong>=<em><code>'top_right'</code></em>, <strong><code>vertical_bar</code></strong>=<em><code>True</code></em>, <strong><code>xaxis_major_label_orientation</code></strong>=<em><code>0.39269908169872414</code></em>, <strong><code>label_angle</code></strong>=<em><code>0</code></em>, <strong><code>bar_width</code></strong>=<em><code>0.8</code></em>, <strong><code>draw_line_circle</code></strong>=<em><code>False</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">output_notebook</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

    <div class="bk-root">
        <a href="https://bokeh.org" target="_blank" class="bk-logo bk-logo-small bk-logo-notebook"></a>
        <span id="1002">Loading BokehJS ...</span>
    </div>
</div>

</div>

<div class="output_area">




<div id="d739ad24-93a3-4fe9-a39f-91ffe0e634fa"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#d739ad24-93a3-4fe9-a39f-91ffe0e634fa');

(function(root) {
  function now() {
    return new Date();
  }

  var force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

  var JS_MIME_TYPE = 'application/javascript';
  var HTML_MIME_TYPE = 'text/html';
  var EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  var CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    var script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    var cell = handle.cell;

    var id = cell.output_area._bokeh_element_id;
    var server_id = cell.output_area._bokeh_server_id;
    // Clean up Bokeh references
    if (id != null && id in Bokeh.index) {
      Bokeh.index[id].model.document.clear();
      delete Bokeh.index[id];
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      var cmd = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd, {
        iopub: {
          output: function(msg) {
            var id = msg.content.text.trim();
            if (id in Bokeh.index) {
              Bokeh.index[id].model.document.clear();
              delete Bokeh.index[id];
            }
          }
        }
      });
      // Destroy server and session
      var cmd = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    var output_area = handle.output_area;
    var output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    var toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      var bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      var script_attrs = bk_div.children[0].attributes;
      for (var i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      var toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      var props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    var events = require('base/js/events');
    var OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }

  
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  var NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded() {
    var el = document.getElementById("1002");
    if (el != null) {
      el.textContent = "BokehJS is loading...";
    }
    if (root.Bokeh !== undefined) {
      if (el != null) {
        el.textContent = "BokehJS " + root.Bokeh.version + " successfully loaded.";
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(display_loaded, 100)
    }
  }


  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    const hashes = {"https://cdn.bokeh.org/bokeh/release/bokeh-2.3.3.min.js": "dM3QQsP+wXdHg42wTqW85BjZQdLNNIXqlPw/BgKoExPmTG7ZLML4EGqLMfqHT6ON", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.3.3.min.js": "8x57I4YuIfu8XyZfFo0XVr2WAT8EK4rh/uDe3wF7YuW2FNUSNEpJbsPaB1nJ2fz2", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.3.min.js": "3QTqdz9LyAm2i0sG5XTePsHec3UHWwVsrOL68SYRoAXsafvfAyqtQ+h440+qIBhS"};

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      if (url in hashes) {
        element.crossOrigin = "anonymous";
        element.integrity = "sha384-" + hashes[url];
      }
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  
  var js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-2.3.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.3.3.min.js"];
  var css_urls = [];
  

  var inline_js = [
    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
    function(Bokeh) {
    
    
    }
  ];

  function run_inline_js() {
    
    if (root.Bokeh !== undefined || force === true) {
      
    for (var i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }
    if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      var cell = $(document.getElementById("1002")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }

  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
    <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">bar_figure</span><span class="p">(</span><span class="n">test_data</span><span class="p">,</span> <span class="n">label_angle</span><span class="o">=</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="n">draw_line_circle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="1f74d799-d21d-4cd1-99cb-4ee692f82f4a" data-root-id="1004"></div>

</div>

</div>

<div class="output_area">




<div id="52e06162-1ab2-4081-a7c2-2971d36c4a49"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#52e06162-1ab2-4081-a7c2-2971d36c4a49');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"53172474-02d2-44ff-b939-1cad4df94231":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"1015"}],"center":[{"id":"1017"},{"id":"1021"},{"id":"1043"},{"id":"1045"}],"left":[{"id":"1018"}],"renderers":[{"id":"1032"},{"id":"1050"},{"id":"1055"}],"title":{"id":"1005"},"toolbar":{"id":"1025"},"toolbar_location":"above","x_range":{"id":"1007"},"x_scale":{"id":"1011"},"y_range":{"id":"1009"},"y_scale":{"id":"1013"}},"id":"1004","subtype":"Figure","type":"Plot"},{"attributes":{"bottom":{"value":0.1},"fill_color":{"field":"color"},"line_color":{"field":"color"},"top":{"field":"y"},"width":{"value":0.8},"x":{"field":"x"}},"id":"1030","type":"VBar"},{"attributes":{"text":"\u7edf\u8ba1"},"id":"1005","type":"Title"},{"attributes":{},"id":"1011","type":"CategoricalScale"},{"attributes":{"source":{"id":"1003"}},"id":"1033","type":"CDSView"},{"attributes":{"bottom":{"value":0.1},"fill_alpha":{"value":0.1},"fill_color":{"field":"color"},"line_alpha":{"value":0.1},"line_color":{"field":"color"},"top":{"field":"y"},"width":{"value":0.8},"x":{"field":"x"}},"id":"1031","type":"VBar"},{"attributes":{"angle":{"value":0.39269908169872414},"level":"glyph","source":{"id":"1003"},"text":{"field":"y"},"text_font_size":{"value":"9pt"},"x":{"field":"x"},"x_offset":{"value":-8},"y":{"field":"y"},"y_offset":{"value":2}},"id":"1045","type":"LabelSet"},{"attributes":{"factors":["A","B","C","D"]},"id":"1007","type":"FactorRange"},{"attributes":{},"id":"1013","type":"LinearScale"},{"attributes":{},"id":"1042","type":"UnionRenderers"},{"attributes":{"data_source":{"id":"1003"},"glyph":{"id":"1048"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1049"},"view":{"id":"1051"}},"id":"1050","type":"GlyphRenderer"},{"attributes":{"formatter":{"id":"1035"},"major_label_policy":{"id":"1036"},"ticker":{"id":"1019"}},"id":"1018","type":"LinearAxis"},{"attributes":{"source":{"id":"1003"}},"id":"1051","type":"CDSView"},{"attributes":{},"id":"1009","type":"DataRange1d"},{"attributes":{},"id":"1016","type":"CategoricalTicker"},{"attributes":{"fill_color":{"value":"white"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1053","type":"Circle"},{"attributes":{"axis":{"id":"1015"},"grid_line_color":null,"ticker":null},"id":"1017","type":"Grid"},{"attributes":{"line_color":"#4292c6","x":{"field":"x"},"y":{"field":"y"}},"id":"1048","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"#4292c6","x":{"field":"x"},"y":{"field":"y"}},"id":"1049","type":"Line"},{"attributes":{"label":{"field":"x"},"renderers":[{"id":"1032"}]},"id":"1044","type":"LegendItem"},{"attributes":{"axis":{"id":"1018"},"dimension":1,"ticker":null},"id":"1021","type":"Grid"},{"attributes":{},"id":"1019","type":"BasicTicker"},{"attributes":{"source":{"id":"1003"}},"id":"1056","type":"CDSView"},{"attributes":{"data_source":{"id":"1003"},"glyph":{"id":"1030"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1031"},"view":{"id":"1033"}},"id":"1032","type":"GlyphRenderer"},{"attributes":{},"id":"1039","type":"AllLabels"},{"attributes":{},"id":"1024","type":"PanTool"},{"attributes":{},"id":"1023","type":"ResetTool"},{"attributes":{},"id":"1022","type":"SaveTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1054","type":"Circle"},{"attributes":{"active_multi":null,"tools":[{"id":"1022"},{"id":"1023"},{"id":"1024"}]},"id":"1025","type":"Toolbar"},{"attributes":{"data_source":{"id":"1003"},"glyph":{"id":"1053"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1054"},"view":{"id":"1056"}},"id":"1055","type":"GlyphRenderer"},{"attributes":{"items":[{"id":"1044"}]},"id":"1043","type":"Legend"},{"attributes":{},"id":"1041","type":"Selection"},{"attributes":{},"id":"1036","type":"AllLabels"},{"attributes":{},"id":"1038","type":"CategoricalTickFormatter"},{"attributes":{"formatter":{"id":"1038"},"major_label_orientation":0.39269908169872414,"major_label_policy":{"id":"1039"},"ticker":{"id":"1016"}},"id":"1015","type":"CategoricalAxis"},{"attributes":{"data":{"color":["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],"x":["A","B","C","D"],"y":[10000,1000,100,10]},"selected":{"id":"1041"},"selection_policy":{"id":"1042"}},"id":"1003","type":"ColumnDataSource"},{"attributes":{},"id":"1035","type":"BasicTickFormatter"}],"root_ids":["1004"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"53172474-02d2-44ff-b939-1cad4df94231","root_ids":["1004"],"roots":{"1004":"1f74d799-d21d-4cd1-99cb-4ee692f82f4a"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">88</span><span class="p">,</span>
    <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">bar_figure</span><span class="p">(</span><span class="n">test_data</span><span class="p">,</span> <span class="n">vertical_bar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="3c29379c-6f84-4d5b-8203-c4366da04aa9" data-root-id="1112"></div>

</div>

</div>

<div class="output_area">




<div id="0cec36bf-e8cf-443f-ad89-e7775632246c"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#0cec36bf-e8cf-443f-ad89-e7775632246c');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"5a2134aa-31d2-4bed-a458-19b0b946f0e5":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"1123"}],"center":[{"id":"1126"},{"id":"1129"},{"id":"1151"},{"id":"1153"}],"left":[{"id":"1127"}],"renderers":[{"id":"1140"}],"title":{"id":"1113"},"toolbar":{"id":"1133"},"toolbar_location":"above","x_range":{"id":"1115"},"x_scale":{"id":"1119"},"y_range":{"id":"1117"},"y_scale":{"id":"1121"}},"id":"1112","subtype":"Figure","type":"Plot"},{"attributes":{"active_multi":null,"tools":[{"id":"1130"},{"id":"1131"},{"id":"1132"}]},"id":"1133","type":"Toolbar"},{"attributes":{},"id":"1146","type":"BasicTickFormatter"},{"attributes":{"formatter":{"id":"1146"},"major_label_orientation":0.39269908169872414,"major_label_policy":{"id":"1147"},"ticker":{"id":"1124"}},"id":"1123","type":"LinearAxis"},{"attributes":{},"id":"1147","type":"AllLabels"},{"attributes":{"axis":{"id":"1123"},"grid_line_color":null,"ticker":null},"id":"1126","type":"Grid"},{"attributes":{"items":[{"id":"1152"}]},"id":"1151","type":"Legend"},{"attributes":{},"id":"1121","type":"CategoricalScale"},{"attributes":{"formatter":{"id":"1143"},"major_label_policy":{"id":"1144"},"ticker":{"id":"1128"}},"id":"1127","type":"CategoricalAxis"},{"attributes":{"source":{"id":"1111"}},"id":"1141","type":"CDSView"},{"attributes":{},"id":"1124","type":"BasicTicker"},{"attributes":{"data_source":{"id":"1111"},"glyph":{"id":"1138"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1139"},"view":{"id":"1141"}},"id":"1140","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"color"},"height":{"value":0.8},"line_alpha":{"value":0.1},"line_color":{"field":"color"},"right":{"field":"y"},"y":{"field":"x"}},"id":"1139","type":"HBar"},{"attributes":{},"id":"1150","type":"UnionRenderers"},{"attributes":{"axis":{"id":"1127"},"dimension":1,"ticker":null},"id":"1129","type":"Grid"},{"attributes":{},"id":"1128","type":"CategoricalTicker"},{"attributes":{"label":{"field":"x"},"renderers":[{"id":"1140"}]},"id":"1152","type":"LegendItem"},{"attributes":{},"id":"1132","type":"PanTool"},{"attributes":{},"id":"1131","type":"ResetTool"},{"attributes":{},"id":"1130","type":"SaveTool"},{"attributes":{"data":{"color":["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],"x":["A","B","C","D"],"y":[100,88,99,10]},"selected":{"id":"1149"},"selection_policy":{"id":"1150"}},"id":"1111","type":"ColumnDataSource"},{"attributes":{},"id":"1149","type":"Selection"},{"attributes":{"fill_color":{"field":"color"},"height":{"value":0.8},"line_color":{"field":"color"},"right":{"field":"y"},"y":{"field":"x"}},"id":"1138","type":"HBar"},{"attributes":{"text":"\u7edf\u8ba1"},"id":"1113","type":"Title"},{"attributes":{"factors":["A","B","C","D"]},"id":"1117","type":"FactorRange"},{"attributes":{"level":"glyph","source":{"id":"1111"},"text":{"field":"y"},"text_font_size":{"value":"9pt"},"x":{"field":"y"},"x_offset":{"value":2},"y":{"field":"x"},"y_offset":{"value":-8}},"id":"1153","type":"LabelSet"},{"attributes":{},"id":"1143","type":"CategoricalTickFormatter"},{"attributes":{},"id":"1144","type":"AllLabels"},{"attributes":{},"id":"1119","type":"LinearScale"},{"attributes":{},"id":"1115","type":"DataRange1d"}],"root_ids":["1112"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"5a2134aa-31d2-4bed-a458-19b0b946f0e5","root_ids":["1112"],"roots":{"1112":"3c29379c-6f84-4d5b-8203-c4366da04aa9"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="line_figure_datetime" class="doc_header"><code>line_figure_datetime</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L96" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>line_figure_datetime</code>(<strong><code>data_list</code></strong>:<code>list</code>, <strong><code>plot_width</code></strong>=<em><code>800</code></em>, <strong><code>plot_height</code></strong>=<em><code>500</code></em>, <strong><code>x_dtype</code></strong>=<em><code>datetime64</code></em>, <strong><code>select_title</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>draw_circle</code></strong>=<em><code>False</code></em>, <strong><code>tooltips_metadata</code></strong>:<code>list</code>=<em><code>None</code></em>, <strong><code>x_name</code></strong>=<em><code>'x'</code></em>, <strong><code>y_name</code></strong>=<em><code>'y'</code></em>, <strong><code>legend_labels</code></strong>:<code>list</code>=<em><code>None</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>use_select_figure</code></strong>=<em><code>True</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>legend_alpha</code></strong>=<em><code>0.8</code></em>, <strong><code>legend_orientation</code></strong>=<em><code>'vertical'</code></em>, <strong><code>legend_location</code></strong>=<em><code>'top_right'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.util.sampledata</span> <span class="kn">import</span> <span class="n">_download_file</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="n">dst_data_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span><span class="o">/</span><span class="s1">&#39;.bokeh&#39;</span><span class="o">/</span><span class="s1">&#39;data&#39;</span>
<span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">dst_data_dir</span><span class="o">/</span><span class="s1">&#39;AAPL.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="n">dst_data_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">_download_file</span><span class="p">(</span><span class="s1">&#39;http://sampledata.bokeh.org&#39;</span><span class="p">,</span> <span class="s1">&#39;AAPL.csv&#39;</span><span class="p">,</span> <span class="n">dst_data_dir</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.sampledata.stocks</span> <span class="kn">import</span> <span class="n">AAPL</span>

<span class="n">test_data</span> <span class="o">=</span> <span class="p">{</span> <span class="n">x</span><span class="p">:</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">AAPL</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">][:</span><span class="mi">300</span><span class="p">],</span> <span class="n">AAPL</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">][:</span><span class="mi">300</span><span class="p">])}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">line_figure_datetime</span><span class="p">(</span><span class="n">test_data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;趋势图&quot;</span><span class="p">,</span> <span class="n">draw_circle</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">use_select_figure</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/junxin/.local/lib/python3.8/site-packages/bokeh/models/plots.py:766: UserWarning: 
You are attempting to set `plot.legend.background_fill_alpha` on a plot that has zero legends added, this will have no effect.

Before legend properties can be set, you must add a Legend explicitly, or call a glyph method with a legend parameter set.

  warnings.warn(_LEGEND_EMPTY_WARNING % attr)
/home/junxin/.local/lib/python3.8/site-packages/bokeh/models/plots.py:766: UserWarning: 
You are attempting to set `plot.legend.orientation` on a plot that has zero legends added, this will have no effect.

Before legend properties can be set, you must add a Legend explicitly, or call a glyph method with a legend parameter set.

  warnings.warn(_LEGEND_EMPTY_WARNING % attr)
/home/junxin/.local/lib/python3.8/site-packages/bokeh/models/plots.py:766: UserWarning: 
You are attempting to set `plot.legend.location` on a plot that has zero legends added, this will have no effect.

Before legend properties can be set, you must add a Legend explicitly, or call a glyph method with a legend parameter set.

  warnings.warn(_LEGEND_EMPTY_WARNING % attr)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="5123b04b-2872-4ca1-b5a4-f57702dee44c" data-root-id="1218"></div>

</div>

</div>

<div class="output_area">




<div id="ed994007-4cb8-43ac-9720-ca3c688206d4"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#ed994007-4cb8-43ac-9720-ca3c688206d4');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"cefbeaa3-02e3-4766-bb6c-8d565ed6d596":{"defs":[],"roots":{"references":[{"attributes":{"background_fill_color":"#efefef","below":[{"id":"1229"}],"center":[{"id":"1232"},{"id":"1236"}],"height":325,"left":[{"id":"1233"}],"renderers":[{"id":"1248"}],"title":{"id":"1219"},"toolbar":{"id":"1240"},"toolbar_location":"above","width":800,"x_range":{"id":"1221"},"x_scale":{"id":"1252"},"y_range":{"id":"1223"},"y_scale":{"id":"1227"}},"id":"1218","subtype":"Figure","type":"Plot"},{"attributes":{"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1246","type":"Line"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1278","type":"AdaptiveTicker"},{"attributes":{},"id":"1272","type":"BasicTickFormatter"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"x"},"y":{"field":"y"}},"id":"1247","type":"Line"},{"attributes":{},"id":"1273","type":"AllLabels"},{"attributes":{},"id":"1238","type":"ResetTool"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1281","type":"DaysTicker"},{"attributes":{"formatter":{"id":"1275"},"major_label_policy":{"id":"1276"},"ticker":{"id":"1230"}},"id":"1229","type":"DatetimeAxis"},{"attributes":{},"id":"1275","type":"DatetimeTickFormatter"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1278"},{"id":"1279"},{"id":"1280"},{"id":"1281"},{"id":"1282"},{"id":"1283"},{"id":"1284"},{"id":"1285"},{"id":"1286"},{"id":"1287"},{"id":"1288"},{"id":"1289"}]},"id":"1230","type":"DatetimeTicker"},{"attributes":{"axis":{"id":"1233"},"dimension":1,"ticker":null},"id":"1236","type":"Grid"},{"attributes":{},"id":"1276","type":"AllLabels"},{"attributes":{},"id":"1234","type":"BasicTicker"},{"attributes":{"source":{"id":"1244"}},"id":"1249","type":"CDSView"},{"attributes":{},"id":"1289","type":"YearsTicker"},{"attributes":{},"id":"1237","type":"SaveTool"},{"attributes":{},"id":"1239","type":"PanTool"},{"attributes":{"months":[0,4,8]},"id":"1287","type":"MonthsTicker"},{"attributes":{"months":[0,6]},"id":"1288","type":"MonthsTicker"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1282","type":"DaysTicker"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1280","type":"AdaptiveTicker"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1285","type":"MonthsTicker"},{"attributes":{},"id":"1290","type":"Selection"},{"attributes":{"days":[1,15]},"id":"1284","type":"DaysTicker"},{"attributes":{"days":[1,8,15,22]},"id":"1283","type":"DaysTicker"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1286","type":"MonthsTicker"},{"attributes":{"text":"\u8d8b\u52bf\u56fe"},"id":"1219","type":"Title"},{"attributes":{"active_multi":null,"tools":[{"id":"1237"},{"id":"1238"},{"id":"1239"},{"id":"1250"}]},"id":"1240","type":"Toolbar"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1279","type":"AdaptiveTicker"},{"attributes":{},"id":"1221","type":"DataRange1d"},{"attributes":{"data":{"x":[951868800000.0,951955200000.0,952041600000.0,952300800000.0,952387200000.0,952473600000.0,952560000000.0,952646400000.0,952905600000.0,952992000000.0,953078400000.0,953164800000.0,953251200000.0,953510400000.0,953596800000.0,953683200000.0,953769600000.0,953856000000.0,954115200000.0,954201600000.0,954288000000.0,954374400000.0,954460800000.0,954720000000.0,954806400000.0,954892800000.0,954979200000.0,955065600000.0,955324800000.0,955411200000.0,955497600000.0,955584000000.0,955670400000.0,955929600000.0,956016000000.0,956102400000.0,956188800000.0,956534400000.0,956620800000.0,956707200000.0,956793600000.0,956880000000.0,957139200000.0,957225600000.0,957312000000.0,957398400000.0,957484800000.0,957744000000.0,957830400000.0,957916800000.0,958003200000.0,958089600000.0,958348800000.0,958435200000.0,958521600000.0,958608000000.0,958694400000.0,958953600000.0,959040000000.0,959126400000.0,959212800000.0,959299200000.0,959644800000.0,959731200000.0,959817600000.0,959904000000.0,960163200000.0,960249600000.0,960336000000.0,960422400000.0,960508800000.0,960768000000.0,960854400000.0,960940800000.0,961027200000.0,961113600000.0,961372800000.0,961459200000.0,961545600000.0,961632000000.0,961718400000.0,961977600000.0,962064000000.0,962150400000.0,962236800000.0,962323200000.0,962582400000.0,962755200000.0,962841600000.0,962928000000.0,963187200000.0,963273600000.0,963360000000.0,963446400000.0,963532800000.0,963792000000.0,963878400000.0,963964800000.0,964051200000.0,964137600000.0,964396800000.0,964483200000.0,964569600000.0,964656000000.0,964742400000.0,965001600000.0,965088000000.0,965174400000.0,965260800000.0,965347200000.0,965606400000.0,965692800000.0,965779200000.0,965865600000.0,965952000000.0,966211200000.0,966297600000.0,966384000000.0,966470400000.0,966556800000.0,966816000000.0,966902400000.0,966988800000.0,967075200000.0,967161600000.0,967420800000.0,967507200000.0,967593600000.0,967680000000.0,967766400000.0,968112000000.0,968198400000.0,968284800000.0,968371200000.0,968630400000.0,968716800000.0,968803200000.0,968889600000.0,968976000000.0,969235200000.0,969321600000.0,969408000000.0,969494400000.0,969580800000.0,969840000000.0,969926400000.0,970012800000.0,970099200000.0,970185600000.0,970444800000.0,970531200000.0,970617600000.0,970704000000.0,970790400000.0,971049600000.0,971136000000.0,971222400000.0,971308800000.0,971395200000.0,971654400000.0,971740800000.0,971827200000.0,971913600000.0,972000000000.0,972259200000.0,972345600000.0,972432000000.0,972518400000.0,972604800000.0,972864000000.0,972950400000.0,973036800000.0,973123200000.0,973209600000.0,973468800000.0,973555200000.0,973641600000.0,973728000000.0,973814400000.0,974073600000.0,974160000000.0,974246400000.0,974332800000.0,974419200000.0,974678400000.0,974764800000.0,974851200000.0,975024000000.0,975283200000.0,975369600000.0,975456000000.0,975542400000.0,975628800000.0,975888000000.0,975974400000.0,976060800000.0,976147200000.0,976233600000.0,976492800000.0,976579200000.0,976665600000.0,976752000000.0,976838400000.0,977097600000.0,977184000000.0,977270400000.0,977356800000.0,977443200000.0,977788800000.0,977875200000.0,977961600000.0,978048000000.0,978393600000.0,978480000000.0,978566400000.0,978652800000.0,978912000000.0,978998400000.0,979084800000.0,979171200000.0,979257600000.0,979603200000.0,979689600000.0,979776000000.0,979862400000.0,980121600000.0,980208000000.0,980294400000.0,980380800000.0,980467200000.0,980726400000.0,980812800000.0,980899200000.0,980985600000.0,981072000000.0,981331200000.0,981417600000.0,981504000000.0,981590400000.0,981676800000.0,981936000000.0,982022400000.0,982108800000.0,982195200000.0,982281600000.0,982627200000.0,982713600000.0,982800000000.0,982886400000.0,983145600000.0,983232000000.0,983318400000.0,983404800000.0,983491200000.0,983750400000.0,983836800000.0,983923200000.0,984009600000.0,984096000000.0,984355200000.0,984441600000.0,984528000000.0,984614400000.0,984700800000.0,984960000000.0,985046400000.0,985132800000.0,985219200000.0,985305600000.0,985564800000.0,985651200000.0,985737600000.0,985824000000.0,985910400000.0,986169600000.0,986256000000.0,986342400000.0,986428800000.0,986515200000.0,986774400000.0,986860800000.0,986947200000.0,987033600000.0,987379200000.0,987465600000.0,987552000000.0,987638400000.0,987724800000.0,987984000000.0,988070400000.0,988156800000.0,988243200000.0,988329600000.0,988588800000.0,988675200000.0,988761600000.0,988848000000.0,988934400000.0,989193600000.0,989280000000.0],"y":[130.31,122.0,128.0,125.69,122.87,122.0,122.25,125.75,121.31,114.25,116.25,121.56,125.0,123.0,134.94,144.19,141.31,138.69,139.56,139.13,135.94,125.75,135.81,133.31,127.31,130.38,125.19,131.75,125.0,119.44,109.25,113.81,111.87,123.87,126.87,121.12,118.87,120.5,128.31,121.31,126.75,124.06,124.31,117.87,115.06,110.69,113.12,110.12,105.44,99.31,102.81,107.62,101.0,105.69,101.37,100.75,94.0,89.94,85.81,87.69,87.27,86.37,87.56,84.0,89.12,92.56,91.31,92.87,96.56,94.81,95.75,91.19,94.5,90.44,92.37,91.19,96.62,101.25,55.63,53.75,51.69,54.13,51.75,54.44,51.25,52.38,53.31,51.63,51.81,54.44,57.13,56.94,58.88,56.5,57.69,58.31,57.25,52.69,55.13,53.56,48.69,50.06,50.06,52.0,48.31,50.81,49.31,47.25,48.0,47.38,47.94,46.75,47.5,47.56,47.69,47.06,46.69,48.5,51.44,50.0,50.5,51.69,54.31,56.11,56.81,58.06,59.19,59.5,60.94,63.44,62.44,58.44,62.0,58.88,58.44,57.75,58.0,56.86,55.23,60.66,59.94,61.05,56.69,52.19,53.5,51.44,48.94,53.5,25.75,24.25,22.31,23.62,22.06,22.19,21.75,20.87,19.62,20.0,22.06,21.5,20.12,20.12,18.94,19.5,20.37,18.87,18.5,18.5,18.56,19.31,19.56,20.5,22.31,22.25,21.44,21.31,20.06,20.19,19.06,19.37,20.25,19.87,19.0,18.5,18.94,18.81,18.5,19.31,18.69,18.03,17.56,16.5,17.06,16.69,17.0,14.31,14.31,15.06,15.19,15.38,15.0,14.44,14.06,14.25,14.0,14.38,14.06,15.0,14.69,14.81,14.81,14.88,14.88,16.37,17.06,16.37,16.56,17.19,16.56,18.0,17.19,17.12,16.81,18.69,19.5,19.25,20.5,20.5,19.94,19.56,21.69,21.75,21.62,21.12,20.62,20.19,21.12,20.75,20.75,19.12,19.69,19.12,19.5,20.06,19.0,18.31,18.87,18.81,18.81,19.5,19.37,18.25,18.75,19.25,20.37,21.5,21.25,20.81,20.25,18.62,19.56,20.44,19.69,19.62,20.56,19.69,20.12,21.62,23.0,21.78,22.87,22.17,22.53,22.07,21.59,20.24,19.5,20.87,20.59,20.54,22.04,21.8,22.42,21.44,20.4,22.79,25.72,25.04,24.25,24.03,24.72,24.69,26.2,25.49,25.93,26.59,24.96,25.75,24.96,24.57]},"selected":{"id":"1290"},"selection_policy":{"id":"1291"}},"id":"1244","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"1229"},"ticker":null},"id":"1232","type":"Grid"},{"attributes":{"axis_label":"y","formatter":{"id":"1272"},"major_label_policy":{"id":"1273"},"ticker":{"id":"1234"}},"id":"1233","type":"LinearAxis"},{"attributes":{},"id":"1252","type":"LinearScale"},{"attributes":{"callback":null,"formatters":{"@{x}":"datetime"},"tooltips":[["x","@{x}{%F}"],["y","@{y}"]]},"id":"1250","type":"HoverTool"},{"attributes":{},"id":"1227","type":"LinearScale"},{"attributes":{},"id":"1223","type":"DataRange1d"},{"attributes":{},"id":"1291","type":"UnionRenderers"},{"attributes":{"data_source":{"id":"1244"},"glyph":{"id":"1246"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1247"},"view":{"id":"1249"}},"id":"1248","type":"GlyphRenderer"}],"root_ids":["1218"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"cefbeaa3-02e3-4766-bb6c-8d565ed6d596","root_ids":["1218"],"roots":{"1218":"5123b04b-2872-4ca1-b5a4-f57702dee44c"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">AAPL</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>dict_keys([&#39;date&#39;, &#39;open&#39;, &#39;high&#39;, &#39;low&#39;, &#39;close&#39;, &#39;volume&#39;, &#39;adj_close&#39;])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tooltips_metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;体量&#39;</span><span class="p">:</span> <span class="n">AAPL</span><span class="p">[</span><span class="s1">&#39;volume&#39;</span><span class="p">][:</span><span class="mi">300</span><span class="p">]}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">line_figure_datetime</span><span class="p">(</span><span class="n">test_data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;趋势图&quot;</span><span class="p">,</span> <span class="n">draw_circle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">tooltips_metadata</span><span class="o">=</span><span class="n">tooltips_metadata</span><span class="p">,</span> <span class="n">x_name</span><span class="o">=</span><span class="s1">&#39;时间&#39;</span><span class="p">,</span>
                         <span class="n">y_name</span><span class="o">=</span><span class="s1">&#39;价格&#39;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="7827eb07-2c1d-45d3-801f-3291c8c35980" data-root-id="1469"></div>

</div>

</div>

<div class="output_area">




<div id="741f1beb-fb99-4439-832e-b3f6b9484d55"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#741f1beb-fb99-4439-832e-b3f6b9484d55');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"8f3c6ae0-2d7f-491b-8efc-6c3cf3d453be":{"defs":[],"roots":{"references":[{"attributes":{"children":[{"id":"1397"},{"id":"1423"}]},"id":"1469","type":"Column"},{"attributes":{"above":[{"id":"1408"}],"background_fill_color":"#efefef","center":[{"id":"1411"},{"id":"1415"}],"height":325,"left":[{"id":"1412"}],"renderers":[{"id":"1448"},{"id":"1453"}],"title":{"id":"1398"},"toolbar":{"id":"1419"},"toolbar_location":"above","width":800,"x_range":{"id":"1463"},"x_scale":{"id":"1462"},"y_range":{"id":"1402"},"y_scale":{"id":"1406"}},"id":"1397","subtype":"Figure","type":"Plot"},{"attributes":{"end":975024000000.0,"start":965865600000.0},"id":"1463","type":"Range1d"},{"attributes":{},"id":"1518","type":"AllLabels"},{"attributes":{"background_fill_color":"#efefef","below":[{"id":"1433"}],"center":[{"id":"1436"}],"height":175,"renderers":[{"id":"1460"}],"title":{"id":"1424"},"toolbar":{"id":"1440"},"toolbar_location":"above","width":800,"x_range":{"id":"1426"},"x_scale":{"id":"1429"},"y_range":{"id":"1402"},"y_scale":{"id":"1431"}},"id":"1423","subtype":"Figure","type":"Plot"},{"attributes":{"data_source":{"id":"1444"},"glyph":{"id":"1458"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1459"},"view":{"id":"1461"}},"id":"1460","type":"GlyphRenderer"},{"attributes":{"text":"\u8d8b\u52bf\u56fe"},"id":"1398","type":"Title"},{"attributes":{"line_color":"#66c2a5","x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1458","type":"Line"},{"attributes":{"overlay":{"id":"1465"},"x_range":{"id":"1463"},"y_range":null},"id":"1464","type":"RangeTool"},{"attributes":{"source":{"id":"1444"}},"id":"1461","type":"CDSView"},{"attributes":{},"id":"1402","type":"DataRange1d"},{"attributes":{"fill_alpha":0.2,"fill_color":"navy","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[2,2],"line_width":0.5,"syncable":false},"id":"1465","type":"BoxAnnotation"},{"attributes":{},"id":"1406","type":"LinearScale"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1459","type":"Line"},{"attributes":{"formatter":{"id":"1514"},"major_label_policy":{"id":"1515"},"ticker":{"id":"1409"}},"id":"1408","type":"DatetimeAxis"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1520"},{"id":"1521"},{"id":"1522"},{"id":"1523"},{"id":"1524"},{"id":"1525"},{"id":"1526"},{"id":"1527"},{"id":"1528"},{"id":"1529"},{"id":"1530"},{"id":"1531"}]},"id":"1409","type":"DatetimeTicker"},{"attributes":{"axis":{"id":"1408"},"ticker":null},"id":"1411","type":"Grid"},{"attributes":{"axis":{"id":"1433"},"ticker":null},"id":"1436","type":"Grid"},{"attributes":{"axis_label":"\u4ef7\u683c","formatter":{"id":"1511"},"major_label_policy":{"id":"1512"},"ticker":{"id":"1413"}},"id":"1412","type":"LinearAxis"},{"attributes":{"axis":{"id":"1412"},"dimension":1,"ticker":null},"id":"1415","type":"Grid"},{"attributes":{},"id":"1413","type":"BasicTicker"},{"attributes":{},"id":"1418","type":"PanTool"},{"attributes":{},"id":"1417","type":"ResetTool"},{"attributes":{},"id":"1416","type":"SaveTool"},{"attributes":{"line_color":"#66c2a5","x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1446","type":"Line"},{"attributes":{"callback":null,"formatters":{"@{\u65f6\u95f4}":"datetime"},"tooltips":[["\u65f6\u95f4","@{\u65f6\u95f4}{%F}"],["\u4ef7\u683c","@{\u4ef7\u683c}"],["\u4f53\u91cf","@{\u4f53\u91cf}"]]},"id":"1455","type":"HoverTool"},{"attributes":{"source":{"id":"1444"}},"id":"1449","type":"CDSView"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1520","type":"AdaptiveTicker"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1521","type":"AdaptiveTicker"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1523","type":"DaysTicker"},{"attributes":{"data_source":{"id":"1444"},"glyph":{"id":"1451"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1452"},"view":{"id":"1454"}},"id":"1453","type":"GlyphRenderer"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1522","type":"AdaptiveTicker"},{"attributes":{"line_alpha":0.1,"line_color":"#66c2a5","x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1447","type":"Line"},{"attributes":{"fill_color":{"value":"white"},"line_color":{"value":"#66c2a5"},"size":{"value":6},"x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1451","type":"Circle"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1527","type":"MonthsTicker"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1528","type":"MonthsTicker"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1524","type":"DaysTicker"},{"attributes":{"data_source":{"id":"1444"},"glyph":{"id":"1446"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1447"},"view":{"id":"1449"}},"id":"1448","type":"GlyphRenderer"},{"attributes":{"days":[1,15]},"id":"1526","type":"DaysTicker"},{"attributes":{"months":[0,6]},"id":"1530","type":"MonthsTicker"},{"attributes":{},"id":"1511","type":"BasicTickFormatter"},{"attributes":{"days":[1,8,15,22]},"id":"1525","type":"DaysTicker"},{"attributes":{},"id":"1531","type":"YearsTicker"},{"attributes":{},"id":"1512","type":"AllLabels"},{"attributes":{"months":[0,4,8]},"id":"1529","type":"MonthsTicker"},{"attributes":{"source":{"id":"1444"}},"id":"1454","type":"CDSView"},{"attributes":{},"id":"1532","type":"Selection"},{"attributes":{"active_multi":null,"tools":[{"id":"1416"},{"id":"1417"},{"id":"1418"},{"id":"1455"}]},"id":"1419","type":"Toolbar"},{"attributes":{},"id":"1533","type":"UnionRenderers"},{"attributes":{},"id":"1514","type":"DatetimeTickFormatter"},{"attributes":{"data":{"\u4ef7\u683c":[130.31,122.0,128.0,125.69,122.87,122.0,122.25,125.75,121.31,114.25,116.25,121.56,125.0,123.0,134.94,144.19,141.31,138.69,139.56,139.13,135.94,125.75,135.81,133.31,127.31,130.38,125.19,131.75,125.0,119.44,109.25,113.81,111.87,123.87,126.87,121.12,118.87,120.5,128.31,121.31,126.75,124.06,124.31,117.87,115.06,110.69,113.12,110.12,105.44,99.31,102.81,107.62,101.0,105.69,101.37,100.75,94.0,89.94,85.81,87.69,87.27,86.37,87.56,84.0,89.12,92.56,91.31,92.87,96.56,94.81,95.75,91.19,94.5,90.44,92.37,91.19,96.62,101.25,55.63,53.75,51.69,54.13,51.75,54.44,51.25,52.38,53.31,51.63,51.81,54.44,57.13,56.94,58.88,56.5,57.69,58.31,57.25,52.69,55.13,53.56,48.69,50.06,50.06,52.0,48.31,50.81,49.31,47.25,48.0,47.38,47.94,46.75,47.5,47.56,47.69,47.06,46.69,48.5,51.44,50.0,50.5,51.69,54.31,56.11,56.81,58.06,59.19,59.5,60.94,63.44,62.44,58.44,62.0,58.88,58.44,57.75,58.0,56.86,55.23,60.66,59.94,61.05,56.69,52.19,53.5,51.44,48.94,53.5,25.75,24.25,22.31,23.62,22.06,22.19,21.75,20.87,19.62,20.0,22.06,21.5,20.12,20.12,18.94,19.5,20.37,18.87,18.5,18.5,18.56,19.31,19.56,20.5,22.31,22.25,21.44,21.31,20.06,20.19,19.06,19.37,20.25,19.87,19.0,18.5,18.94,18.81,18.5,19.31,18.69,18.03,17.56,16.5,17.06,16.69,17.0,14.31,14.31,15.06,15.19,15.38,15.0,14.44,14.06,14.25,14.0,14.38,14.06,15.0,14.69,14.81,14.81,14.88,14.88,16.37,17.06,16.37,16.56,17.19,16.56,18.0,17.19,17.12,16.81,18.69,19.5,19.25,20.5,20.5,19.94,19.56,21.69,21.75,21.62,21.12,20.62,20.19,21.12,20.75,20.75,19.12,19.69,19.12,19.5,20.06,19.0,18.31,18.87,18.81,18.81,19.5,19.37,18.25,18.75,19.25,20.37,21.5,21.25,20.81,20.25,18.62,19.56,20.44,19.69,19.62,20.56,19.69,20.12,21.62,23.0,21.78,22.87,22.17,22.53,22.07,21.59,20.24,19.5,20.87,20.59,20.54,22.04,21.8,22.42,21.44,20.4,22.79,25.72,25.04,24.25,24.03,24.72,24.69,26.2,25.49,25.93,26.59,24.96,25.75,24.96,24.57],"\u4f53\u91cf":[38478000,11136800,11565200,7520000,9767600,9690800,9884400,8900800,10864400,15321200,15845200,13516800,10902400,7316400,18729200,20288800,20098000,15962000,9976800,7253600,8568800,14800000,14457600,11742400,23596400,16359200,9290800,8668800,7592400,19368000,33618800,18923600,23845600,14642400,13962400,18586400,25806800,15845600,14002400,13117600,11678000,8932400,8100000,8446400,17500000,14284400,10160000,6605600,11685600,19127600,17852400,10962000,24252000,15736400,14227600,13365600,26459200,26995200,18488000,24248000,14530800,6486400,25481200,15483600,32280000,28336400,11582000,18771200,12056800,8540800,9020000,10374400,12570000,9925200,8898800,10842400,14089200,17922000,17500000,16706200,7320400,6631000,7270600,10235000,7281200,11550000,2535000,9478800,11063800,9422600,14211000,12783200,8057600,15925600,6804400,9289000,11378200,16359600,16631800,7013200,14720600,7567200,7526200,10543800,8505400,5550000,4904600,5808800,12150000,9406800,6697200,6315400,13569000,8995400,8503200,5603400,4089000,5137600,9683400,6798800,4803800,9889000,8470400,11109400,11947800,12822600,9546200,10199600,14988800,9181800,10669000,12700400,7770400,6984400,6699000,6722200,10932600,15241800,14095400,15163200,9706200,8121600,18238400,25961200,15564000,10396600,14370000,34988200,265069000,86610600,72795600,52368200,31189400,21881000,21342600,24683400,42801200,42548200,44564000,29298800,21495600,29803800,53818200,28270400,19694000,28736200,23720600,25780600,26594600,22832800,31649000,20553800,21105400,18423400,14060000,10786800,15082800,17035400,15080600,15423200,14611200,10086600,8554000,15943400,14581600,10786200,10029600,5751800,9244000,9618200,17586200,28922200,13783800,13273400,21932200,49092400,14606600,15568200,11884000,13803400,12327200,9406600,18363800,11645000,13367200,20196200,13102600,11369600,7745400,11626000,10910000,22518800,16161800,29181800,26411000,14731000,13350000,21040600,20743400,28707600,15121000,10940000,30037600,43822800,27748200,18551600,31418400,25616200,17495000,17245600,30562800,24734600,26106000,13205400,15263400,10228800,16528400,14071600,21585000,21082600,9795600,8470600,11040000,11123200,9428400,11249600,13947800,15431200,10503800,7380000,12451000,18157600,11803400,14511200,11587600,26144600,14985600,7325600,10685400,13967800,15840600,17065400,18906600,16806600,12722800,17833800,13265400,25839000,33749400,26230400,19422200,20880800,21895200,14298200,12175400,13167400,24481600,15955800,11603200,9520800,16334800,11932000,10676200,10186600,24471400,39315800,66916800,24764400,19340200,13469200,11813600,28560600,16179000,17670600,15259000,13161600,10769400,10037600,9876800,11265600],"\u65f6\u95f4":[951868800000.0,951955200000.0,952041600000.0,952300800000.0,952387200000.0,952473600000.0,952560000000.0,952646400000.0,952905600000.0,952992000000.0,953078400000.0,953164800000.0,953251200000.0,953510400000.0,953596800000.0,953683200000.0,953769600000.0,953856000000.0,954115200000.0,954201600000.0,954288000000.0,954374400000.0,954460800000.0,954720000000.0,954806400000.0,954892800000.0,954979200000.0,955065600000.0,955324800000.0,955411200000.0,955497600000.0,955584000000.0,955670400000.0,955929600000.0,956016000000.0,956102400000.0,956188800000.0,956534400000.0,956620800000.0,956707200000.0,956793600000.0,956880000000.0,957139200000.0,957225600000.0,957312000000.0,957398400000.0,957484800000.0,957744000000.0,957830400000.0,957916800000.0,958003200000.0,958089600000.0,958348800000.0,958435200000.0,958521600000.0,958608000000.0,958694400000.0,958953600000.0,959040000000.0,959126400000.0,959212800000.0,959299200000.0,959644800000.0,959731200000.0,959817600000.0,959904000000.0,960163200000.0,960249600000.0,960336000000.0,960422400000.0,960508800000.0,960768000000.0,960854400000.0,960940800000.0,961027200000.0,961113600000.0,961372800000.0,961459200000.0,961545600000.0,961632000000.0,961718400000.0,961977600000.0,962064000000.0,962150400000.0,962236800000.0,962323200000.0,962582400000.0,962755200000.0,962841600000.0,962928000000.0,963187200000.0,963273600000.0,963360000000.0,963446400000.0,963532800000.0,963792000000.0,963878400000.0,963964800000.0,964051200000.0,964137600000.0,964396800000.0,964483200000.0,964569600000.0,964656000000.0,964742400000.0,965001600000.0,965088000000.0,965174400000.0,965260800000.0,965347200000.0,965606400000.0,965692800000.0,965779200000.0,965865600000.0,965952000000.0,966211200000.0,966297600000.0,966384000000.0,966470400000.0,966556800000.0,966816000000.0,966902400000.0,966988800000.0,967075200000.0,967161600000.0,967420800000.0,967507200000.0,967593600000.0,967680000000.0,967766400000.0,968112000000.0,968198400000.0,968284800000.0,968371200000.0,968630400000.0,968716800000.0,968803200000.0,968889600000.0,968976000000.0,969235200000.0,969321600000.0,969408000000.0,969494400000.0,969580800000.0,969840000000.0,969926400000.0,970012800000.0,970099200000.0,970185600000.0,970444800000.0,970531200000.0,970617600000.0,970704000000.0,970790400000.0,971049600000.0,971136000000.0,971222400000.0,971308800000.0,971395200000.0,971654400000.0,971740800000.0,971827200000.0,971913600000.0,972000000000.0,972259200000.0,972345600000.0,972432000000.0,972518400000.0,972604800000.0,972864000000.0,972950400000.0,973036800000.0,973123200000.0,973209600000.0,973468800000.0,973555200000.0,973641600000.0,973728000000.0,973814400000.0,974073600000.0,974160000000.0,974246400000.0,974332800000.0,974419200000.0,974678400000.0,974764800000.0,974851200000.0,975024000000.0,975283200000.0,975369600000.0,975456000000.0,975542400000.0,975628800000.0,975888000000.0,975974400000.0,976060800000.0,976147200000.0,976233600000.0,976492800000.0,976579200000.0,976665600000.0,976752000000.0,976838400000.0,977097600000.0,977184000000.0,977270400000.0,977356800000.0,977443200000.0,977788800000.0,977875200000.0,977961600000.0,978048000000.0,978393600000.0,978480000000.0,978566400000.0,978652800000.0,978912000000.0,978998400000.0,979084800000.0,979171200000.0,979257600000.0,979603200000.0,979689600000.0,979776000000.0,979862400000.0,980121600000.0,980208000000.0,980294400000.0,980380800000.0,980467200000.0,980726400000.0,980812800000.0,980899200000.0,980985600000.0,981072000000.0,981331200000.0,981417600000.0,981504000000.0,981590400000.0,981676800000.0,981936000000.0,982022400000.0,982108800000.0,982195200000.0,982281600000.0,982627200000.0,982713600000.0,982800000000.0,982886400000.0,983145600000.0,983232000000.0,983318400000.0,983404800000.0,983491200000.0,983750400000.0,983836800000.0,983923200000.0,984009600000.0,984096000000.0,984355200000.0,984441600000.0,984528000000.0,984614400000.0,984700800000.0,984960000000.0,985046400000.0,985132800000.0,985219200000.0,985305600000.0,985564800000.0,985651200000.0,985737600000.0,985824000000.0,985910400000.0,986169600000.0,986256000000.0,986342400000.0,986428800000.0,986515200000.0,986774400000.0,986860800000.0,986947200000.0,987033600000.0,987379200000.0,987465600000.0,987552000000.0,987638400000.0,987724800000.0,987984000000.0,988070400000.0,988156800000.0,988243200000.0,988329600000.0,988588800000.0,988675200000.0,988761600000.0,988848000000.0,988934400000.0,989193600000.0,989280000000.0]},"selected":{"id":"1532"},"selection_policy":{"id":"1533"}},"id":"1444","type":"ColumnDataSource"},{"attributes":{"text":"\u62d6\u52a8\u9009\u62e9 \u65f6\u95f4 \u533a\u95f4"},"id":"1424","type":"Title"},{"attributes":{},"id":"1426","type":"DataRange1d"},{"attributes":{},"id":"1515","type":"AllLabels"},{"attributes":{"formatter":{"id":"1517"},"major_label_policy":{"id":"1518"},"ticker":{"id":"1434"}},"id":"1433","type":"DatetimeAxis"},{"attributes":{},"id":"1429","type":"LinearScale"},{"attributes":{},"id":"1431","type":"LinearScale"},{"attributes":{},"id":"1439","type":"PanTool"},{"attributes":{"num_minor_ticks":5,"tickers":[{"id":"1535"},{"id":"1536"},{"id":"1537"},{"id":"1538"},{"id":"1539"},{"id":"1540"},{"id":"1541"},{"id":"1542"},{"id":"1543"},{"id":"1544"},{"id":"1545"},{"id":"1546"}]},"id":"1434","type":"DatetimeTicker"},{"attributes":{"mantissas":[1,2,5],"max_interval":500.0,"num_minor_ticks":0},"id":"1535","type":"AdaptiveTicker"},{"attributes":{"base":60,"mantissas":[1,2,5,10,15,20,30],"max_interval":1800000.0,"min_interval":1000.0,"num_minor_ticks":0},"id":"1536","type":"AdaptiveTicker"},{"attributes":{"days":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},"id":"1538","type":"DaysTicker"},{"attributes":{"base":24,"mantissas":[1,2,4,6,8,12],"max_interval":43200000.0,"min_interval":3600000.0,"num_minor_ticks":0},"id":"1537","type":"AdaptiveTicker"},{"attributes":{},"id":"1438","type":"ResetTool"},{"attributes":{},"id":"1437","type":"SaveTool"},{"attributes":{"months":[0,1,2,3,4,5,6,7,8,9,10,11]},"id":"1542","type":"MonthsTicker"},{"attributes":{"months":[0,2,4,6,8,10]},"id":"1543","type":"MonthsTicker"},{"attributes":{"days":[1,4,7,10,13,16,19,22,25,28]},"id":"1539","type":"DaysTicker"},{"attributes":{"days":[1,15]},"id":"1541","type":"DaysTicker"},{"attributes":{"months":[0,6]},"id":"1545","type":"MonthsTicker"},{"attributes":{"days":[1,8,15,22]},"id":"1540","type":"DaysTicker"},{"attributes":{},"id":"1546","type":"YearsTicker"},{"attributes":{"months":[0,4,8]},"id":"1544","type":"MonthsTicker"},{"attributes":{},"id":"1517","type":"DatetimeTickFormatter"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"line_color":{"value":"#66c2a5"},"size":{"value":6},"x":{"field":"\u65f6\u95f4"},"y":{"field":"\u4ef7\u683c"}},"id":"1452","type":"Circle"},{"attributes":{},"id":"1462","type":"LinearScale"},{"attributes":{"active_multi":{"id":"1464"},"tools":[{"id":"1437"},{"id":"1438"},{"id":"1439"},{"id":"1464"}]},"id":"1440","type":"Toolbar"}],"root_ids":["1469"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"8f3c6ae0-2d7f-491b-8efc-6c3cf3d453be","root_ids":["1469"],"roots":{"1469":"7827eb07-2c1d-45d3-801f-3291c8c35980"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="boxplot_figure" class="doc_header"><code>boxplot_figure</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L171" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>boxplot_figure</code>(<strong><code>data_df</code></strong>, <strong><code>group_column</code></strong>=<em><code>'group'</code></em>, <strong><code>value_column</code></strong>=<em><code>'value'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cats</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s2">&quot;abcdef&quot;</span><span class="p">)</span>
<span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">cats</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cats</span><span class="p">):</span>
    <span class="n">yy</span><span class="p">[</span><span class="n">g</span> <span class="o">==</span> <span class="n">l</span><span class="p">]</span> <span class="o">+=</span> <span class="n">i</span> <span class="o">//</span> <span class="mi">2</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">score</span><span class="o">=</span><span class="n">yy</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">g</span><span class="p">))</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>score</th>
      <th>group</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.491684</td>
      <td>a</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.257577</td>
      <td>a</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.153503</td>
      <td>c</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.996032</td>
      <td>e</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.677111</td>
      <td>c</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">boxplot_figure</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">group_column</span><span class="o">=</span><span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="n">value_column</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="68f2f4ac-8254-4482-95b4-13c9c3b381f1" data-root-id="2004"></div>

</div>

</div>

<div class="output_area">




<div id="c05711e0-f215-4e8e-a282-c230172889db"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#c05711e0-f215-4e8e-a282-c230172889db');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"12793c2c-16d3-46be-883f-46b8929170e4":{"defs":[],"roots":{"references":[{"attributes":{"background_fill_color":"#efefef","below":[{"id":"2013"}],"center":[{"id":"2015"},{"id":"2019"}],"left":[{"id":"2016"}],"renderers":[{"id":"2030"},{"id":"2035"},{"id":"2040"},{"id":"2045"},{"id":"2050"},{"id":"2055"},{"id":"2060"}],"title":{"id":"2162"},"toolbar":{"id":"2023"},"toolbar_location":"above","x_range":{"id":"2005"},"x_scale":{"id":"2009"},"y_range":{"id":"2007"},"y_scale":{"id":"2011"}},"id":"2004","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"2167","type":"AllLabels"},{"attributes":{},"id":"2172","type":"UnionRenderers"},{"attributes":{},"id":"2182","type":"UnionRenderers"},{"attributes":{"line_alpha":{"value":0.1},"x0":{"field":"x0"},"x1":{"field":"x1"},"y0":{"field":"y0"},"y1":{"field":"y1"}},"id":"2029","type":"Segment"},{"attributes":{"bottom":{"field":"bottom"},"fill_color":{"value":"#3B8686"},"top":{"field":"top"},"width":{"value":0.7},"x":{"field":"x"}},"id":"2043","type":"VBar"},{"attributes":{},"id":"2163","type":"BasicTickFormatter"},{"attributes":{"source":{"id":"2042"}},"id":"2046","type":"CDSView"},{"attributes":{},"id":"2177","type":"Selection"},{"attributes":{"data_source":{"id":"2027"},"glyph":{"id":"2028"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2029"},"view":{"id":"2031"}},"id":"2030","type":"GlyphRenderer"},{"attributes":{"source":{"id":"2027"}},"id":"2031","type":"CDSView"},{"attributes":{},"id":"2007","type":"DataRange1d"},{"attributes":{},"id":"2178","type":"UnionRenderers"},{"attributes":{},"id":"2011","type":"LinearScale"},{"attributes":{},"id":"2173","type":"Selection"},{"attributes":{"data":{"bottom":{"__ndarray__":"L9jcvLD6sD8neduRz0qCv/+X6h98HvA/FdDwvp1m8T/tPUXuNFv/P9YigBoEZ/8/","dtype":"float64","order":"little","shape":[6]},"top":{"__ndarray__":"ru7eva+V5b+Gmz/EFJniv5DX19/60dQ/Yi2e3CTV3D92wyK+NJn0PwLSZjhFYvM/","dtype":"float64","order":"little","shape":[6]},"x":["a","b","c","d","e","f"]},"selected":{"id":"2175"},"selection_policy":{"id":"2176"}},"id":"2042","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"2052"},"glyph":{"id":"2053"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2054"},"view":{"id":"2056"}},"id":"2055","type":"GlyphRenderer"},{"attributes":{"active_multi":null,"tools":[{"id":"2020"},{"id":"2021"},{"id":"2022"}]},"id":"2023","type":"Toolbar"},{"attributes":{"data":{"x0":["a","b","c","d","e","f"],"x1":["a","b","c","d","e","f"],"y0":{"__ndarray__":"0OHiVTtLBcBMgMZyz4gDwHCnKg2tsvm/UKMzXSiE9r+Qx5+RwIHhv2RjHoGaJeu/","dtype":"float64","order":"little","shape":[6]},"y1":{"__ndarray__":"ru7eva+V5b+Gmz/EFJniv5DX19/60dQ/Yi2e3CTV3D92wyK+NJn0PwLSZjhFYvM/","dtype":"float64","order":"little","shape":[6]}},"selected":{"id":"2171"},"selection_policy":{"id":"2172"}},"id":"2032","type":"ColumnDataSource"},{"attributes":{"bottom":{"field":"bottom"},"fill_alpha":{"value":0.1},"fill_color":{"value":"#E08E79"},"line_alpha":{"value":0.1},"top":{"field":"top"},"width":{"value":0.7},"x":{"field":"x"}},"id":"2039","type":"VBar"},{"attributes":{"line_alpha":{"value":0.1},"x0":{"field":"x0"},"x1":{"field":"x1"},"y0":{"field":"y0"},"y1":{"field":"y1"}},"id":"2034","type":"Segment"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"height":{"value":0.01},"line_alpha":{"value":0.1},"width":{"value":0.2},"x":{"field":"x"},"y":{"field":"y"}},"id":"2049","type":"Rect"},{"attributes":{"data_source":{"id":"2037"},"glyph":{"id":"2038"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2039"},"view":{"id":"2041"}},"id":"2040","type":"GlyphRenderer"},{"attributes":{"factors":["a","b","c","d","e","f"]},"id":"2005","type":"FactorRange"},{"attributes":{},"id":"2174","type":"UnionRenderers"},{"attributes":{"data_source":{"id":"2042"},"glyph":{"id":"2043"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2044"},"view":{"id":"2046"}},"id":"2045","type":"GlyphRenderer"},{"attributes":{"bottom":{"field":"bottom"},"fill_color":{"value":"#E08E79"},"top":{"field":"top"},"width":{"value":0.7},"x":{"field":"x"}},"id":"2038","type":"VBar"},{"attributes":{"fill_color":{"value":"#1f77b4"},"height":{"value":0.01},"width":{"value":0.2},"x":{"field":"x"},"y":{"field":"y"}},"id":"2048","type":"Rect"},{"attributes":{},"id":"2014","type":"CategoricalTicker"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"height":{"value":0.01},"line_alpha":{"value":0.1},"width":{"value":0.2},"x":{"field":"x"},"y":{"field":"y"}},"id":"2054","type":"Rect"},{"attributes":{},"id":"2179","type":"Selection"},{"attributes":{},"id":"2022","type":"PanTool"},{"attributes":{"bottom":{"field":"bottom"},"fill_alpha":{"value":0.1},"fill_color":{"value":"#3B8686"},"line_alpha":{"value":0.1},"top":{"field":"top"},"width":{"value":0.7},"x":{"field":"x"}},"id":"2044","type":"VBar"},{"attributes":{"data_source":{"id":"2047"},"glyph":{"id":"2048"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2049"},"view":{"id":"2051"}},"id":"2050","type":"GlyphRenderer"},{"attributes":{"data":{"bottom":{"__ndarray__":"Cnfp/SPP5D9CqPzqWxjlPxy0C+abzvk/yP8Omj8G+z8o/bJmy90EQN7ZweM4pQVA","dtype":"float64","order":"little","shape":[6]},"top":{"__ndarray__":"L9jcvLD6sD8neduRz0qCv/+X6h98HvA/FdDwvp1m8T/tPUXuNFv/P9YigBoEZ/8/","dtype":"float64","order":"little","shape":[6]},"x":["a","b","c","d","e","f"]},"selected":{"id":"2173"},"selection_policy":{"id":"2174"}},"id":"2037","type":"ColumnDataSource"},{"attributes":{},"id":"2021","type":"ResetTool"},{"attributes":{},"id":"2169","type":"Selection"},{"attributes":{},"id":"2020","type":"SaveTool"},{"attributes":{"data":{"x":["a","b","c","d","e","f"],"y":{"__ndarray__":"0OHiVTtLBcBMgMZyz4gDwHCnKg2tsvm/UKMzXSiE9r+Qx5+RwIHhv2RjHoGaJeu/","dtype":"float64","order":"little","shape":[6]}},"selected":{"id":"2177"},"selection_policy":{"id":"2178"}},"id":"2047","type":"ColumnDataSource"},{"attributes":{"source":{"id":"2047"}},"id":"2051","type":"CDSView"},{"attributes":{},"id":"2180","type":"UnionRenderers"},{"attributes":{"source":{"id":"2037"}},"id":"2041","type":"CDSView"},{"attributes":{},"id":"2175","type":"Selection"},{"attributes":{},"id":"2170","type":"UnionRenderers"},{"attributes":{"source":{"id":"2032"}},"id":"2036","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#F38630"},"line_alpha":{"value":0.1},"line_color":{"value":"#F38630"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"2059","type":"Circle"},{"attributes":{"x0":{"field":"x0"},"x1":{"field":"x1"},"y0":{"field":"y0"},"y1":{"field":"y1"}},"id":"2033","type":"Segment"},{"attributes":{"axis":{"id":"2013"},"grid_line_color":null,"grid_line_width":2,"ticker":null},"id":"2015","type":"Grid"},{"attributes":{"fill_color":{"value":"#1f77b4"},"height":{"value":0.01},"width":{"value":0.2},"x":{"field":"x"},"y":{"field":"y"}},"id":"2053","type":"Rect"},{"attributes":{},"id":"2009","type":"CategoricalScale"},{"attributes":{"data":{"x":["a","b","c","d","e","f"],"y":{"__ndarray__":"6IPlZZgZBUB8w3U8oSgEQLgoltXjWgxAOBc1l9hfDEAmsxJ5ylsSQCCyPhUqRBNA","dtype":"float64","order":"little","shape":[6]}},"selected":{"id":"2179"},"selection_policy":{"id":"2180"}},"id":"2052","type":"ColumnDataSource"},{"attributes":{"x0":{"field":"x0"},"x1":{"field":"x1"},"y0":{"field":"y0"},"y1":{"field":"y1"}},"id":"2028","type":"Segment"},{"attributes":{},"id":"2017","type":"BasicTicker"},{"attributes":{"fill_alpha":{"value":0.6},"fill_color":{"value":"#F38630"},"line_color":{"value":"#F38630"},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"2058","type":"Circle"},{"attributes":{"source":{"id":"2052"}},"id":"2056","type":"CDSView"},{"attributes":{},"id":"2176","type":"UnionRenderers"},{"attributes":{"formatter":{"id":"2163"},"major_label_policy":{"id":"2164"},"ticker":{"id":"2017"}},"id":"2016","type":"LinearAxis"},{"attributes":{"data":{"x":["a","a","a","b","b","b","b","c","c","c","c","c","d","d","e"],"y":[-2.836114688564014,-3.094693013474965,2.952543172138162,-2.501841541597959,2.57233475400677,3.0471485210084146,-2.8783903074058053,4.203048202466258,3.8706436293240376,-2.1363372430689602,3.743954910569614,3.552581121422756,3.69571625744516,-1.685498974676534,5.0340161374798065]},"selected":{"id":"2181"},"selection_policy":{"id":"2182"}},"id":"2057","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"2016"},"dimension":1,"grid_line_color":"white","grid_line_width":2,"ticker":null},"id":"2019","type":"Grid"},{"attributes":{"data_source":{"id":"2032"},"glyph":{"id":"2033"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2034"},"view":{"id":"2036"}},"id":"2035","type":"GlyphRenderer"},{"attributes":{},"id":"2181","type":"Selection"},{"attributes":{"data_source":{"id":"2057"},"glyph":{"id":"2058"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2059"},"view":{"id":"2061"}},"id":"2060","type":"GlyphRenderer"},{"attributes":{"formatter":{"id":"2166"},"major_label_policy":{"id":"2167"},"major_label_text_font_size":"16px","ticker":{"id":"2014"}},"id":"2013","type":"CategoricalAxis"},{"attributes":{},"id":"2171","type":"Selection"},{"attributes":{"source":{"id":"2057"}},"id":"2061","type":"CDSView"},{"attributes":{"data":{"x0":["a","b","c","d","e","f"],"x1":["a","b","c","d","e","f"],"y0":{"__ndarray__":"6IPlZZgZBUB8w3U8oSgEQLgoltXjWgxAOBc1l9hfDEAmsxJ5ylsSQCCyPhUqRBNA","dtype":"float64","order":"little","shape":[6]},"y1":{"__ndarray__":"Cnfp/SPP5D9CqPzqWxjlPxy0C+abzvk/yP8Omj8G+z8o/bJmy90EQN7ZweM4pQVA","dtype":"float64","order":"little","shape":[6]}},"selected":{"id":"2169"},"selection_policy":{"id":"2170"}},"id":"2027","type":"ColumnDataSource"},{"attributes":{},"id":"2166","type":"CategoricalTickFormatter"},{"attributes":{},"id":"2162","type":"Title"},{"attributes":{},"id":"2164","type":"AllLabels"}],"root_ids":["2004"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"12793c2c-16d3-46be-883f-46b8929170e4","root_ids":["2004"],"roots":{"2004":"68f2f4ac-8254-4482-95b4-13c9c3b381f1"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="histogram_figure" class="doc_header"><code>histogram_figure</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L224" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>histogram_figure</code>(<strong><code>hist</code></strong>, <strong><code>edges</code></strong>, <strong><code>title</code></strong>=<em><code>'histogram'</code></em>, <strong><code>xaxis_label</code></strong>=<em><code>'x'</code></em>, <strong><code>yaxis_label</code></strong>=<em><code>'Pr(x)'</code></em>, <strong><code>fill_color</code></strong>=<em><code>'navy'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span>

<span class="n">measured</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">hist</span><span class="p">,</span> <span class="n">edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">measured</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">histogram_figure</span><span class="p">(</span><span class="n">hist</span><span class="p">,</span> <span class="n">edges</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="85a2304a-fbc6-4358-8f0d-551c26507e18" data-root-id="2293"></div>

</div>

</div>

<div class="output_area">




<div id="158af3ea-5e17-4a0c-9730-c6c7329e60c3"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#158af3ea-5e17-4a0c-9730-c6c7329e60c3');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"7c3f17e0-b0fe-415f-813c-fffe7994770e":{"defs":[],"roots":{"references":[{"attributes":{"background_fill_color":"#fafafa","below":[{"id":"2304"}],"center":[{"id":"2307"},{"id":"2311"}],"left":[{"id":"2308"}],"renderers":[{"id":"2322"}],"title":{"id":"2294"},"toolbar":{"id":"2315"},"toolbar_location":"above","x_range":{"id":"2296"},"x_scale":{"id":"2300"},"y_range":{"id":"2298"},"y_scale":{"id":"2302"}},"id":"2293","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"2300","type":"LinearScale"},{"attributes":{},"id":"2453","type":"UnionRenderers"},{"attributes":{"bottom":{"value":0},"fill_alpha":{"value":0.5},"fill_color":{"value":"navy"},"left":{"field":"left"},"line_alpha":{"value":0.5},"line_color":{"value":"white"},"right":{"field":"right"},"top":{"field":"top"}},"id":"2320","type":"Quad"},{"attributes":{"text":"histogram"},"id":"2294","type":"Title"},{"attributes":{"data_source":{"id":"2319"},"glyph":{"id":"2320"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2321"},"view":{"id":"2323"}},"id":"2322","type":"GlyphRenderer"},{"attributes":{"bottom":{"value":0},"fill_alpha":{"value":0.1},"fill_color":{"value":"navy"},"left":{"field":"left"},"line_alpha":{"value":0.1},"line_color":{"value":"white"},"right":{"field":"right"},"top":{"field":"top"}},"id":"2321","type":"Quad"},{"attributes":{"source":{"id":"2319"}},"id":"2323","type":"CDSView"},{"attributes":{},"id":"2309","type":"BasicTicker"},{"attributes":{"axis":{"id":"2304"},"grid_line_color":"white","ticker":null},"id":"2307","type":"Grid"},{"attributes":{},"id":"2446","type":"BasicTickFormatter"},{"attributes":{},"id":"2313","type":"ResetTool"},{"attributes":{},"id":"2312","type":"SaveTool"},{"attributes":{},"id":"2447","type":"AllLabels"},{"attributes":{},"id":"2305","type":"BasicTicker"},{"attributes":{},"id":"2314","type":"PanTool"},{"attributes":{"axis":{"id":"2308"},"dimension":1,"grid_line_color":"white","ticker":null},"id":"2311","type":"Grid"},{"attributes":{},"id":"2449","type":"BasicTickFormatter"},{"attributes":{"start":0},"id":"2298","type":"DataRange1d"},{"attributes":{},"id":"2450","type":"AllLabels"},{"attributes":{"active_multi":null,"tools":[{"id":"2312"},{"id":"2313"},{"id":"2314"}]},"id":"2315","type":"Toolbar"},{"attributes":{},"id":"2452","type":"Selection"},{"attributes":{},"id":"2302","type":"LinearScale"},{"attributes":{"axis_label":"Pr(x)","formatter":{"id":"2446"},"major_label_policy":{"id":"2447"},"ticker":{"id":"2309"}},"id":"2308","type":"LinearAxis"},{"attributes":{"data":{"left":{"__ndarray__":"QGxG6vzu9r/Jb1SOiPn1v1JzYjIUBPW/23Zw1p8O9L9ken56Kxnzv+19jB63I/K/doGawkIu8b//hKhmzjjwvxARbRW0hu6/IxiJXcub7L81H6Wl4rDqv0cmwe35xei/WS3dNRHb5r9rNPl9KPDkv307FcY/BeO/j0IxDlca4b9Ck5qs3F7ev2ih0jwLidq/jK8KzTmz1r+wvUJdaN3Sv6iX9dotD86/8LNl+4pjxr9woKs30G+9vwCyF/EUMay/AOc+abTrcz/gtbMFAZawP1B908RG7b8/YKL5QUaixz8Yhokh6U3PP+i0jADGfNM/xKZUcJdS1z+gmBzgaCjbP3yK5E86/t4/LD7W3wVq4T8YN7qX7lTjPwgwnk/XP+U/9CiCB8Aq5z/kIWa/qBXpP9AaSneRAOs/wBMuL3rr7D+sDBLnYtbuP84Ce8+lYPA/RP9sKxpW8T+8+16HjkvyPzL4UOMCQfM/qvRCP3c29D8g8TSb6yv1P5jtJvdfIfY/DuoYU9QW9z+G5gqvSAz4Pw==","dtype":"float64","order":"little","shape":[50]},"right":{"__ndarray__":"yW9Ujoj59b9Sc2IyFAT1v9t2cNafDvS/ZHp+eisZ87/tfYwetyPyv3aBmsJCLvG//4SoZs448L8QEW0VtIbuvyMYiV3Lm+y/NR+lpeKw6r9HJsHt+cXov1kt3TUR2+a/azT5fSjw5L99OxXGPwXjv49CMQ5XGuG/QpOarNxe3r9oodI8C4nav4yvCs05s9a/sL1CXWjd0r+ol/XaLQ/Ov/CzZfuKY8a/cKCrN9Bvvb8AshfxFDGsvwDnPmm063M/4LWzBQGWsD9QfdPERu2/P2Ci+UFGosc/GIaJIelNzz/otIwAxnzTP8SmVHCXUtc/oJgc4Ggo2z98iuRPOv7ePyw+1t8FauE/GDe6l+5U4z8IMJ5P1z/lP/QoggfAKuc/5CFmv6gV6T/QGkp3kQDrP8ATLi966+w/rAwS52LW7j/OAnvPpWDwP0T/bCsaVvE/vPteh45L8j8y+FDjAkHzP6r0Qj93NvQ/IPE0m+sr9T+Y7Sb3XyH2Pw7qGFPUFvc/huYKr0gM+D/94vwKvQH5Pw==","dtype":"float64","order":"little","shape":[50]},"top":{"__ndarray__":"z3yyCIEWoT8AAAAAAAAAAM98sgiBFqE/z3yyCIEWoT9qWjjPYee9P2paOM9h570/z3yyCIEWoT8DHN9KIVy1Pw4c30ohXMU/alo4z2HnzT82uwuNwaHJP2paOM9h580/NrsLjcGh2T9qWjjPYefNP898sgiBFtE/nWv1a/F+1z+tMq2++dXcPzb0Uzq5SuQ/aczIKVE54z9QYA4yBcLjPwMc30ohXOU/g/86dKUH6D+cpD0Z6SfiPza7C43Boek/NrsLjcGh6T8CVSf4GAXwP7eeZ7ZFTew/6a8kU9Xk5T+3nme2RU3sP2nMyClROeM/6OhsAM2N4D9pk4B8WZDoP898sgiBFuE/50NqW4lt1j/n4padKbPaPxNVJ/gYBdA/UJOAfFmQ2D/uCiKukcTLP4Rr9Wvxfsc/iVo4z2HnvT9MWjjPYee9P4laOM9h570/vXyyCIEWsT9SuwuNwaGpPxy7C43Boak/4XyyCIEWkT8AAAAAAAAAAOF8sgiBFpE/AAAAAAAAAADPfLIIgRaRPw==","dtype":"float64","order":"little","shape":[50]}},"selected":{"id":"2452"},"selection_policy":{"id":"2453"}},"id":"2319","type":"ColumnDataSource"},{"attributes":{},"id":"2296","type":"DataRange1d"},{"attributes":{"axis_label":"x","formatter":{"id":"2449"},"major_label_policy":{"id":"2450"},"ticker":{"id":"2305"}},"id":"2304","type":"LinearAxis"}],"root_ids":["2293"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"7c3f17e0-b0fe-415f-813c-fffe7994770e","root_ids":["2293"],"roots":{"2293":"85a2304a-fbc6-4358-8f0d-551c26507e18"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="scatter_figure" class="doc_header"><code>scatter_figure</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L238" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>scatter_figure</code>(<strong><code>x</code></strong>, <strong><code>y</code></strong>, <strong><code>xaxis_label</code></strong>=<em><code>'x'</code></em>, <strong><code>yaxis_label</code></strong>=<em><code>'y'</code></em>, <strong><code>title</code></strong>=<em><code>'scatter'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.sampledata.iris</span> <span class="kn">import</span> <span class="n">flowers</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">scatter_figure</span><span class="p">(</span><span class="n">flowers</span><span class="p">[</span><span class="s2">&quot;petal_length&quot;</span><span class="p">],</span> <span class="n">flowers</span><span class="p">[</span><span class="s2">&quot;petal_width&quot;</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="724f1bd5-bcad-4b9b-ab62-4bcb3a051bde" data-root-id="2499"></div>

</div>

</div>

<div class="output_area">




<div id="d242bd5c-0aeb-4436-a242-5e78cfe3848b"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#d242bd5c-0aeb-4436-a242-5e78cfe3848b');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"c64aa5ef-8ec2-4088-ad16-8aa461a0cefe":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2510"}],"center":[{"id":"2513"},{"id":"2517"}],"left":[{"id":"2514"}],"renderers":[{"id":"2528"}],"title":{"id":"2500"},"toolbar":{"id":"2521"},"toolbar_location":"above","x_range":{"id":"2502"},"x_scale":{"id":"2506"},"y_range":{"id":"2504"},"y_scale":{"id":"2508"}},"id":"2499","subtype":"Figure","type":"Plot"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"2526","type":"Circle"},{"attributes":{},"id":"2520","type":"PanTool"},{"attributes":{},"id":"2519","type":"ResetTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"2527","type":"Circle"},{"attributes":{"text":"scatter"},"id":"2500","type":"Title"},{"attributes":{},"id":"2664","type":"BasicTickFormatter"},{"attributes":{},"id":"2667","type":"Selection"},{"attributes":{},"id":"2502","type":"DataRange1d"},{"attributes":{"data_source":{"id":"2525"},"glyph":{"id":"2526"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2527"},"view":{"id":"2529"}},"id":"2528","type":"GlyphRenderer"},{"attributes":{},"id":"2661","type":"BasicTickFormatter"},{"attributes":{"source":{"id":"2525"}},"id":"2529","type":"CDSView"},{"attributes":{},"id":"2518","type":"SaveTool"},{"attributes":{},"id":"2515","type":"BasicTicker"},{"attributes":{},"id":"2504","type":"DataRange1d"},{"attributes":{},"id":"2668","type":"UnionRenderers"},{"attributes":{},"id":"2508","type":"LinearScale"},{"attributes":{"axis_label":"y","formatter":{"id":"2661"},"major_label_policy":{"id":"2662"},"ticker":{"id":"2515"}},"id":"2514","type":"LinearAxis"},{"attributes":{},"id":"2511","type":"BasicTicker"},{"attributes":{"data":{"x":{"__ndarray__":"ZmZmZmZm9j9mZmZmZmb2P83MzMzMzPQ/AAAAAAAA+D9mZmZmZmb2PzMzMzMzM/s/ZmZmZmZm9j8AAAAAAAD4P2ZmZmZmZvY/AAAAAAAA+D8AAAAAAAD4P5qZmZmZmfk/ZmZmZmZm9j+amZmZmZnxPzMzMzMzM/M/AAAAAAAA+D/NzMzMzMz0P2ZmZmZmZvY/MzMzMzMz+z8AAAAAAAD4PzMzMzMzM/s/AAAAAAAA+D8AAAAAAADwPzMzMzMzM/s/ZmZmZmZm/j+amZmZmZn5P5qZmZmZmfk/AAAAAAAA+D9mZmZmZmb2P5qZmZmZmfk/mpmZmZmZ+T8AAAAAAAD4PwAAAAAAAPg/ZmZmZmZm9j8AAAAAAAD4PzMzMzMzM/M/zczMzMzM9D9mZmZmZmb2P83MzMzMzPQ/AAAAAAAA+D/NzMzMzMz0P83MzMzMzPQ/zczMzMzM9D+amZmZmZn5P2ZmZmZmZv4/ZmZmZmZm9j+amZmZmZn5P2ZmZmZmZvY/AAAAAAAA+D9mZmZmZmb2P83MzMzMzBJAAAAAAAAAEkCamZmZmZkTQAAAAAAAABBAZmZmZmZmEkAAAAAAAAASQM3MzMzMzBJAZmZmZmZmCkBmZmZmZmYSQDMzMzMzMw9AAAAAAAAADEDNzMzMzMwQQAAAAAAAABBAzczMzMzMEkDNzMzMzMwMQJqZmZmZmRFAAAAAAAAAEkBmZmZmZmYQQAAAAAAAABJAMzMzMzMzD0AzMzMzMzMTQAAAAAAAABBAmpmZmZmZE0DNzMzMzMwSQDMzMzMzMxFAmpmZmZmZEUAzMzMzMzMTQAAAAAAAABRAAAAAAAAAEkAAAAAAAAAMQGZmZmZmZg5AmpmZmZmZDUAzMzMzMzMPQGZmZmZmZhRAAAAAAAAAEkAAAAAAAAASQM3MzMzMzBJAmpmZmZmZEUBmZmZmZmYQQAAAAAAAABBAmpmZmZmZEUBmZmZmZmYSQAAAAAAAABBAZmZmZmZmCkDNzMzMzMwQQM3MzMzMzBBAzczMzMzMEEAzMzMzMzMRQAAAAAAAAAhAZmZmZmZmEEAAAAAAAAAYQGZmZmZmZhRAmpmZmZmZF0BmZmZmZmYWQDMzMzMzMxdAZmZmZmZmGkAAAAAAAAASQDMzMzMzMxlAMzMzMzMzF0BmZmZmZmYYQGZmZmZmZhRAMzMzMzMzFUAAAAAAAAAWQAAAAAAAABRAZmZmZmZmFEAzMzMzMzMVQAAAAAAAABZAzczMzMzMGkCamZmZmZkbQAAAAAAAABRAzczMzMzMFkCamZmZmZkTQM3MzMzMzBpAmpmZmZmZE0DNzMzMzMwWQAAAAAAAABhAMzMzMzMzE0CamZmZmZkTQGZmZmZmZhZAMzMzMzMzF0BmZmZmZmYYQJqZmZmZmRlAZmZmZmZmFkBmZmZmZmYUQGZmZmZmZhZAZmZmZmZmGEBmZmZmZmYWQAAAAAAAABZAMzMzMzMzE0CamZmZmZkVQGZmZmZmZhZAZmZmZmZmFEBmZmZmZmYUQJqZmZmZmRdAzczMzMzMFkDNzMzMzMwUQAAAAAAAABRAzczMzMzMFECamZmZmZkVQGZmZmZmZhRA","dtype":"float64","order":"little","shape":[150]},"y":{"__ndarray__":"mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnJP5qZmZmZmdk/MzMzMzMz0z+amZmZmZnJP5qZmZmZmck/mpmZmZmZuT+amZmZmZnJP5qZmZmZmck/mpmZmZmZuT+amZmZmZm5P5qZmZmZmck/mpmZmZmZ2T+amZmZmZnZPzMzMzMzM9M/MzMzMzMz0z8zMzMzMzPTP5qZmZmZmck/mpmZmZmZ2T+amZmZmZnJPwAAAAAAAOA/mpmZmZmZyT+amZmZmZnJP5qZmZmZmdk/mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnZP5qZmZmZmbk/mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZm5P5qZmZmZmck/mpmZmZmZyT8zMzMzMzPTPzMzMzMzM9M/mpmZmZmZyT8zMzMzMzPjP5qZmZmZmdk/MzMzMzMz0z+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnJP2ZmZmZmZvY/AAAAAAAA+D8AAAAAAAD4P83MzMzMzPQ/AAAAAAAA+D/NzMzMzMz0P5qZmZmZmfk/AAAAAAAA8D/NzMzMzMz0P2ZmZmZmZvY/AAAAAAAA8D8AAAAAAAD4PwAAAAAAAPA/ZmZmZmZm9j/NzMzMzMz0P2ZmZmZmZvY/AAAAAAAA+D8AAAAAAADwPwAAAAAAAPg/mpmZmZmZ8T/NzMzMzMz8P83MzMzMzPQ/AAAAAAAA+D8zMzMzMzPzP83MzMzMzPQ/ZmZmZmZm9j9mZmZmZmb2PzMzMzMzM/s/AAAAAAAA+D8AAAAAAADwP5qZmZmZmfE/AAAAAAAA8D8zMzMzMzPzP5qZmZmZmfk/AAAAAAAA+D+amZmZmZn5PwAAAAAAAPg/zczMzMzM9D/NzMzMzMz0P83MzMzMzPQ/MzMzMzMz8z9mZmZmZmb2PzMzMzMzM/M/AAAAAAAA8D/NzMzMzMz0PzMzMzMzM/M/zczMzMzM9D/NzMzMzMz0P5qZmZmZmfE/zczMzMzM9D8AAAAAAAAEQGZmZmZmZv4/zczMzMzMAEDNzMzMzMz8P5qZmZmZmQFAzczMzMzMAEAzMzMzMzP7P83MzMzMzPw/zczMzMzM/D8AAAAAAAAEQAAAAAAAAABAZmZmZmZm/j/NzMzMzMwAQAAAAAAAAABAMzMzMzMzA0BmZmZmZmYCQM3MzMzMzPw/mpmZmZmZAUBmZmZmZmYCQAAAAAAAAPg/ZmZmZmZmAkAAAAAAAAAAQAAAAAAAAABAzczMzMzM/D/NzMzMzMwAQM3MzMzMzPw/zczMzMzM/D/NzMzMzMz8P83MzMzMzABAmpmZmZmZ+T9mZmZmZmb+PwAAAAAAAABAmpmZmZmZAUAAAAAAAAD4P2ZmZmZmZvY/ZmZmZmZmAkAzMzMzMzMDQM3MzMzMzPw/zczMzMzM/D/NzMzMzMwAQDMzMzMzMwNAZmZmZmZmAkBmZmZmZmb+P2ZmZmZmZgJAAAAAAAAABEBmZmZmZmYCQGZmZmZmZv4/AAAAAAAAAEBmZmZmZmYCQM3MzMzMzPw/","dtype":"float64","order":"little","shape":[150]}},"selected":{"id":"2667"},"selection_policy":{"id":"2668"}},"id":"2525","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"2514"},"dimension":1,"ticker":null},"id":"2517","type":"Grid"},{"attributes":{},"id":"2662","type":"AllLabels"},{"attributes":{},"id":"2665","type":"AllLabels"},{"attributes":{"active_multi":null,"tools":[{"id":"2518"},{"id":"2519"},{"id":"2520"}]},"id":"2521","type":"Toolbar"},{"attributes":{},"id":"2506","type":"LinearScale"},{"attributes":{"axis":{"id":"2510"},"ticker":null},"id":"2513","type":"Grid"},{"attributes":{"axis_label":"x","formatter":{"id":"2664"},"major_label_policy":{"id":"2665"},"ticker":{"id":"2511"}},"id":"2510","type":"LinearAxis"}],"root_ids":["2499"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"c64aa5ef-8ec2-4088-ad16-8aa461a0cefe","root_ids":["2499"],"roots":{"2499":"724f1bd5-bcad-4b9b-ab62-4bcb3a051bde"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="bubble_figure" class="doc_header"><code>bubble_figure</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L251" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>bubble_figure</code>(<strong><code>x</code></strong>, <strong><code>y</code></strong>, <strong><code>z</code></strong>=<em><code>None</code></em>, <strong><code>title</code></strong>=<em><code>'bubble'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">flowers</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>sepal_width</th>
      <th>petal_length</th>
      <th>petal_width</th>
      <th>species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.1</td>
      <td>3.5</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.9</td>
      <td>3.0</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4.7</td>
      <td>3.2</td>
      <td>1.3</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4.6</td>
      <td>3.1</td>
      <td>1.5</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.0</td>
      <td>3.6</td>
      <td>1.4</td>
      <td>0.2</td>
      <td>setosa</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">bubble_figure</span><span class="p">(</span><span class="n">flowers</span><span class="p">[</span><span class="s2">&quot;petal_length&quot;</span><span class="p">],</span> <span class="n">flowers</span><span class="p">[</span><span class="s2">&quot;petal_width&quot;</span><span class="p">],</span> <span class="n">flowers</span><span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="ab7c4e02-83c1-4877-a7ae-f42a4af10a36" data-root-id="2714"></div>

</div>

</div>

<div class="output_area">




<div id="ca640fae-5743-4b02-9911-9f34b7fc4f41"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#ca640fae-5743-4b02-9911-9f34b7fc4f41');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"6ebee378-4014-4d42-9163-d1f2ed034275":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2725"}],"center":[{"id":"2728"},{"id":"2732"}],"left":[{"id":"2729"}],"renderers":[{"id":"2743"}],"title":{"id":"2715"},"toolbar":{"id":"2736"},"toolbar_location":"above","x_range":{"id":"2717"},"x_scale":{"id":"2721"},"y_range":{"id":"2719"},"y_scale":{"id":"2723"}},"id":"2714","subtype":"Figure","type":"Plot"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"radius":{"field":"radius"},"x":{"field":"x"},"y":{"field":"y"}},"id":"2742","type":"Circle"},{"attributes":{},"id":"2730","type":"BasicTicker"},{"attributes":{},"id":"2888","type":"BasicTickFormatter"},{"attributes":{},"id":"2889","type":"AllLabels"},{"attributes":{},"id":"2886","type":"AllLabels"},{"attributes":{},"id":"2733","type":"SaveTool"},{"attributes":{"text":"bubble"},"id":"2715","type":"Title"},{"attributes":{},"id":"2726","type":"BasicTicker"},{"attributes":{"active_multi":null,"tools":[{"id":"2733"},{"id":"2734"},{"id":"2735"}]},"id":"2736","type":"Toolbar"},{"attributes":{},"id":"2721","type":"LinearScale"},{"attributes":{},"id":"2891","type":"Selection"},{"attributes":{"fill_alpha":{"value":0.6},"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"radius":{"field":"radius"},"x":{"field":"x"},"y":{"field":"y"}},"id":"2741","type":"Circle"},{"attributes":{"data":{"radius":{"__ndarray__":"ZmZmZmZm1j8QERERERHRPzMzMzMzM9M/IiIiIiIi0j92d3d3d3fXP6qqqqqqqto/VFVVVVVV1T9UVVVVVVXVP////////88/IiIiIiIi0j+IiIiIiIjYP1RVVVVVVdU/EBERERER0T8QERERERHRP7q7u7u7u9s/AAAAAAAA4D+qqqqqqqraP2ZmZmZmZtY/mJmZmZmZ2T+YmZmZmZnZP1RVVVVVVdU/iIiIiIiI2D92d3d3d3fXP0RERERERNQ/VFVVVVVV1T8QERERERHRP1RVVVVVVdU/ZmZmZmZm1j9UVVVVVVXVPzMzMzMzM9M/IiIiIiIi0j9UVVVVVVXVP8rMzMzMzNw/3N3d3d3d3T8iIiIiIiLSPzMzMzMzM9M/ZmZmZmZm1j92d3d3d3fXPxAREREREdE/VFVVVVVV1T9mZmZmZmbWPzIzMzMzM8M/MzMzMzMz0z9mZmZmZmbWP5iZmZmZmdk/EBERERER0T+YmZmZmZnZPzMzMzMzM9M/iIiIiIiI2D9ERERERETUPzMzMzMzM9M/MzMzMzMz0z8iIiIiIiLSPzIzMzMzM8M/293d3d3dzT/b3d3d3d3NP0RERERERNQ/VFVVVVVVxT/////////PP7y7u7u7u8s/mpmZmZmZuT8QERERERHRPxIREREREcE/////////zz/////////PPyIiIiIiItI/EBERERER0T+8u7u7u7vLPxIREREREcE/dnd3d3d3xz8zMzMzMzPTP9vd3d3d3c0/dnd3d3d3xz/b3d3d3d3NP////////88/EBERERER0T/b3d3d3d3NPxAREREREdE/////////zz+amZmZmZnJP1RVVVVVVcU/VFVVVVVVxT+8u7u7u7vLP7y7u7u7u8s/EBERERER0T9UVVVVVVXVPyIiIiIiItI/MjMzMzMzwz8QERERERHRP3Z3d3d3d8c/mpmZmZmZyT8QERERERHRP5qZmZmZmck/MjMzMzMzwz+8u7u7u7vLPxAREREREdE/////////zz/////////PP3Z3d3d3d8c/293d3d3dzT9ERERERETUP7y7u7u7u8s/EBERERER0T/////////PPxAREREREdE/EBERERER0T92d3d3d3fHP////////88/dnd3d3d3xz92d3d3d3fXPzMzMzMzM9M/vLu7u7u7yz8QERERERHRP3Z3d3d3d8c/293d3d3dzT8zMzMzMzPTPxAREREREdE/mJmZmZmZ2T+amZmZmZnJPxIREREREcE/MzMzMzMz0z/b3d3d3d3NP9vd3d3d3c0/vLu7u7u7yz9ERERERETUPzMzMzMzM9M/293d3d3dzT8QERERERHRP9vd3d3d3c0/EBERERER0T/b3d3d3d3NP5iZmZmZmdk/293d3d3dzT/b3d3d3d3NP5qZmZmZmck/EBERERER0T9UVVVVVVXVPyIiIiIiItI/EBERERER0T8iIiIiIiLSPyIiIiIiItI/IiIiIiIi0j+8u7u7u7vLPzMzMzMzM9M/RERERERE1D8QERERERHRP3Z3d3d3d8c/EBERERER0T9UVVVVVVXVPxAREREREdE/","dtype":"float64","order":"little","shape":[150]},"x":{"__ndarray__":"ZmZmZmZm9j9mZmZmZmb2P83MzMzMzPQ/AAAAAAAA+D9mZmZmZmb2PzMzMzMzM/s/ZmZmZmZm9j8AAAAAAAD4P2ZmZmZmZvY/AAAAAAAA+D8AAAAAAAD4P5qZmZmZmfk/ZmZmZmZm9j+amZmZmZnxPzMzMzMzM/M/AAAAAAAA+D/NzMzMzMz0P2ZmZmZmZvY/MzMzMzMz+z8AAAAAAAD4PzMzMzMzM/s/AAAAAAAA+D8AAAAAAADwPzMzMzMzM/s/ZmZmZmZm/j+amZmZmZn5P5qZmZmZmfk/AAAAAAAA+D9mZmZmZmb2P5qZmZmZmfk/mpmZmZmZ+T8AAAAAAAD4PwAAAAAAAPg/ZmZmZmZm9j8AAAAAAAD4PzMzMzMzM/M/zczMzMzM9D9mZmZmZmb2P83MzMzMzPQ/AAAAAAAA+D/NzMzMzMz0P83MzMzMzPQ/zczMzMzM9D+amZmZmZn5P2ZmZmZmZv4/ZmZmZmZm9j+amZmZmZn5P2ZmZmZmZvY/AAAAAAAA+D9mZmZmZmb2P83MzMzMzBJAAAAAAAAAEkCamZmZmZkTQAAAAAAAABBAZmZmZmZmEkAAAAAAAAASQM3MzMzMzBJAZmZmZmZmCkBmZmZmZmYSQDMzMzMzMw9AAAAAAAAADEDNzMzMzMwQQAAAAAAAABBAzczMzMzMEkDNzMzMzMwMQJqZmZmZmRFAAAAAAAAAEkBmZmZmZmYQQAAAAAAAABJAMzMzMzMzD0AzMzMzMzMTQAAAAAAAABBAmpmZmZmZE0DNzMzMzMwSQDMzMzMzMxFAmpmZmZmZEUAzMzMzMzMTQAAAAAAAABRAAAAAAAAAEkAAAAAAAAAMQGZmZmZmZg5AmpmZmZmZDUAzMzMzMzMPQGZmZmZmZhRAAAAAAAAAEkAAAAAAAAASQM3MzMzMzBJAmpmZmZmZEUBmZmZmZmYQQAAAAAAAABBAmpmZmZmZEUBmZmZmZmYSQAAAAAAAABBAZmZmZmZmCkDNzMzMzMwQQM3MzMzMzBBAzczMzMzMEEAzMzMzMzMRQAAAAAAAAAhAZmZmZmZmEEAAAAAAAAAYQGZmZmZmZhRAmpmZmZmZF0BmZmZmZmYWQDMzMzMzMxdAZmZmZmZmGkAAAAAAAAASQDMzMzMzMxlAMzMzMzMzF0BmZmZmZmYYQGZmZmZmZhRAMzMzMzMzFUAAAAAAAAAWQAAAAAAAABRAZmZmZmZmFEAzMzMzMzMVQAAAAAAAABZAzczMzMzMGkCamZmZmZkbQAAAAAAAABRAzczMzMzMFkCamZmZmZkTQM3MzMzMzBpAmpmZmZmZE0DNzMzMzMwWQAAAAAAAABhAMzMzMzMzE0CamZmZmZkTQGZmZmZmZhZAMzMzMzMzF0BmZmZmZmYYQJqZmZmZmRlAZmZmZmZmFkBmZmZmZmYUQGZmZmZmZhZAZmZmZmZmGEBmZmZmZmYWQAAAAAAAABZAMzMzMzMzE0CamZmZmZkVQGZmZmZmZhZAZmZmZmZmFEBmZmZmZmYUQJqZmZmZmRdAzczMzMzMFkDNzMzMzMwUQAAAAAAAABRAzczMzMzMFECamZmZmZkVQGZmZmZmZhRA","dtype":"float64","order":"little","shape":[150]},"y":{"__ndarray__":"mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnJP5qZmZmZmdk/MzMzMzMz0z+amZmZmZnJP5qZmZmZmck/mpmZmZmZuT+amZmZmZnJP5qZmZmZmck/mpmZmZmZuT+amZmZmZm5P5qZmZmZmck/mpmZmZmZ2T+amZmZmZnZPzMzMzMzM9M/MzMzMzMz0z8zMzMzMzPTP5qZmZmZmck/mpmZmZmZ2T+amZmZmZnJPwAAAAAAAOA/mpmZmZmZyT+amZmZmZnJP5qZmZmZmdk/mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnZP5qZmZmZmbk/mpmZmZmZyT+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZm5P5qZmZmZmck/mpmZmZmZyT8zMzMzMzPTPzMzMzMzM9M/mpmZmZmZyT8zMzMzMzPjP5qZmZmZmdk/MzMzMzMz0z+amZmZmZnJP5qZmZmZmck/mpmZmZmZyT+amZmZmZnJP2ZmZmZmZvY/AAAAAAAA+D8AAAAAAAD4P83MzMzMzPQ/AAAAAAAA+D/NzMzMzMz0P5qZmZmZmfk/AAAAAAAA8D/NzMzMzMz0P2ZmZmZmZvY/AAAAAAAA8D8AAAAAAAD4PwAAAAAAAPA/ZmZmZmZm9j/NzMzMzMz0P2ZmZmZmZvY/AAAAAAAA+D8AAAAAAADwPwAAAAAAAPg/mpmZmZmZ8T/NzMzMzMz8P83MzMzMzPQ/AAAAAAAA+D8zMzMzMzPzP83MzMzMzPQ/ZmZmZmZm9j9mZmZmZmb2PzMzMzMzM/s/AAAAAAAA+D8AAAAAAADwP5qZmZmZmfE/AAAAAAAA8D8zMzMzMzPzP5qZmZmZmfk/AAAAAAAA+D+amZmZmZn5PwAAAAAAAPg/zczMzMzM9D/NzMzMzMz0P83MzMzMzPQ/MzMzMzMz8z9mZmZmZmb2PzMzMzMzM/M/AAAAAAAA8D/NzMzMzMz0PzMzMzMzM/M/zczMzMzM9D/NzMzMzMz0P5qZmZmZmfE/zczMzMzM9D8AAAAAAAAEQGZmZmZmZv4/zczMzMzMAEDNzMzMzMz8P5qZmZmZmQFAzczMzMzMAEAzMzMzMzP7P83MzMzMzPw/zczMzMzM/D8AAAAAAAAEQAAAAAAAAABAZmZmZmZm/j/NzMzMzMwAQAAAAAAAAABAMzMzMzMzA0BmZmZmZmYCQM3MzMzMzPw/mpmZmZmZAUBmZmZmZmYCQAAAAAAAAPg/ZmZmZmZmAkAAAAAAAAAAQAAAAAAAAABAzczMzMzM/D/NzMzMzMwAQM3MzMzMzPw/zczMzMzM/D/NzMzMzMz8P83MzMzMzABAmpmZmZmZ+T9mZmZmZmb+PwAAAAAAAABAmpmZmZmZAUAAAAAAAAD4P2ZmZmZmZvY/ZmZmZmZmAkAzMzMzMzMDQM3MzMzMzPw/zczMzMzM/D/NzMzMzMwAQDMzMzMzMwNAZmZmZmZmAkBmZmZmZmb+P2ZmZmZmZgJAAAAAAAAABEBmZmZmZmYCQGZmZmZmZv4/AAAAAAAAAEBmZmZmZmYCQM3MzMzMzPw/","dtype":"float64","order":"little","shape":[150]}},"selected":{"id":"2891"},"selection_policy":{"id":"2892"}},"id":"2740","type":"ColumnDataSource"},{"attributes":{},"id":"2723","type":"LinearScale"},{"attributes":{},"id":"2719","type":"DataRange1d"},{"attributes":{"formatter":{"id":"2888"},"major_label_policy":{"id":"2889"},"ticker":{"id":"2726"}},"id":"2725","type":"LinearAxis"},{"attributes":{},"id":"2892","type":"UnionRenderers"},{"attributes":{"data_source":{"id":"2740"},"glyph":{"id":"2741"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2742"},"view":{"id":"2744"}},"id":"2743","type":"GlyphRenderer"},{"attributes":{},"id":"2717","type":"DataRange1d"},{"attributes":{"axis":{"id":"2729"},"dimension":1,"ticker":null},"id":"2732","type":"Grid"},{"attributes":{},"id":"2885","type":"BasicTickFormatter"},{"attributes":{"source":{"id":"2740"}},"id":"2744","type":"CDSView"},{"attributes":{},"id":"2734","type":"ResetTool"},{"attributes":{},"id":"2735","type":"PanTool"},{"attributes":{"axis":{"id":"2725"},"ticker":null},"id":"2728","type":"Grid"},{"attributes":{"formatter":{"id":"2885"},"major_label_policy":{"id":"2886"},"ticker":{"id":"2730"}},"id":"2729","type":"LinearAxis"}],"root_ids":["2714"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"6ebee378-4014-4d42-9163-d1f2ed034275","root_ids":["2714"],"roots":{"2714":"ab7c4e02-83c1-4877-a7ae-f42a4af10a36"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="stacked_bar_figure" class="doc_header"><code>stacked_bar_figure</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L268" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>stacked_bar_figure</code>(<strong><code>data</code></strong>:<code>dict</code>, <strong><code>x_key</code></strong>, <strong><code>y_keys</code></strong>:<code>list</code>, <strong><code>title</code></strong>=<em><code>'stacked bar'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Apples&#39;</span><span class="p">,</span> <span class="s1">&#39;Pears&#39;</span><span class="p">,</span> <span class="s1">&#39;Nectarines&#39;</span><span class="p">,</span> <span class="s1">&#39;Plums&#39;</span><span class="p">,</span> <span class="s1">&#39;Grapes&#39;</span><span class="p">,</span> <span class="s1">&#39;Strawberries&#39;</span><span class="p">]</span>
<span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2015&quot;</span><span class="p">,</span> <span class="s2">&quot;2016&quot;</span><span class="p">,</span> <span class="s2">&quot;2017&quot;</span><span class="p">]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#c9d9d3&quot;</span><span class="p">,</span> <span class="s2">&quot;#718dbf&quot;</span><span class="p">,</span> <span class="s2">&quot;#e84d60&quot;</span><span class="p">]</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fruits&#39;</span> <span class="p">:</span> <span class="n">fruits</span><span class="p">,</span>
        <span class="s1">&#39;2015&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
        <span class="s1">&#39;2016&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
        <span class="s1">&#39;2017&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">stacked_bar_figure</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">x_key</span><span class="o">=</span><span class="s1">&#39;fruits&#39;</span><span class="p">,</span> <span class="n">y_keys</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;2015&#39;</span><span class="p">,</span> <span class="s1">&#39;2016&#39;</span><span class="p">,</span> <span class="s1">&#39;2017&#39;</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="54f462f6-1266-4cb8-bfea-32692fe44e2f" data-root-id="2938"></div>

</div>

</div>

<div class="output_area">




<div id="9dc20c06-18a9-48dd-9673-60a29a063c09"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#9dc20c06-18a9-48dd-9673-60a29a063c09');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"7312f29c-f340-4219-a461-0cb98123bc39":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"2949"}],"center":[{"id":"2951"},{"id":"2955"},{"id":"2984"}],"left":[{"id":"2952"}],"outline_line_color":null,"renderers":[{"id":"2973"},{"id":"2990"},{"id":"3008"}],"title":{"id":"2939"},"toolbar":{"id":"2959"},"toolbar_location":"above","x_range":{"id":"2941"},"x_scale":{"id":"2945"},"y_range":{"id":"2943"},"y_scale":{"id":"2947"}},"id":"2938","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"2982","type":"Selection"},{"attributes":{},"id":"2977","type":"AllLabels"},{"attributes":{"fields":["2015","2016"]},"id":"2966","type":"Stack"},{"attributes":{"source":{"id":"2969"}},"id":"2974","type":"CDSView"},{"attributes":{},"id":"2983","type":"UnionRenderers"},{"attributes":{"axis":{"id":"2952"},"dimension":1,"ticker":null},"id":"2955","type":"Grid"},{"attributes":{},"id":"2945","type":"CategoricalScale"},{"attributes":{},"id":"2979","type":"CategoricalTickFormatter"},{"attributes":{},"id":"3001","type":"Selection"},{"attributes":{"bottom":{"expr":{"id":"2963"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#c9d9d3"},"line_alpha":{"value":0.1},"line_color":{"value":"#c9d9d3"},"top":{"expr":{"id":"2964"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"2972","type":"VBar"},{"attributes":{},"id":"3021","type":"Selection"},{"attributes":{},"id":"2980","type":"AllLabels"},{"attributes":{},"id":"3002","type":"UnionRenderers"},{"attributes":{},"id":"3022","type":"UnionRenderers"},{"attributes":{},"id":"2953","type":"BasicTicker"},{"attributes":{"fields":["2015"]},"id":"2964","type":"Stack"},{"attributes":{"data_source":{"id":"2969"},"glyph":{"id":"2971"},"hover_glyph":null,"muted_glyph":null,"name":"2015","nonselection_glyph":{"id":"2972"},"view":{"id":"2974"}},"id":"2973","type":"GlyphRenderer"},{"attributes":{},"id":"2950","type":"CategoricalTicker"},{"attributes":{"bottom":{"expr":{"id":"2963"}},"fill_color":{"value":"#c9d9d3"},"line_color":{"value":"#c9d9d3"},"top":{"expr":{"id":"2964"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"2971","type":"VBar"},{"attributes":{"data":{"2015":[2,1,4,3,2,4],"2016":[5,3,4,2,4,6],"2017":[3,2,4,4,5,3],"fruits":["Apples","Pears","Nectarines","Plums","Grapes","Strawberries"]},"selected":{"id":"3001"},"selection_policy":{"id":"3002"}},"id":"2986","type":"ColumnDataSource"},{"attributes":{"formatter":{"id":"2979"},"major_label_policy":{"id":"2980"},"minor_tick_line_color":null,"ticker":{"id":"2950"}},"id":"2949","type":"CategoricalAxis"},{"attributes":{"active_multi":null,"tools":[{"id":"2956"},{"id":"2957"},{"id":"2958"}]},"id":"2959","type":"Toolbar"},{"attributes":{"bottom":{"expr":{"id":"2965"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#718dbf"},"line_alpha":{"value":0.1},"line_color":{"value":"#718dbf"},"top":{"expr":{"id":"2966"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"2989","type":"VBar"},{"attributes":{"items":[{"id":"2985"},{"id":"3003"},{"id":"3023"}],"location":"top_left","orientation":"horizontal"},"id":"2984","type":"Legend"},{"attributes":{"axis":{"id":"2949"},"grid_line_color":null,"ticker":null},"id":"2951","type":"Grid"},{"attributes":{"formatter":{"id":"2976"},"major_label_policy":{"id":"2977"},"minor_tick_line_color":null,"ticker":{"id":"2953"}},"id":"2952","type":"LinearAxis"},{"attributes":{"label":{"value":"2016"},"renderers":[{"id":"2990"}]},"id":"3003","type":"LegendItem"},{"attributes":{},"id":"2958","type":"PanTool"},{"attributes":{"fields":["2015","2016","2017"]},"id":"2968","type":"Stack"},{"attributes":{"source":{"id":"2986"}},"id":"2991","type":"CDSView"},{"attributes":{},"id":"2956","type":"SaveTool"},{"attributes":{"data":{"2015":[2,1,4,3,2,4],"2016":[5,3,4,2,4,6],"2017":[3,2,4,4,5,3],"fruits":["Apples","Pears","Nectarines","Plums","Grapes","Strawberries"]},"selected":{"id":"3021"},"selection_policy":{"id":"3022"}},"id":"3004","type":"ColumnDataSource"},{"attributes":{"bottom":{"expr":{"id":"2965"}},"fill_color":{"value":"#718dbf"},"line_color":{"value":"#718dbf"},"top":{"expr":{"id":"2966"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"2988","type":"VBar"},{"attributes":{},"id":"2957","type":"ResetTool"},{"attributes":{"label":{"value":"2015"},"renderers":[{"id":"2973"}]},"id":"2985","type":"LegendItem"},{"attributes":{"text":"stacked bar"},"id":"2939","type":"Title"},{"attributes":{"fields":["2015","2016"]},"id":"2967","type":"Stack"},{"attributes":{"bottom":{"expr":{"id":"2967"}},"fill_alpha":{"value":0.1},"fill_color":{"value":"#e84d60"},"line_alpha":{"value":0.1},"line_color":{"value":"#e84d60"},"top":{"expr":{"id":"2968"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"3007","type":"VBar"},{"attributes":{"fields":[]},"id":"2963","type":"Stack"},{"attributes":{"data":{"2015":[2,1,4,3,2,4],"2016":[5,3,4,2,4,6],"2017":[3,2,4,4,5,3],"fruits":["Apples","Pears","Nectarines","Plums","Grapes","Strawberries"]},"selected":{"id":"2982"},"selection_policy":{"id":"2983"}},"id":"2969","type":"ColumnDataSource"},{"attributes":{"source":{"id":"3004"}},"id":"3009","type":"CDSView"},{"attributes":{"label":{"value":"2017"},"renderers":[{"id":"3008"}]},"id":"3023","type":"LegendItem"},{"attributes":{"fields":["2015"]},"id":"2965","type":"Stack"},{"attributes":{"bottom":{"expr":{"id":"2967"}},"fill_color":{"value":"#e84d60"},"line_color":{"value":"#e84d60"},"top":{"expr":{"id":"2968"}},"width":{"value":0.9},"x":{"field":"fruits"}},"id":"3006","type":"VBar"},{"attributes":{"data_source":{"id":"2986"},"glyph":{"id":"2988"},"hover_glyph":null,"muted_glyph":null,"name":"2016","nonselection_glyph":{"id":"2989"},"view":{"id":"2991"}},"id":"2990","type":"GlyphRenderer"},{"attributes":{},"id":"2947","type":"LinearScale"},{"attributes":{"data_source":{"id":"3004"},"glyph":{"id":"3006"},"hover_glyph":null,"muted_glyph":null,"name":"2017","nonselection_glyph":{"id":"3007"},"view":{"id":"3009"}},"id":"3008","type":"GlyphRenderer"},{"attributes":{"start":0},"id":"2943","type":"DataRange1d"},{"attributes":{},"id":"2976","type":"BasicTickFormatter"},{"attributes":{"factors":["Apples","Pears","Nectarines","Plums","Grapes","Strawberries"],"range_padding":0.1},"id":"2941","type":"FactorRange"}],"root_ids":["2938"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"7312f29c-f340-4219-a461-0cb98123bc39","root_ids":["2938"],"roots":{"2938":"54f462f6-1266-4cb8-bfea-32692fe44e2f"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="stacked_area_figure" class="doc_header"><code>stacked_area_figure</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L286" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>stacked_area_figure</code>(<strong><code>df</code></strong>, <strong><code>stackers</code></strong>:<code>list</code>, <strong><code>title</code></strong>=<em><code>'stacked_area'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>y0</th>
      <th>y1</th>
      <th>y2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>44</td>
      <td>99</td>
      <td>87</td>
    </tr>
    <tr>
      <th>1</th>
      <td>77</td>
      <td>17</td>
      <td>95</td>
    </tr>
    <tr>
      <th>2</th>
      <td>64</td>
      <td>97</td>
      <td>90</td>
    </tr>
    <tr>
      <th>3</th>
      <td>17</td>
      <td>36</td>
      <td>76</td>
    </tr>
    <tr>
      <th>4</th>
      <td>30</td>
      <td>13</td>
      <td>96</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">stacked_area_figure</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">stackers</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;y0&#39;</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">])</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="0df2d3c1-7d8f-47fe-bb0d-4f7b9ec83494" data-root-id="3250"></div>

</div>

</div>

<div class="output_area">




<div id="c061c4e7-c819-426a-b967-fb00290e185c"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#c061c4e7-c819-426a-b967-fb00290e185c');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"684af700-fdf8-48b6-a176-2dda46809ea2":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"3261"}],"center":[{"id":"3264"},{"id":"3268"},{"id":"3297"}],"left":[{"id":"3265"}],"renderers":[{"id":"3286"},{"id":"3303"},{"id":"3321"}],"title":{"id":"3251"},"toolbar":{"id":"3272"},"toolbar_location":"above","x_range":{"id":"3253"},"x_scale":{"id":"3257"},"y_range":{"id":"3255"},"y_scale":{"id":"3259"}},"id":"3250","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"3266","type":"BasicTicker"},{"attributes":{},"id":"3315","type":"UnionRenderers"},{"attributes":{"end":14},"id":"3253","type":"Range1d"},{"attributes":{"fields":["y0","y1","y2"]},"id":"3281","type":"Stack"},{"attributes":{"data":{"_index_col":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"y0":[44,77,64,17,30,87,86,79,54,54,98,24,44,24,72],"y1":[99,17,97,36,13,77,26,43,68,16,80,82,18,12,74],"y2":[87,95,90,76,96,74,68,35,24,70,19,57,72,40,20]},"selected":{"id":"3295"},"selection_policy":{"id":"3296"}},"id":"3282","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"3261"},"minor_grid_line_color":"#eeeeee","ticker":null},"id":"3264","type":"Grid"},{"attributes":{"data_source":{"id":"3317"},"glyph":{"id":"3319"},"hover_glyph":null,"muted_glyph":null,"name":"y2","nonselection_glyph":{"id":"3320"},"view":{"id":"3322"}},"id":"3321","type":"GlyphRenderer"},{"attributes":{},"id":"3259","type":"LinearScale"},{"attributes":{},"id":"3292","type":"BasicTickFormatter"},{"attributes":{},"id":"3290","type":"AllLabels"},{"attributes":{},"id":"3270","type":"ResetTool"},{"attributes":{},"id":"3293","type":"AllLabels"},{"attributes":{},"id":"3257","type":"LinearScale"},{"attributes":{"data":{"_index_col":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"y0":[44,77,64,17,30,87,86,79,54,54,98,24,44,24,72],"y1":[99,17,97,36,13,77,26,43,68,16,80,82,18,12,74],"y2":[87,95,90,76,96,74,68,35,24,70,19,57,72,40,20]},"selected":{"id":"3314"},"selection_policy":{"id":"3315"}},"id":"3299","type":"ColumnDataSource"},{"attributes":{"fields":["y0","y1"]},"id":"3279","type":"Stack"},{"attributes":{"fields":["y0"]},"id":"3277","type":"Stack"},{"attributes":{"fields":["y0","y1"]},"id":"3280","type":"Stack"},{"attributes":{"axis":{"id":"3265"},"dimension":1,"minor_grid_line_color":"#eeeeee","ticker":null},"id":"3268","type":"Grid"},{"attributes":{"fill_alpha":0.1,"fill_color":"#fc8d62","x":{"field":"_index_col"},"y1":{"expr":{"id":"3278"}},"y2":{"expr":{"id":"3279"}}},"id":"3302","type":"VArea"},{"attributes":{},"id":"3271","type":"PanTool"},{"attributes":{"active_multi":null,"tools":[{"id":"3269"},{"id":"3270"},{"id":"3271"}]},"id":"3272","type":"Toolbar"},{"attributes":{"fields":["y0"]},"id":"3278","type":"Stack"},{"attributes":{},"id":"3289","type":"BasicTickFormatter"},{"attributes":{},"id":"3262","type":"BasicTicker"},{"attributes":{"fill_color":"#fc8d62","x":{"field":"_index_col"},"y1":{"expr":{"id":"3278"}},"y2":{"expr":{"id":"3279"}}},"id":"3301","type":"VArea"},{"attributes":{"source":{"id":"3317"}},"id":"3322","type":"CDSView"},{"attributes":{"data_source":{"id":"3299"},"glyph":{"id":"3301"},"hover_glyph":null,"muted_glyph":null,"name":"y1","nonselection_glyph":{"id":"3302"},"view":{"id":"3304"}},"id":"3303","type":"GlyphRenderer"},{"attributes":{"fill_color":"#66c2a5","x":{"field":"_index_col"},"y1":{"expr":{"id":"3276"}},"y2":{"expr":{"id":"3277"}}},"id":"3284","type":"VArea"},{"attributes":{"data":{"_index_col":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"y0":[44,77,64,17,30,87,86,79,54,54,98,24,44,24,72],"y1":[99,17,97,36,13,77,26,43,68,16,80,82,18,12,74],"y2":[87,95,90,76,96,74,68,35,24,70,19,57,72,40,20]},"selected":{"id":"3334"},"selection_policy":{"id":"3335"}},"id":"3317","type":"ColumnDataSource"},{"attributes":{"formatter":{"id":"3292"},"major_label_policy":{"id":"3293"},"ticker":{"id":"3262"}},"id":"3261","type":"LinearAxis"},{"attributes":{"data_source":{"id":"3282"},"glyph":{"id":"3284"},"hover_glyph":null,"muted_glyph":null,"name":"y0","nonselection_glyph":{"id":"3285"},"view":{"id":"3287"}},"id":"3286","type":"GlyphRenderer"},{"attributes":{"text":"stacked_area"},"id":"3251","type":"Title"},{"attributes":{},"id":"3314","type":"Selection"},{"attributes":{"fill_alpha":0.1,"fill_color":"#8da0cb","x":{"field":"_index_col"},"y1":{"expr":{"id":"3280"}},"y2":{"expr":{"id":"3281"}}},"id":"3320","type":"VArea"},{"attributes":{"label":{"value":"y1"},"renderers":[{"id":"3303"}]},"id":"3316","type":"LegendItem"},{"attributes":{},"id":"3295","type":"Selection"},{"attributes":{},"id":"3334","type":"Selection"},{"attributes":{},"id":"3296","type":"UnionRenderers"},{"attributes":{"fill_alpha":0.1,"fill_color":"#66c2a5","x":{"field":"_index_col"},"y1":{"expr":{"id":"3276"}},"y2":{"expr":{"id":"3277"}}},"id":"3285","type":"VArea"},{"attributes":{},"id":"3269","type":"SaveTool"},{"attributes":{"source":{"id":"3282"}},"id":"3287","type":"CDSView"},{"attributes":{"source":{"id":"3299"}},"id":"3304","type":"CDSView"},{"attributes":{},"id":"3255","type":"DataRange1d"},{"attributes":{"fill_color":"#8da0cb","x":{"field":"_index_col"},"y1":{"expr":{"id":"3280"}},"y2":{"expr":{"id":"3281"}}},"id":"3319","type":"VArea"},{"attributes":{},"id":"3335","type":"UnionRenderers"},{"attributes":{"label":{"value":"y2"},"renderers":[{"id":"3321"}]},"id":"3336","type":"LegendItem"},{"attributes":{"label":{"value":"y0"},"renderers":[{"id":"3286"}]},"id":"3298","type":"LegendItem"},{"attributes":{"formatter":{"id":"3289"},"major_label_policy":{"id":"3290"},"ticker":{"id":"3266"}},"id":"3265","type":"LinearAxis"},{"attributes":{"items":[{"id":"3336"},{"id":"3316"},{"id":"3298"}]},"id":"3297","type":"Legend"},{"attributes":{"fields":[]},"id":"3276","type":"Stack"}],"root_ids":["3250"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"684af700-fdf8-48b6-a176-2dda46809ea2","root_ids":["3250"],"roots":{"3250":"0df2d3c1-7d8f-47fe-bb0d-4f7b9ec83494"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="pie_figure" class="doc_header"><code>pie_figure</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L300" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>pie_figure</code>(<strong><code>data</code></strong>, <strong><code>title</code></strong>=<em><code>'pie'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>min_pct</code></strong>=<em><code>0.01</code></em>, <strong><code>others_name</code></strong>=<em><code>'OTHERS'</code></em>, <strong><code>legend_orientation</code></strong>=<em><code>'horizontal'</code></em>, <strong><code>legend_location</code></strong>=<em><code>'top_center'</code></em>, <strong><code>radius</code></strong>=<em><code>0.8</code></em>, <strong><code>pct_text_pad</code></strong>=<em><code>100</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;United States&#39;</span><span class="p">:</span> <span class="mi">157</span><span class="p">,</span>
    <span class="s1">&#39;United Kingdom&#39;</span><span class="p">:</span> <span class="mi">93</span><span class="p">,</span>
    <span class="s1">&#39;Japan&#39;</span><span class="p">:</span> <span class="mi">89</span><span class="p">,</span>
    <span class="s1">&#39;China&#39;</span><span class="p">:</span> <span class="mi">63</span><span class="p">,</span>
    <span class="s1">&#39;Germany&#39;</span><span class="p">:</span> <span class="mi">44</span><span class="p">,</span>
    <span class="s1">&#39;India&#39;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="s1">&#39;Italy&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
    <span class="s1">&#39;Australia&#39;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span>
    <span class="s1">&#39;Brazil&#39;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
    <span class="s1">&#39;France&#39;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
    <span class="s1">&#39;Taiwan&#39;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
    <span class="s1">&#39;Spain&#39;</span><span class="p">:</span> <span class="mi">29</span>
<span class="p">}</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">pie_figure</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="eda66e77-52cb-4b3b-989d-3bbf6412d575" data-root-id="3576"></div>

</div>

</div>

<div class="output_area">




<div id="389b3fd3-257e-488f-9c95-1f4a1d56dc22"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#389b3fd3-257e-488f-9c95-1f4a1d56dc22');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"8c4841fc-c33e-491c-9f5d-34aa2e404a57":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"3587"}],"center":[{"id":"3590"},{"id":"3594"},{"id":"3621"},{"id":"3625"}],"left":[{"id":"3591"}],"renderers":[{"id":"3610"}],"title":{"id":"3577"},"toolbar":{"id":"3599"},"toolbar_location":"above","x_range":{"id":"3579"},"x_scale":{"id":"3583"},"y_range":{"id":"3581"},"y_scale":{"id":"3585"}},"id":"3576","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"3579","type":"DataRange1d"},{"attributes":{"axis_label":null,"formatter":{"id":"3616"},"major_label_policy":{"id":"3617"},"ticker":{"id":"3588"},"visible":false},"id":"3587","type":"LinearAxis"},{"attributes":{},"id":"3588","type":"BasicTicker"},{"attributes":{},"id":"3613","type":"BasicTickFormatter"},{"attributes":{"end_angle":{"expr":{"id":"3605"}},"fill_color":{"field":"color"},"line_color":{"value":"white"},"radius":{"value":0.8},"start_angle":{"expr":{"id":"3604"}},"x":{"value":0},"y":{"value":1}},"id":"3608","type":"Wedge"},{"attributes":{},"id":"3614","type":"AllLabels"},{"attributes":{"field":"angle"},"id":"3605","type":"CumSum"},{"attributes":{"text":"pie"},"id":"3577","type":"Title"},{"attributes":{"field":"angle","include_zero":true},"id":"3623","type":"CumSum"},{"attributes":{"source":{"id":"3606"}},"id":"3611","type":"CDSView"},{"attributes":{},"id":"3616","type":"BasicTickFormatter"},{"attributes":{},"id":"3596","type":"ResetTool"},{"attributes":{},"id":"3809","type":"UnionRenderers"},{"attributes":{"items":[{"id":"3622"}],"location":"top_center","orientation":"horizontal"},"id":"3621","type":"Legend"},{"attributes":{},"id":"3617","type":"AllLabels"},{"attributes":{},"id":"3585","type":"LinearScale"},{"attributes":{},"id":"3583","type":"LinearScale"},{"attributes":{"axis_label":null,"formatter":{"id":"3613"},"major_label_policy":{"id":"3614"},"ticker":{"id":"3592"},"visible":false},"id":"3591","type":"LinearAxis"},{"attributes":{"active_multi":null,"tools":[{"id":"3595"},{"id":"3596"},{"id":"3597"},{"id":"3598"}]},"id":"3599","type":"Toolbar"},{"attributes":{"data":{"angle":{"__ndarray__":"eQLEMwAC9z+3V8R09kHrP+QcmNXVFeo/hZ74ygF34j8vDs2tzcrZP1vToA6tntg/iJh0b4xy1z93BYbhOoTUPzmtw/IJwtI/0I8to/kr0j/Qjy2j+SvSP/xUAQTZ/9A/","dtype":"float64","order":"little","shape":[12]},"color":["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94"],"index":[0,1,2,3,4,5,6,7,8,9,10,11],"percentage":["                                                                                               22.9%","                                                                                               13.6%","                                                                                               13.0%","                                                                                                9.2%","                                                                                                6.4%","                                                                                                6.1%","                                                                                                5.8%","                                                                                                5.1%","                                                                                                4.7%","                                                                                                4.5%","                                                                                                4.5%","                                                                                                4.2%"],"x":["United States","United Kingdom","Japan","China","Germany","India","Italy","Australia","Brazil","France","Taiwan","Spain"],"y":[157,93,89,63,44,42,40,35,32,31,31,29]},"selected":{"id":"3808"},"selection_policy":{"id":"3809"}},"id":"3624","type":"ColumnDataSource"},{"attributes":{"end_angle":{"expr":{"id":"3605"}},"fill_alpha":{"value":0.1},"fill_color":{"field":"color"},"line_alpha":{"value":0.1},"line_color":{"value":"white"},"radius":{"value":0.8},"start_angle":{"expr":{"id":"3604"}},"x":{"value":0},"y":{"value":1}},"id":"3609","type":"Wedge"},{"attributes":{},"id":"3581","type":"DataRange1d"},{"attributes":{"field":"angle","include_zero":true},"id":"3604","type":"CumSum"},{"attributes":{"axis":{"id":"3587"},"grid_line_color":null,"ticker":null},"id":"3590","type":"Grid"},{"attributes":{"angle":{"expr":{"id":"3623"}},"source":{"id":"3624"},"text":{"field":"percentage"},"text_align":{"value":"center"},"x":{"value":0},"y":{"value":1}},"id":"3625","type":"LabelSet"},{"attributes":{"data_source":{"id":"3606"},"glyph":{"id":"3608"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"3609"},"view":{"id":"3611"}},"id":"3610","type":"GlyphRenderer"},{"attributes":{"axis":{"id":"3591"},"dimension":1,"grid_line_color":null,"ticker":null},"id":"3594","type":"Grid"},{"attributes":{},"id":"3592","type":"BasicTicker"},{"attributes":{},"id":"3808","type":"Selection"},{"attributes":{"callback":null,"tooltips":[["category","@x"],["count","@y"],["percentage","@percentage"]]},"id":"3598","type":"HoverTool"},{"attributes":{},"id":"3597","type":"PanTool"},{"attributes":{},"id":"3619","type":"Selection"},{"attributes":{},"id":"3595","type":"SaveTool"},{"attributes":{},"id":"3620","type":"UnionRenderers"},{"attributes":{"data":{"angle":{"__ndarray__":"eQLEMwAC9z+3V8R09kHrP+QcmNXVFeo/hZ74ygF34j8vDs2tzcrZP1vToA6tntg/iJh0b4xy1z93BYbhOoTUPzmtw/IJwtI/0I8to/kr0j/Qjy2j+SvSP/xUAQTZ/9A/","dtype":"float64","order":"little","shape":[12]},"color":["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94"],"index":[0,1,2,3,4,5,6,7,8,9,10,11],"percentage":["                                                                                               22.9%","                                                                                               13.6%","                                                                                               13.0%","                                                                                                9.2%","                                                                                                6.4%","                                                                                                6.1%","                                                                                                5.8%","                                                                                                5.1%","                                                                                                4.7%","                                                                                                4.5%","                                                                                                4.5%","                                                                                                4.2%"],"x":["United States","United Kingdom","Japan","China","Germany","India","Italy","Australia","Brazil","France","Taiwan","Spain"],"y":[157,93,89,63,44,42,40,35,32,31,31,29]},"selected":{"id":"3619"},"selection_policy":{"id":"3620"}},"id":"3606","type":"ColumnDataSource"},{"attributes":{"label":{"field":"x"},"renderers":[{"id":"3610"}]},"id":"3622","type":"LegendItem"}],"root_ids":["3576"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"8c4841fc-c33e-491c-9f5d-34aa2e404a57","root_ids":["3576"],"roots":{"3576":"eda66e77-52cb-4b3b-989d-3bbf6412d575"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="datatable_from_dataframe" class="doc_header"><code>datatable_from_dataframe</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L337" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>datatable_from_dataframe</code>(<strong><code>df</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">datatable_from_dataframe</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="cce76d59-5770-4007-a49d-3868fe3b86b1" data-root-id="11471"></div>

</div>

</div>

<div class="output_area">




<div id="455d5aad-679a-4ce6-b466-bea4599d31d4"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#455d5aad-679a-4ce6-b466-bea4599d31d4');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"0fbe2990-fecd-4018-a377-bc3afefc369c":{"defs":[],"roots":{"references":[{"attributes":{"columns":[{"id":"11467"},{"id":"11468"},{"id":"11469"}],"source":{"id":"11470"},"view":{"id":"11473"}},"id":"11471","type":"DataTable"},{"attributes":{},"id":"11845","type":"Selection"},{"attributes":{"source":{"id":"11470"}},"id":"11473","type":"CDSView"},{"attributes":{},"id":"11851","type":"StringFormatter"},{"attributes":{"editor":{"id":"11848"},"field":"y0","formatter":{"id":"11847"},"title":"y0"},"id":"11467","type":"TableColumn"},{"attributes":{},"id":"11846","type":"UnionRenderers"},{"attributes":{},"id":"11852","type":"StringEditor"},{"attributes":{"data":{"_index_col":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"y0":[44,77,64,17,30,87,86,79,54,54,98,24,44,24,72],"y1":[99,17,97,36,13,77,26,43,68,16,80,82,18,12,74],"y2":[87,95,90,76,96,74,68,35,24,70,19,57,72,40,20]},"selected":{"id":"11845"},"selection_policy":{"id":"11846"}},"id":"11470","type":"ColumnDataSource"},{"attributes":{"editor":{"id":"11852"},"field":"y2","formatter":{"id":"11851"},"title":"y2"},"id":"11469","type":"TableColumn"},{"attributes":{"editor":{"id":"11850"},"field":"y1","formatter":{"id":"11849"},"title":"y1"},"id":"11468","type":"TableColumn"},{"attributes":{},"id":"11850","type":"StringEditor"},{"attributes":{},"id":"11847","type":"StringFormatter"},{"attributes":{},"id":"11849","type":"StringFormatter"},{"attributes":{},"id":"11848","type":"StringEditor"}],"root_ids":["11471"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"0fbe2990-fecd-4018-a377-bc3afefc369c","root_ids":["11471"],"roots":{"11471":"cce76d59-5770-4007-a49d-3868fe3b86b1"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="bar_mixed_figure" class="doc_header"><code>bar_mixed_figure</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L345" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>bar_mixed_figure</code>(<strong><code>df</code></strong>, <strong><code>group_keys</code></strong>:<code>list</code>, <strong><code>y_column_name</code></strong>, <strong><code>label_angle</code></strong>=<em><code>0</code></em>, <strong><code>agg_method</code></strong>=<em><code>'sum'</code></em>, <strong><code>tools</code></strong>=<em><code>'save,reset,pan'</code></em>, <strong><code>title</code></strong>=<em><code>'mixed bar'</code></em>, <strong><code>toolbar_location</code></strong>=<em><code>'above'</code></em>, <strong><code>draw_mean_line</code></strong>=<em><code>False</code></em>, <strong><code>line_alpha</code></strong>=<em><code>0.8</code></em>, <strong><code>line_legend_orientation</code></strong>=<em><code>'vertical'</code></em>, <strong><code>line_legend_location</code></strong>=<em><code>'top_center'</code></em>, <strong><code>label_offset_kwargs</code></strong>=<em><code>{'x_offset': -8, 'y_offset': 2}</code></em>, <strong><code>line_legend_label</code></strong>=<em><code>'平均值'</code></em>, <strong><code>line_color</code></strong>=<em><code>'#4292c6'</code></em>, <strong><code>hide_line_legend</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fruits_data_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Apples&#39;</span><span class="p">,</span> <span class="s1">&#39;Pears&#39;</span><span class="p">,</span> <span class="s1">&#39;Nectarines&#39;</span><span class="p">,</span> <span class="s1">&#39;Plums&#39;</span><span class="p">,</span> <span class="s1">&#39;Grapes&#39;</span><span class="p">,</span> <span class="s1">&#39;Strawberries&#39;</span><span class="p">]</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;2019&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
    <span class="s1">&#39;2020&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
    <span class="s1">&#39;2021&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="p">}</span>
<span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">fruit</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="n">year</span><span class="p">]):</span>
        <span class="n">fruits_data_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">fruit</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">val</span><span class="p">])</span>
<span class="n">fruits_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">fruits_data_list</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">bar_mixed_figure</span><span class="p">(</span><span class="n">fruits_df</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;fruit&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">draw_mean_line</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="32ed0b1c-6859-485e-854d-73478b2dd639" data-root-id="21838"></div>

</div>

</div>

<div class="output_area">




<div id="85855dd3-c6dc-47aa-92ef-91a36b53ca1c"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#85855dd3-c6dc-47aa-92ef-91a36b53ca1c');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"0d781f55-1467-467b-8512-ee41d604f3f7":{"defs":[],"roots":{"references":[{"attributes":{"below":[{"id":"21848"}],"center":[{"id":"21850"},{"id":"21854"},{"id":"21868"},{"id":"21886"}],"left":[{"id":"21851"}],"renderers":[{"id":"21866"},{"id":"21873"},{"id":"21891"}],"title":{"id":"21839"},"toolbar":{"id":"21858"},"toolbar_location":"above","x_range":{"id":"21837"},"x_scale":{"id":"21844"},"y_range":{"id":"21842"},"y_scale":{"id":"21846"}},"id":"21838","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"21883","type":"UnionRenderers"},{"attributes":{"source":{"id":"21870"}},"id":"21874","type":"CDSView"},{"attributes":{"formatter":{"id":"21879"},"major_label_orientation":1,"major_label_policy":{"id":"21880"},"ticker":{"id":"21849"}},"id":"21848","type":"CategoricalAxis"},{"attributes":{"label":{"value":"\u5e73\u5747\u503c"},"renderers":[{"id":"21873"},{"id":"21891"}]},"id":"21887","type":"LegendItem"},{"attributes":{},"id":"21880","type":"AllLabels"},{"attributes":{},"id":"21849","type":"CategoricalTicker"},{"attributes":{},"id":"21856","type":"ResetTool"},{"attributes":{"items":[{"id":"21887"}],"location":"top_center","visible":false},"id":"21886","type":"Legend"},{"attributes":{},"id":"21879","type":"CategoricalTickFormatter"},{"attributes":{"fill_alpha":{"value":0.8},"fill_color":{"value":"white"},"line_alpha":{"value":0.8},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"21889","type":"Circle"},{"attributes":{"line_alpha":0.1,"line_color":"#4292c6","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"21872","type":"Line"},{"attributes":{"callback":null,"tooltips":[["mean","@y"]]},"id":"21906","type":"HoverTool"},{"attributes":{},"id":"21846","type":"LinearScale"},{"attributes":{},"id":"21857","type":"PanTool"},{"attributes":{"source":{"id":"21888"}},"id":"21892","type":"CDSView"},{"attributes":{"data":{"x":["Apples","Grapes","Nectarines","Pears","Plums","Strawberries"],"y":[3.3333333333333335,3.0,3.6666666666666665,2.0,3.0,5.0]},"selected":{"id":"21904"},"selection_policy":{"id":"21905"}},"id":"21888","type":"ColumnDataSource"},{"attributes":{"fill_color":{"field":"x","transform":{"id":"21862"}},"line_color":{"value":"white"},"top":{"field":"counts"},"width":{"value":0.9},"x":{"field":"x"}},"id":"21864","type":"VBar"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"field":"x","transform":{"id":"21862"}},"line_alpha":{"value":0.1},"line_color":{"value":"white"},"top":{"field":"counts"},"width":{"value":0.9},"x":{"field":"x"}},"id":"21865","type":"VBar"},{"attributes":{"axis":{"id":"21851"},"dimension":1,"ticker":null},"id":"21854","type":"Grid"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"size":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"21890","type":"Circle"},{"attributes":{},"id":"21855","type":"SaveTool"},{"attributes":{"data_source":{"id":"21870"},"glyph":{"id":"21871"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"21872"},"view":{"id":"21874"}},"id":"21873","type":"GlyphRenderer"},{"attributes":{"text":"mixed bar"},"id":"21839","type":"Title"},{"attributes":{"start":0},"id":"21842","type":"DataRange1d"},{"attributes":{"data_source":{"id":"21888"},"glyph":{"id":"21889"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"21890"},"view":{"id":"21892"}},"id":"21891","type":"GlyphRenderer"},{"attributes":{"level":"glyph","source":{"id":"21836"},"text":{"field":"counts"},"text_font_size":{"value":"9pt"},"x":{"field":"x"},"x_offset":{"value":-8},"y":{"field":"counts"},"y_offset":{"value":2}},"id":"21868","type":"LabelSet"},{"attributes":{"formatter":{"id":"21876"},"major_label_policy":{"id":"21877"},"ticker":{"id":"21852"}},"id":"21851","type":"LinearAxis"},{"attributes":{},"id":"21884","type":"Selection"},{"attributes":{"axis":{"id":"21848"},"grid_line_color":null,"ticker":null},"id":"21850","type":"Grid"},{"attributes":{},"id":"21885","type":"UnionRenderers"},{"attributes":{},"id":"21882","type":"Selection"},{"attributes":{"line_alpha":0.8,"line_color":"#4292c6","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"21871","type":"Line"},{"attributes":{},"id":"21904","type":"Selection"},{"attributes":{"active_multi":null,"tools":[{"id":"21855"},{"id":"21856"},{"id":"21857"},{"id":"21906"}]},"id":"21858","type":"Toolbar"},{"attributes":{},"id":"21876","type":"BasicTickFormatter"},{"attributes":{"factors":[["Apples","2019"],["Apples","2020"],["Apples","2021"],["Grapes","2019"],["Grapes","2020"],["Nectarines","2019"],["Nectarines","2020"],["Nectarines","2021"],["Pears","2019"],["Pears","2020"],["Pears","2021"],["Plums","2019"],["Plums","2020"],["Plums","2021"],["Strawberries","2019"],["Strawberries","2020"]],"range_padding":0.1},"id":"21837","type":"FactorRange"},{"attributes":{"source":{"id":"21836"}},"id":"21867","type":"CDSView"},{"attributes":{},"id":"21877","type":"AllLabels"},{"attributes":{"end":2,"factors":["2019","2020","2021"],"palette":["#66c2a5","#fc8d62","#8da0cb"],"start":1},"id":"21862","type":"CategoricalColorMapper"},{"attributes":{},"id":"21905","type":"UnionRenderers"},{"attributes":{"data_source":{"id":"21836"},"glyph":{"id":"21864"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"21865"},"view":{"id":"21867"}},"id":"21866","type":"GlyphRenderer"},{"attributes":{},"id":"21844","type":"CategoricalScale"},{"attributes":{"data":{"x":["Apples","Grapes","Nectarines","Pears","Plums","Strawberries"],"y":[3.3333333333333335,3.0,3.6666666666666665,2.0,3.0,5.0]},"selected":{"id":"21884"},"selection_policy":{"id":"21885"}},"id":"21870","type":"ColumnDataSource"},{"attributes":{"data":{"counts":[2,5,3,2,4,4,3,4,1,3,2,3,2,4,4,6],"x":[["Apples","2019"],["Apples","2020"],["Apples","2021"],["Grapes","2019"],["Grapes","2020"],["Nectarines","2019"],["Nectarines","2020"],["Nectarines","2021"],["Pears","2019"],["Pears","2020"],["Pears","2021"],["Plums","2019"],["Plums","2020"],["Plums","2021"],["Strawberries","2019"],["Strawberries","2020"]]},"selected":{"id":"21882"},"selection_policy":{"id":"21883"}},"id":"21836","type":"ColumnDataSource"},{"attributes":{},"id":"21852","type":"BasicTicker"}],"root_ids":["21838"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"0d781f55-1467-467b-8512-ee41d604f3f7","root_ids":["21838"],"roots":{"21838":"32ed0b1c-6859-485e-854d-73478b2dd639"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="text_figure" class="doc_header"><code>text_figure</code><a href="https://github.com/JunxinGao/data_tool/tree/master/data_tool/visualize/bokeh.py#L390" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>text_figure</code>(<strong><code>text</code></strong>, <strong><code>plot_width</code></strong>=<em><code>600</code></em>, <strong><code>plot_height</code></strong>=<em><code>200</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Your text is initialized with the &#39;text&#39; argument.  The</span>
<span class="s2">remaining Paragraph arguments are &#39;width&#39; and &#39;height&#39;. For this example, those values</span>
<span class="s2">are 200 and 100, respectively.&quot;&quot;&quot;</span>
<span class="n">show</span><span class="p">(</span><span class="n">text_figure</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">plot_width</span><span class="o">=</span><span class="mi">800</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">






  <div class="bk-root" id="2ab93116-7349-4b9b-bbf5-1ef02b351f56" data-root-id="24309"></div>

</div>

</div>

<div class="output_area">




<div id="e2ec4f61-4627-47cd-a9aa-fb5f0ad41fdb"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#e2ec4f61-4627-47cd-a9aa-fb5f0ad41fdb');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"f6c350cd-20e0-4bc8-a222-64d76c9f0d53":{"defs":[],"roots":{"references":[{"attributes":{"height":200,"text":"Your text is initialized with the 'text' argument.  The\nremaining Paragraph arguments are 'width' and 'height'. For this example, those values\nare 200 and 100, respectively.","width":800},"id":"24309","type":"Paragraph"}],"root_ids":["24309"]},"title":"Bokeh Application","version":"2.3.3"}};
  var render_items = [{"docid":"f6c350cd-20e0-4bc8-a222-64d76c9f0d53","root_ids":["24309"],"roots":{"24309":"2ab93116-7349-4b9b-bbf5-1ef02b351f56"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

